// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/data/ConstData.h>
#include <kha/graphics4/VertexStructure.h>
#include <kha/arrays/ByteArrayPrivate.h>
#include <hl/natives.h>
hl__types__ArrayBytes_Float hl_types_ArrayBase_allocF64(vbyte*,int);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
extern hl_type t$kha_graphics4_VertexStructure;
void kha_graphics4_VertexStructure_new(kha__graphics4__VertexStructure);
extern String s$pos;
void kha_graphics4_VertexStructure_add(kha__graphics4__VertexStructure,String,int);
int kha_graphics4_VertexStructure_byteSize(kha__graphics4__VertexStructure);
extern hl_type t$kha_graphics4_VertexBuffer;
void kha_graphics4_VertexBuffer_new(kha__graphics4__VertexBuffer,int,kha__graphics4__VertexStructure,int,int*,bool*);
extern iron__data__$ConstData g$_iron_data_ConstData;
kha__arrays__ByteArrayPrivate kha_graphics4_VertexBuffer_lock(kha__graphics4__VertexBuffer,vdynamic*,vdynamic*);
void kha_graphics4_VertexBuffer_unlock(kha__graphics4__VertexBuffer,vdynamic*);
extern hl_type t$kha_graphics4_IndexBuffer;
void kha_graphics4_IndexBuffer_new(kha__graphics4__IndexBuffer,int,int,bool*);
kha__arrays__ByteArrayPrivate kha_graphics4_IndexBuffer_lock(kha__graphics4__IndexBuffer,vdynamic*,vdynamic*);
void kha_graphics4_IndexBuffer_unlock(kha__graphics4__IndexBuffer,vdynamic*);
extern String s$nor;

void iron_data_ConstData_createScreenAlignedData() {
	bool *r14;
	String r9;
	iron__data__$ConstData r15;
	int64 r28;
	hl__types__ArrayBytes_Int r6;
	kha__graphics4__VertexBuffer r12;
	kha__graphics4__IndexBuffer r27;
	kha__arrays__ByteArrayPrivate r16, r19;
	float r26;
	hl__types__ArrayBytes_Float r0;
	double r3, r10, r11, r20;
	vdynamic *r17, *r18;
	int *r13;
	kha__graphics4__VertexStructure r8;
	int r2, r4, r7, r21, r22, r23, r24;
	vbyte *r1, *r25;
	r2 = 48;
	r1 = hl_alloc_bytes(r2);
	r2 = 0;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = 3.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = 3.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r2 = 6;
	r0 = hl_types_ArrayBase_allocF64(r1,r2);
	r2 = 12;
	r1 = hl_alloc_bytes(r2);
	r2 = 0;
	r4 = 0;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r4 = 1;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r4 = 2;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r2 = 3;
	r6 = hl_types_ArrayBase_allocI32(r1,r2);
	r8 = (kha__graphics4__VertexStructure)hl_alloc_obj(&t$kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r8);
	r9 = (String)s$pos;
	r2 = 1;
	kha_graphics4_VertexStructure_add(r8,r9,r2);
	if( r0 == NULL ) hl_null_access();
	r2 = r0->length;
	r4 = kha_graphics4_VertexStructure_byteSize(r8);
	r3 = (double)r4;
	r10 = 4.;
	r3 = r3 / r10;
	r10 = (double)r2;
	r4 = (int)r3;
	r11 = (double)r4;
	r10 = r10 / r11;
	r12 = (kha__graphics4__VertexBuffer)hl_alloc_obj(&t$kha_graphics4_VertexBuffer);
	r4 = (int)r10;
	r7 = 0;
	r13 = NULL;
	r14 = NULL;
	kha_graphics4_VertexBuffer_new(r12,r4,r8,r7,r13,r14);
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r15->screenAlignedVB = r12;
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r12 = r15->screenAlignedVB;
	if( r12 == NULL ) hl_null_access();
	r17 = NULL;
	r18 = NULL;
	r16 = kha_graphics4_VertexBuffer_lock(r12,r17,r18);
	r4 = 0;
	if( r16 == NULL ) hl_null_access();
	r7 = r16->byteArrayLength;
	r11 = (double)r7;
	r20 = 4.;
	r11 = r11 / r20;
	r7 = (int)r11;
	label$7b5f280_1_91:
	if( r4 >= r7 ) goto label$7b5f280_1_113;
	r21 = r4;
	++r4;
	if( r16 == NULL ) hl_null_access();
	r1 = r16->self;
	r22 = r16->byteArrayOffset;
	r24 = 4;
	r23 = r21 * r24;
	r22 = r22 + r23;
	if( r0 == NULL ) hl_null_access();
	r24 = r0->length;
	if( ((unsigned)r21) < ((unsigned)r24) ) goto label$7b5f280_1_106;
	r20 = 0.;
	goto label$7b5f280_1_110;
	label$7b5f280_1_106:
	r25 = r0->bytes;
	r24 = 3;
	r24 = r21 << r24;
	r20 = *(double*)(r25 + r24);
	label$7b5f280_1_110:
	r26 = (float)r20;
	hl_kinc_bytearray_setfloat32(r1,r22,r26);
	goto label$7b5f280_1_91;
	label$7b5f280_1_113:
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r12 = r15->screenAlignedVB;
	if( r12 == NULL ) hl_null_access();
	r17 = NULL;
	kha_graphics4_VertexBuffer_unlock(r12,r17);
	r27 = (kha__graphics4__IndexBuffer)hl_alloc_obj(&t$kha_graphics4_IndexBuffer);
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r7 = 0;
	r14 = NULL;
	kha_graphics4_IndexBuffer_new(r27,r4,r7,r14);
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r15->screenAlignedIB = r27;
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r27 = r15->screenAlignedIB;
	if( r27 == NULL ) hl_null_access();
	r17 = NULL;
	r18 = NULL;
	r19 = kha_graphics4_IndexBuffer_lock(r27,r17,r18);
	r4 = 0;
	if( r19 == NULL ) hl_null_access();
	r7 = r19->byteArrayLength;
	r21 = 2;
	r7 = r7 >> r21;
	label$7b5f280_1_137:
	if( r4 >= r7 ) goto label$7b5f280_1_165;
	r21 = r4;
	++r4;
	if( r19 == NULL ) hl_null_access();
	r1 = r19->self;
	r22 = r19->byteArrayOffset;
	r24 = 4;
	r23 = r21 * r24;
	r22 = r22 + r23;
	if( r6 == NULL ) hl_null_access();
	r24 = r6->length;
	if( ((unsigned)r21) < ((unsigned)r24) ) goto label$7b5f280_1_152;
	r23 = 0;
	goto label$7b5f280_1_156;
	label$7b5f280_1_152:
	r25 = r6->bytes;
	r24 = 2;
	r24 = r21 << r24;
	r23 = *(int*)(r25 + r24);
	label$7b5f280_1_156:
	r28 = (int)r23;
	hl_kinc_bytearray_setuint32(r1,r22,r28);
	r1 = r19->self;
	r22 = r19->byteArrayOffset;
	r24 = 4;
	r23 = r21 * r24;
	r22 = r22 + r23;
	r28 = hl_kinc_bytearray_getuint32(r1,r22);
	goto label$7b5f280_1_137;
	label$7b5f280_1_165:
	r15 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r27 = r15->screenAlignedIB;
	if( r27 == NULL ) hl_null_access();
	r17 = NULL;
	kha_graphics4_IndexBuffer_unlock(r27,r17);
	return;
}

void iron_data_ConstData_createSkydomeData() {
	bool *r14;
	String r5;
	iron__data__$ConstData r1;
	int64 r29;
	hl__types__ArrayBytes_Int r27;
	kha__graphics4__VertexBuffer r11;
	kha__graphics4__IndexBuffer r28;
	kha__arrays__ByteArrayPrivate r15, r18;
	float r26;
	hl__types__ArrayBytes_Float r0, r3;
	double r7, r8, r10, r19;
	vdynamic *r16, *r17;
	int *r13;
	vbyte *r22, *r25;
	int r6, r9, r12, r20, r21, r23, r24;
	kha__graphics4__VertexStructure r4;
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r0 = r1->skydomePos;
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r3 = r1->skydomeNor;
	r4 = (kha__graphics4__VertexStructure)hl_alloc_obj(&t$kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r4);
	r5 = (String)s$pos;
	r6 = 2;
	kha_graphics4_VertexStructure_add(r4,r5,r6);
	r5 = (String)s$nor;
	r6 = 2;
	kha_graphics4_VertexStructure_add(r4,r5,r6);
	r6 = kha_graphics4_VertexStructure_byteSize(r4);
	r7 = (double)r6;
	r8 = 4.;
	r7 = r7 / r8;
	r6 = (int)r7;
	if( r0 == NULL ) hl_null_access();
	r9 = r0->length;
	r8 = (double)r9;
	r10 = 3.;
	r8 = r8 / r10;
	r11 = (kha__graphics4__VertexBuffer)hl_alloc_obj(&t$kha_graphics4_VertexBuffer);
	r9 = (int)r8;
	r12 = 0;
	r13 = NULL;
	r14 = NULL;
	kha_graphics4_VertexBuffer_new(r11,r9,r4,r12,r13,r14);
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r1->skydomeVB = r11;
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r11 = r1->skydomeVB;
	if( r11 == NULL ) hl_null_access();
	r16 = NULL;
	r17 = NULL;
	r15 = kha_graphics4_VertexBuffer_lock(r11,r16,r17);
	r9 = 0;
	if( r15 == NULL ) hl_null_access();
	r12 = r15->byteArrayLength;
	r10 = (double)r12;
	r19 = 4.;
	r10 = r10 / r19;
	r19 = (double)r6;
	r10 = r10 / r19;
	r12 = (int)r10;
	label$7b5f280_2_45:
	if( r9 >= r12 ) goto label$7b5f280_2_179;
	r20 = r9;
	++r9;
	if( r15 == NULL ) hl_null_access();
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	if( r0 == NULL ) hl_null_access();
	r24 = 3;
	r23 = r20 * r24;
	r24 = r0->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_63;
	r19 = 0.;
	goto label$7b5f280_2_67;
	label$7b5f280_2_63:
	r25 = r0->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_67:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 1;
	r23 = r23 + r24;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	r24 = 3;
	r23 = r20 * r24;
	r24 = 1;
	r23 = r23 + r24;
	r24 = r0->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_85;
	r19 = 0.;
	goto label$7b5f280_2_89;
	label$7b5f280_2_85:
	r25 = r0->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_89:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 2;
	r23 = r23 + r24;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	r24 = 3;
	r23 = r20 * r24;
	r24 = 2;
	r23 = r23 + r24;
	r24 = r0->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_107;
	r19 = 0.;
	goto label$7b5f280_2_111;
	label$7b5f280_2_107:
	r25 = r0->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_111:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 3;
	r23 = r23 + r24;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	if( r3 == NULL ) hl_null_access();
	r24 = 3;
	r23 = r20 * r24;
	r24 = r3->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_128;
	r19 = 0.;
	goto label$7b5f280_2_132;
	label$7b5f280_2_128:
	r25 = r3->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_132:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 4;
	r23 = r23 + r24;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	r24 = 3;
	r23 = r20 * r24;
	r24 = 1;
	r23 = r23 + r24;
	r24 = r3->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_150;
	r19 = 0.;
	goto label$7b5f280_2_154;
	label$7b5f280_2_150:
	r25 = r3->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_154:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	r22 = r15->self;
	r21 = r15->byteArrayOffset;
	r23 = r20 * r6;
	r24 = 5;
	r23 = r23 + r24;
	r24 = 4;
	r23 = r23 * r24;
	r21 = r21 + r23;
	r24 = 3;
	r23 = r20 * r24;
	r24 = 2;
	r23 = r23 + r24;
	r24 = r3->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$7b5f280_2_172;
	r19 = 0.;
	goto label$7b5f280_2_176;
	label$7b5f280_2_172:
	r25 = r3->bytes;
	r24 = 3;
	r24 = r23 << r24;
	r19 = *(double*)(r25 + r24);
	label$7b5f280_2_176:
	r26 = (float)r19;
	hl_kinc_bytearray_setfloat32(r22,r21,r26);
	goto label$7b5f280_2_45;
	label$7b5f280_2_179:
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r11 = r1->skydomeVB;
	if( r11 == NULL ) hl_null_access();
	r16 = NULL;
	kha_graphics4_VertexBuffer_unlock(r11,r16);
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r27 = r1->skydomeIndices;
	r28 = (kha__graphics4__IndexBuffer)hl_alloc_obj(&t$kha_graphics4_IndexBuffer);
	if( r27 == NULL ) hl_null_access();
	r9 = r27->length;
	r12 = 0;
	r14 = NULL;
	kha_graphics4_IndexBuffer_new(r28,r9,r12,r14);
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r1->skydomeIB = r28;
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r28 = r1->skydomeIB;
	if( r28 == NULL ) hl_null_access();
	r16 = NULL;
	r17 = NULL;
	r18 = kha_graphics4_IndexBuffer_lock(r28,r16,r17);
	r9 = 0;
	if( r18 == NULL ) hl_null_access();
	r12 = r18->byteArrayLength;
	r20 = 2;
	r12 = r12 >> r20;
	label$7b5f280_2_205:
	if( r9 >= r12 ) goto label$7b5f280_2_233;
	r20 = r9;
	++r9;
	if( r18 == NULL ) hl_null_access();
	r22 = r18->self;
	r21 = r18->byteArrayOffset;
	r24 = 4;
	r23 = r20 * r24;
	r21 = r21 + r23;
	if( r27 == NULL ) hl_null_access();
	r24 = r27->length;
	if( ((unsigned)r20) < ((unsigned)r24) ) goto label$7b5f280_2_220;
	r23 = 0;
	goto label$7b5f280_2_224;
	label$7b5f280_2_220:
	r25 = r27->bytes;
	r24 = 2;
	r24 = r20 << r24;
	r23 = *(int*)(r25 + r24);
	label$7b5f280_2_224:
	r29 = (int)r23;
	hl_kinc_bytearray_setuint32(r22,r21,r29);
	r22 = r18->self;
	r21 = r18->byteArrayOffset;
	r24 = 4;
	r23 = r20 * r24;
	r21 = r21 + r23;
	r29 = hl_kinc_bytearray_getuint32(r22,r21);
	goto label$7b5f280_2_205;
	label$7b5f280_2_233:
	r1 = (iron__data__$ConstData)g$_iron_data_ConstData;
	r28 = r1->skydomeIB;
	if( r28 == NULL ) hl_null_access();
	r16 = NULL;
	kha_graphics4_IndexBuffer_unlock(r28,r16);
	return;
}

