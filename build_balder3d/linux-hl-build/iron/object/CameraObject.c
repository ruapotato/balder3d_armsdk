// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/object/CameraObject.h>
#include <kha/arrays/ByteArrayPrivate.h>
#include <iron/data/TCameraData.h>
#include <iron/App.h>
#include <hl/natives.h>
extern hl_type t$iron_math_Mat4;
void iron_math_Mat4_new(iron__math__Mat4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
extern iron__$App g$_iron_App;
extern hl_type t$_f64;
extern hl_type t$_f32;
#include <iron/Scene.h>
extern iron__$Scene g$_iron_Scene;
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
void iron_object_Object_remove(iron__object__Object);
#include <kha/graphics4/VertexBuffer.h>
#include <kha/graphics4/PipelineState.h>
#include <kha/math/FastMatrix3.h>
#include <kha/math/FastMatrix4.h>
#include <kha/graphics4/IndexBuffer.h>
#include <iron/RenderPath.h>
void iron_object_CameraObject_buildMatrix(iron__object__CameraObject);
extern iron__$RenderPath g$_iron_RenderPath;
void iron_RenderPath_renderFrame(iron__RenderPath,vvirtual*);
void iron_object_Transform_buildMatrix(iron__object__Transform);
extern iron__object__$CameraObject g$_iron_object_CameraObject;
void iron_object_CameraObject_buildViewFrustum(iron__math__Mat4,hl__types__ArrayObj);
#include <iron/object/FrustumPlane.h>
void iron_object_FrustumPlane_normalize(iron__object__FrustumPlane);
double iron_object_FrustumPlane_distanceToSphere(iron__object__FrustumPlane,iron__math__Vec4,double);
void iron_object_Object_new(iron__object__Object);
extern hl_type t$iron_object_FrustumPlane;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void iron_object_FrustumPlane_new(iron__object__FrustumPlane);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);

void iron_object_CameraObject_buildProjection(iron__object__CameraObject r0,vdynamic* r1) {
	iron__$App r45;
	iron__data__TCameraData r4;
	iron__data__CameraData r5;
	kha__arrays__ByteArrayPrivate r3, r8, r11, r14;
	iron__math__Mat4 r27;
	float r6, r10, r13, r15, r16, r17, r18, r19, r20, r21, r23, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40, r41, r42;
	vclosure *r44;
	double r22, r24, r25, r26, r28;
	vdynamic *r43, *r46;
	int r9, r12;
	vbyte *r7;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->ortho;
	if( !r3 ) goto label$25f1553_1_115;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->ortho;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	r9 = r3->byteArrayOffset;
	r6 = hl_kinc_bytearray_getfloat32(r7,r9);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r8 = r4->ortho;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	r9 = r8->byteArrayOffset;
	r12 = 4;
	r9 = r9 + r12;
	r10 = hl_kinc_bytearray_getfloat32(r7,r9);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r11 = r4->ortho;
	if( r11 == NULL ) hl_null_access();
	r7 = r11->self;
	r9 = r11->byteArrayOffset;
	r12 = 8;
	r9 = r9 + r12;
	r13 = hl_kinc_bytearray_getfloat32(r7,r9);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r14 = r4->ortho;
	if( r14 == NULL ) hl_null_access();
	r7 = r14->self;
	r9 = r14->byteArrayOffset;
	r12 = 12;
	r9 = r9 + r12;
	r15 = hl_kinc_bytearray_getfloat32(r7,r9);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r16 = r4->near_plane;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r17 = r4->far_plane;
	r18 = r10 - r6;
	r19 = r15 - r13;
	r20 = r17 - r16;
	r21 = r10 + r6;
	r21 = -r21;
	r22 = (double)r21;
	r24 = (double)r18;
	r22 = r22 / r24;
	r21 = r15 + r13;
	r21 = -r21;
	r24 = (double)r21;
	r25 = (double)r19;
	r24 = r24 / r25;
	r21 = r17 + r16;
	r21 = -r21;
	r25 = (double)r21;
	r26 = (double)r20;
	r25 = r25 / r26;
	r27 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	r26 = 2.;
	r28 = (double)r18;
	r26 = r26 / r28;
	r21 = (float)r26;
	r9 = 0;
	r23 = (float)r9;
	r9 = 0;
	r29 = (float)r9;
	r30 = (float)r22;
	r9 = 0;
	r31 = (float)r9;
	r26 = 2.;
	r28 = (double)r19;
	r26 = r26 / r28;
	r32 = (float)r26;
	r9 = 0;
	r33 = (float)r9;
	r34 = (float)r24;
	r9 = 0;
	r35 = (float)r9;
	r9 = 0;
	r36 = (float)r9;
	r26 = -2.;
	r28 = (double)r20;
	r26 = r26 / r28;
	r37 = (float)r26;
	r38 = (float)r25;
	r9 = 0;
	r39 = (float)r9;
	r9 = 0;
	r40 = (float)r9;
	r9 = 0;
	r41 = (float)r9;
	r9 = 1;
	r42 = (float)r9;
	iron_math_Mat4_new(r27,r21,r23,r29,r30,r31,r32,r33,r34,r35,r36,r37,r38,r39,r40,r41,r42);
	r0->P = r27;
	goto label$25f1553_1_215;
	label$25f1553_1_115:
	if( r1 ) goto label$25f1553_1_129;
	r45 = (iron__$App)g$_iron_App;
	r44 = r45->w;
	if( r44 == NULL ) hl_null_access();
	r9 = r44->hasValue ? ((int (*)(vdynamic*))r44->fun)((vdynamic*)r44->value) : ((int (*)(void))r44->fun)();
	r22 = (double)r9;
	r45 = (iron__$App)g$_iron_App;
	r44 = r45->h;
	if( r44 == NULL ) hl_null_access();
	r9 = r44->hasValue ? ((int (*)(vdynamic*))r44->fun)((vdynamic*)r44->value) : ((int (*)(void))r44->fun)();
	r24 = (double)r9;
	r22 = r22 / r24;
	r43 = hl_alloc_dynamic(&t$_f64);
	r43->v.d = r22;
	r1 = r43;
	label$25f1553_1_129:
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r46 = r4->aspect;
	if( !r46 ) goto label$25f1553_1_141;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r46 = r4->aspect;
	goto label$25f1553_1_147;
	label$25f1553_1_141:
	if( !r1 ) goto label$25f1553_1_146;
	r22 = r1 ? r1->v.d : 0;
	r6 = (float)r22;
	r46 = hl_alloc_dynamic(&t$_f32);
	r46->v.f = r6;
	goto label$25f1553_1_147;
	label$25f1553_1_146:
	r46 = NULL;
	label$25f1553_1_147:
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->near_plane;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r10 = r4->far_plane;
	r22 = 1.;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->raw;
	if( r4 == NULL ) hl_null_access();
	r13 = r4->fov;
	r24 = (double)r13;
	r25 = 2.;
	r24 = r24 / r25;
	r24 = hl_math_tan(r24);
	r22 = r22 / r24;
	r13 = r46 ? r46->v.f : 0;
	r25 = (double)r13;
	r24 = r22 / r25;
	r27 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	r13 = (float)r24;
	r9 = 0;
	r15 = (float)r9;
	r9 = 0;
	r16 = (float)r9;
	r9 = 0;
	r17 = (float)r9;
	r9 = 0;
	r18 = (float)r9;
	r19 = (float)r22;
	r9 = 0;
	r20 = (float)r9;
	r9 = 0;
	r21 = (float)r9;
	r9 = 0;
	r23 = (float)r9;
	r9 = 0;
	r29 = (float)r9;
	r30 = r10 + r6;
	r25 = (double)r30;
	r30 = r6 - r10;
	r26 = (double)r30;
	r25 = r25 / r26;
	r30 = (float)r25;
	r9 = 2;
	r31 = (float)r9;
	r31 = r31 * r10;
	r31 = r31 * r6;
	r25 = (double)r31;
	r31 = r6 - r10;
	r26 = (double)r31;
	r25 = r25 / r26;
	r31 = (float)r25;
	r9 = 0;
	r32 = (float)r9;
	r9 = 0;
	r33 = (float)r9;
	r9 = -1;
	r34 = (float)r9;
	r9 = 0;
	r35 = (float)r9;
	iron_math_Mat4_new(r27,r13,r15,r16,r17,r18,r19,r20,r21,r23,r29,r30,r31,r32,r33,r34,r35);
	r0->P = r27;
	label$25f1553_1_215:
	return;
}

void iron_object_CameraObject_remove(iron__object__CameraObject r0) {
	hl__types__ArrayObj r2;
	iron__$Scene r4;
	iron__Scene r3;
	bool r1;
	r4 = (iron__$Scene)g$_iron_Scene;
	r3 = r4->active;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->cameras;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayObj_remove(r2,((vdynamic*)r0));
	iron_object_Object_remove(((iron__object__Object)r0));
	return;
}

void iron_object_CameraObject_renderFrame(iron__object__CameraObject r0,vvirtual* r1) {
	iron__$RenderPath r4;
	kha__math__FastMatrix4 r7, r9;
	float r8;
	iron__math__Mat4 r5, r6;
	iron__RenderPath r3;
	iron_object_CameraObject_buildMatrix(r0);
	r4 = (iron__$RenderPath)g$_iron_RenderPath;
	r3 = r4->active;
	if( r3 == NULL ) hl_null_access();
	iron_RenderPath_renderFrame(r3,r1);
	r5 = r0->prevV;
	r6 = r0->V;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_00;
	r7->_00 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_01;
	r7->_01 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_02;
	r7->_02 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_03;
	r7->_03 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_10;
	r7->_10 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_11;
	r7->_11 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_12;
	r7->_12 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_13;
	r7->_13 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_20;
	r7->_20 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_21;
	r7->_21 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_22;
	r7->_22 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_23;
	r7->_23 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_30;
	r7->_30 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_31;
	r7->_31 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_32;
	r7->_32 = r8;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_33;
	r7->_33 = r8;
	return;
}

void iron_object_CameraObject_buildMatrix(iron__object__CameraObject r0) {
	hl__types__ArrayObj r51;
	bool r50;
	kha__math__FastMatrix4 r6, r52;
	iron__math__Vec4 r13;
	iron__data__TCameraData r48;
	iron__object__$CameraObject r14;
	iron__object__Transform r2;
	iron__data__CameraData r49;
	float r5, r8, r9, r10, r11, r15, r16, r18, r19, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40, r41, r42, r43, r44, r45, r46;
	iron__math__Mat4 r3, r7, r17, r20;
	double r4, r12;
	vdynamic *r47;
	r2 = r0->transform;
	if( r2 == NULL ) hl_null_access();
	iron_object_Transform_buildMatrix(r2);
	r2 = r0->transform;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->world;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->_00;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->_00;
	r5 = r5 * r8;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->_10;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_10;
	r8 = r8 * r9;
	r5 = r5 + r8;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->_20;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_20;
	r8 = r8 * r9;
	r5 = r5 + r8;
	r4 = (double)r5;
	r4 = hl_math_sqrt(r4);
	r5 = (float)r4;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->_01;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_01;
	r8 = r8 * r9;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_11;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->_11;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_21;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->_21;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r4 = (double)r8;
	r4 = hl_math_sqrt(r4);
	r8 = (float)r4;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->_02;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->_02;
	r9 = r9 * r10;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->_12;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->_12;
	r10 = r10 * r11;
	r9 = r9 + r10;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->_22;
	r6 = r3->self;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->_22;
	r10 = r10 * r11;
	r9 = r9 + r10;
	r4 = (double)r9;
	r4 = hl_math_sqrt(r4);
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = (double)r5;
	r12 = 1.;
	if( r4 != r12 ) goto label$25f1553_4_96;
	r4 = (double)r8;
	r12 = 1.;
	if( r4 != r12 ) goto label$25f1553_4_96;
	r4 = (double)r9;
	r12 = 1.;
	if( r4 == r12 ) goto label$25f1553_4_187;
	label$25f1553_4_96:
	r14 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r13 = r14->temp;
	if( r13 == NULL ) hl_null_access();
	r4 = 1.;
	r12 = (double)r5;
	r4 = r4 / r12;
	r11 = (float)r4;
	r13->x = r11;
	r4 = 1.;
	r12 = (double)r8;
	r4 = r4 / r12;
	r11 = (float)r4;
	r13->y = r11;
	r4 = 1.;
	r12 = (double)r9;
	r4 = r4 / r12;
	r11 = (float)r4;
	r13->z = r11;
	r4 = 1.;
	r11 = (float)r4;
	r13->w = r11;
	r2 = r0->transform;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->world;
	r14 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r13 = r14->temp;
	if( r13 == NULL ) hl_null_access();
	r11 = r13->x;
	r15 = r13->y;
	r16 = r13->z;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_00;
	r18 = r18 * r11;
	r6->_00 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_01;
	r18 = r18 * r11;
	r6->_01 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_02;
	r18 = r18 * r11;
	r6->_02 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_03;
	r18 = r18 * r11;
	r6->_03 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_10;
	r18 = r18 * r15;
	r6->_10 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_11;
	r18 = r18 * r15;
	r6->_11 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_12;
	r18 = r18 * r15;
	r6->_12 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_13;
	r18 = r18 * r15;
	r6->_13 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_20;
	r18 = r18 * r16;
	r6->_20 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_21;
	r18 = r18 * r16;
	r6->_21 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_22;
	r18 = r18 * r16;
	r6->_22 = r18;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_23;
	r18 = r18 * r16;
	r6->_23 = r18;
	label$25f1553_4_187:
	r7 = r0->V;
	r2 = r0->transform;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->world;
	if( r17 == NULL ) hl_null_access();
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->_00;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r15 = r6->_01;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r16 = r6->_02;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_03;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r19 = r6->_10;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r21 = r6->_11;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r22 = r6->_12;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r23 = r6->_13;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r24 = r6->_20;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r25 = r6->_21;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r26 = r6->_22;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r27 = r6->_23;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r28 = r6->_30;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r29 = r6->_31;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r30 = r6->_32;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r31 = r6->_33;
	r32 = r11 * r21;
	r33 = r15 * r19;
	r32 = r32 - r33;
	r33 = r11 * r22;
	r34 = r16 * r19;
	r33 = r33 - r34;
	r34 = r11 * r23;
	r35 = r18 * r19;
	r34 = r34 - r35;
	r35 = r15 * r22;
	r36 = r16 * r21;
	r35 = r35 - r36;
	r36 = r15 * r23;
	r37 = r18 * r21;
	r36 = r36 - r37;
	r37 = r16 * r23;
	r38 = r18 * r22;
	r37 = r37 - r38;
	r38 = r24 * r29;
	r39 = r25 * r28;
	r38 = r38 - r39;
	r39 = r24 * r30;
	r40 = r26 * r28;
	r39 = r39 - r40;
	r40 = r24 * r31;
	r41 = r27 * r28;
	r40 = r40 - r41;
	r41 = r25 * r30;
	r42 = r26 * r29;
	r41 = r41 - r42;
	r42 = r25 * r31;
	r43 = r27 * r29;
	r42 = r42 - r43;
	r43 = r26 * r31;
	r44 = r27 * r30;
	r43 = r43 - r44;
	r44 = r32 * r43;
	r45 = r33 * r42;
	r44 = r44 - r45;
	r45 = r34 * r41;
	r44 = r44 + r45;
	r45 = r35 * r40;
	r44 = r44 + r45;
	r45 = r36 * r39;
	r44 = r44 - r45;
	r45 = r37 * r38;
	r44 = r44 + r45;
	r4 = (double)r44;
	r12 = 0.;
	if( r4 != r12 ) goto label$25f1553_4_372;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 1.;
	r45 = (float)r4;
	r6->_00 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_01 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_02 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_03 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_10 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 1.;
	r45 = (float)r4;
	r6->_11 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_12 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_13 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_20 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_21 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 1.;
	r45 = (float)r4;
	r6->_22 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_23 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_30 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_31 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 0.;
	r45 = (float)r4;
	r6->_32 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r4 = 1.;
	r45 = (float)r4;
	r6->_33 = r45;
	goto label$25f1553_4_522;
	label$25f1553_4_372:
	r4 = 1.;
	r12 = (double)r44;
	r4 = r4 / r12;
	r45 = (float)r4;
	r44 = r45;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r21 * r43;
	r46 = r22 * r42;
	r45 = r45 - r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_00 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r16 * r42;
	r46 = r15 * r43;
	r45 = r45 - r46;
	r46 = r18 * r41;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_01 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r29 * r37;
	r46 = r30 * r36;
	r45 = r45 - r46;
	r46 = r31 * r35;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_02 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r26 * r36;
	r46 = r25 * r37;
	r45 = r45 - r46;
	r46 = r27 * r35;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_03 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r22 * r40;
	r46 = r19 * r43;
	r45 = r45 - r46;
	r46 = r23 * r39;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_10 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r11 * r43;
	r46 = r16 * r40;
	r45 = r45 - r46;
	r46 = r18 * r39;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_11 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r30 * r34;
	r46 = r28 * r37;
	r45 = r45 - r46;
	r46 = r31 * r33;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_12 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r24 * r37;
	r46 = r26 * r34;
	r45 = r45 - r46;
	r46 = r27 * r33;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_13 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r19 * r42;
	r46 = r21 * r40;
	r45 = r45 - r46;
	r46 = r23 * r38;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_20 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r15 * r40;
	r46 = r11 * r42;
	r45 = r45 - r46;
	r46 = r18 * r38;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_21 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r28 * r36;
	r46 = r29 * r34;
	r45 = r45 - r46;
	r46 = r31 * r32;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_22 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r25 * r34;
	r46 = r24 * r36;
	r45 = r45 - r46;
	r46 = r27 * r32;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_23 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r21 * r39;
	r46 = r19 * r41;
	r45 = r45 - r46;
	r46 = r22 * r38;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_30 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r11 * r41;
	r46 = r15 * r39;
	r45 = r45 - r46;
	r46 = r16 * r38;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_31 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r29 * r33;
	r46 = r28 * r35;
	r45 = r45 - r46;
	r46 = r30 * r32;
	r45 = r45 - r46;
	r45 = r45 * r44;
	r6->_32 = r45;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r45 = r24 * r35;
	r46 = r25 * r33;
	r45 = r45 - r46;
	r46 = r26 * r32;
	r45 = r45 + r46;
	r45 = r45 * r44;
	r6->_33 = r45;
	label$25f1553_4_522:
	r7 = r0->VP;
	r17 = r0->P;
	r20 = r0->V;
	if( r20 == NULL ) hl_null_access();
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->_00;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r15 = r6->_01;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r16 = r6->_02;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r18 = r6->_03;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r19 = r6->_10;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r21 = r6->_11;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r22 = r6->_12;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r23 = r6->_13;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r24 = r6->_20;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r25 = r6->_21;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r26 = r6->_22;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r27 = r6->_23;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r28 = r6->_30;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r29 = r6->_31;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r30 = r6->_32;
	r6 = r20->self;
	if( r6 == NULL ) hl_null_access();
	r31 = r6->_33;
	if( r17 == NULL ) hl_null_access();
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r32 = r6->_00;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r33 = r6->_10;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r34 = r6->_20;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r35 = r6->_30;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r11 * r32;
	r37 = r15 * r33;
	r36 = r36 + r37;
	r37 = r16 * r34;
	r36 = r36 + r37;
	r37 = r18 * r35;
	r36 = r36 + r37;
	r6->_00 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r19 * r32;
	r37 = r21 * r33;
	r36 = r36 + r37;
	r37 = r22 * r34;
	r36 = r36 + r37;
	r37 = r23 * r35;
	r36 = r36 + r37;
	r6->_10 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r24 * r32;
	r37 = r25 * r33;
	r36 = r36 + r37;
	r37 = r26 * r34;
	r36 = r36 + r37;
	r37 = r27 * r35;
	r36 = r36 + r37;
	r6->_20 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r28 * r32;
	r37 = r29 * r33;
	r36 = r36 + r37;
	r37 = r30 * r34;
	r36 = r36 + r37;
	r37 = r31 * r35;
	r36 = r36 + r37;
	r6->_30 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_01;
	r32 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_11;
	r33 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_21;
	r34 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_31;
	r35 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r11 * r32;
	r37 = r15 * r33;
	r36 = r36 + r37;
	r37 = r16 * r34;
	r36 = r36 + r37;
	r37 = r18 * r35;
	r36 = r36 + r37;
	r6->_01 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r19 * r32;
	r37 = r21 * r33;
	r36 = r36 + r37;
	r37 = r22 * r34;
	r36 = r36 + r37;
	r37 = r23 * r35;
	r36 = r36 + r37;
	r6->_11 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r24 * r32;
	r37 = r25 * r33;
	r36 = r36 + r37;
	r37 = r26 * r34;
	r36 = r36 + r37;
	r37 = r27 * r35;
	r36 = r36 + r37;
	r6->_21 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r28 * r32;
	r37 = r29 * r33;
	r36 = r36 + r37;
	r37 = r30 * r34;
	r36 = r36 + r37;
	r37 = r31 * r35;
	r36 = r36 + r37;
	r6->_31 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_02;
	r32 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_12;
	r33 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_22;
	r34 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_32;
	r35 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r11 * r32;
	r37 = r15 * r33;
	r36 = r36 + r37;
	r37 = r16 * r34;
	r36 = r36 + r37;
	r37 = r18 * r35;
	r36 = r36 + r37;
	r6->_02 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r19 * r32;
	r37 = r21 * r33;
	r36 = r36 + r37;
	r37 = r22 * r34;
	r36 = r36 + r37;
	r37 = r23 * r35;
	r36 = r36 + r37;
	r6->_12 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r24 * r32;
	r37 = r25 * r33;
	r36 = r36 + r37;
	r37 = r26 * r34;
	r36 = r36 + r37;
	r37 = r27 * r35;
	r36 = r36 + r37;
	r6->_22 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r28 * r32;
	r37 = r29 * r33;
	r36 = r36 + r37;
	r37 = r30 * r34;
	r36 = r36 + r37;
	r37 = r31 * r35;
	r36 = r36 + r37;
	r6->_32 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_03;
	r32 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_13;
	r33 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_23;
	r34 = r36;
	r6 = r17->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r6->_33;
	r35 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r11 * r32;
	r37 = r15 * r33;
	r36 = r36 + r37;
	r37 = r16 * r34;
	r36 = r36 + r37;
	r37 = r18 * r35;
	r36 = r36 + r37;
	r6->_03 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r19 * r32;
	r37 = r21 * r33;
	r36 = r36 + r37;
	r37 = r22 * r34;
	r36 = r36 + r37;
	r37 = r23 * r35;
	r36 = r36 + r37;
	r6->_13 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r24 * r32;
	r37 = r25 * r33;
	r36 = r36 + r37;
	r37 = r26 * r34;
	r36 = r36 + r37;
	r37 = r27 * r35;
	r36 = r36 + r37;
	r6->_23 = r36;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r36 = r28 * r32;
	r37 = r29 * r33;
	r36 = r36 + r37;
	r37 = r30 * r34;
	r36 = r36 + r37;
	r37 = r31 * r35;
	r36 = r36 + r37;
	r6->_33 = r36;
	r49 = r0->data;
	if( r49 == NULL ) hl_null_access();
	r48 = r49->raw;
	if( r48 == NULL ) hl_null_access();
	r47 = r48->frustum_culling;
	r50 = r47 ? r47->v.b : 0;
	if( !r50 ) goto label$25f1553_4_806;
	r7 = r0->VP;
	r51 = r0->frustumPlanes;
	iron_object_CameraObject_buildViewFrustum(r7,r51);
	label$25f1553_4_806:
	r7 = r0->prevV;
	if( r7 ) goto label$25f1553_4_943;
	r7 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	r4 = 1.;
	r11 = (float)r4;
	r4 = 0.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r21 = (float)r4;
	r4 = 0.;
	r22 = (float)r4;
	r4 = 0.;
	r23 = (float)r4;
	r4 = 0.;
	r24 = (float)r4;
	r4 = 0.;
	r25 = (float)r4;
	r4 = 1.;
	r26 = (float)r4;
	r4 = 0.;
	r27 = (float)r4;
	r4 = 0.;
	r28 = (float)r4;
	r4 = 0.;
	r29 = (float)r4;
	r4 = 0.;
	r30 = (float)r4;
	r4 = 1.;
	r31 = (float)r4;
	iron_math_Mat4_new(r7,r11,r15,r16,r18,r19,r21,r22,r23,r24,r25,r26,r27,r28,r29,r30,r31);
	r0->prevV = r7;
	r7 = r0->prevV;
	r17 = r0->V;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	if( r17 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_00;
	r6->_00 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_01;
	r6->_01 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_02;
	r6->_02 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_03;
	r6->_03 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_10;
	r6->_10 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_11;
	r6->_11 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_12;
	r6->_12 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_13;
	r6->_13 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_20;
	r6->_20 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_21;
	r6->_21 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_22;
	r6->_22 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_23;
	r6->_23 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_30;
	r6->_30 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_31;
	r6->_31 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_32;
	r6->_32 = r11;
	r6 = r7->self;
	if( r6 == NULL ) hl_null_access();
	r52 = r17->self;
	if( r52 == NULL ) hl_null_access();
	r11 = r52->_33;
	r6->_33 = r11;
	label$25f1553_4_943:
	return;
}

void iron_object_CameraObject_buildViewFrustum(iron__math__Mat4 r0,hl__types__ArrayObj r1) {
	kha__math__FastMatrix4 r10;
	iron__object__FrustumPlane r4;
	iron__math__Vec4 r8;
	float r9, r11;
	double r12;
	vdynamic *r5;
	varray *r6;
	int r2, r3, r13;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_6;
	r4 = NULL;
	goto label$25f1553_5_9;
	label$25f1553_5_6:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_9:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	if( r0 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_03;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_00;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_13;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_10;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_23;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_20;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_33;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_30;
	r9 = r9 + r11;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 1;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_60;
	r4 = NULL;
	goto label$25f1553_5_63;
	label$25f1553_5_60:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_63:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_03;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_00;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_13;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_10;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_23;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_20;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_33;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_30;
	r9 = r9 - r11;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 2;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_113;
	r4 = NULL;
	goto label$25f1553_5_116;
	label$25f1553_5_113:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_116:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_03;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_01;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_13;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_11;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_23;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_21;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_33;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_31;
	r9 = r9 - r11;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 3;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_166;
	r4 = NULL;
	goto label$25f1553_5_169;
	label$25f1553_5_166:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_169:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_03;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_01;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_13;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_11;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_23;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_21;
	r9 = r9 + r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_33;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_31;
	r9 = r9 + r11;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 4;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_219;
	r4 = NULL;
	goto label$25f1553_5_222;
	label$25f1553_5_219:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_222:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_02;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_12;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_22;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_32;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 5;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$25f1553_5_256;
	r4 = NULL;
	goto label$25f1553_5_259;
	label$25f1553_5_256:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_259:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->normal;
	if( r8 == NULL ) hl_null_access();
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_03;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_02;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->x = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_13;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_12;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->y = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_23;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_22;
	r9 = r9 - r11;
	r12 = (double)r9;
	r9 = (float)r12;
	r8->z = r9;
	r12 = 1.;
	r9 = (float)r12;
	r8->w = r9;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->_33;
	r10 = r0->self;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->_32;
	r9 = r9 - r11;
	r12 = (double)r9;
	r4->constant = r12;
	r2 = 0;
	label$25f1553_5_305:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->length;
	if( r2 >= r13 ) goto label$25f1553_5_320;
	r13 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r13) ) goto label$25f1553_5_313;
	r4 = NULL;
	goto label$25f1553_5_316;
	label$25f1553_5_313:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__object__FrustumPlane)r5;
	label$25f1553_5_316:
	++r2;
	if( r4 == NULL ) hl_null_access();
	iron_object_FrustumPlane_normalize(r4);
	goto label$25f1553_5_305;
	label$25f1553_5_320:
	return;
}

bool iron_object_CameraObject_sphereInFrustum(hl__types__ArrayObj r0,iron__object__Transform r1,double* r2,double* r3,double* r4,double* r5) {
	bool r24;
	kha__math__FastMatrix4 r20;
	iron__object__FrustumPlane r15;
	iron__math__Vec4 r18;
	iron__object__$CameraObject r19;
	iron__math__Mat4 r21;
	float r11;
	double r6, r7, r8, r9, r10, r12, r22, r23;
	vdynamic *r16;
	varray *r17;
	int r13, r14;
	if( r2 ) goto label$25f1553_6_3;
	r6 = 1.;
	goto label$25f1553_6_4;
	label$25f1553_6_3:
	r6 = *r2;
	label$25f1553_6_4:
	if( r3 ) goto label$25f1553_6_7;
	r7 = 0.;
	goto label$25f1553_6_8;
	label$25f1553_6_7:
	r7 = *r3;
	label$25f1553_6_8:
	if( r4 ) goto label$25f1553_6_11;
	r8 = 0.;
	goto label$25f1553_6_12;
	label$25f1553_6_11:
	r8 = *r4;
	label$25f1553_6_12:
	if( r5 ) goto label$25f1553_6_15;
	r9 = 0.;
	goto label$25f1553_6_16;
	label$25f1553_6_15:
	r9 = *r5;
	label$25f1553_6_16:
	if( r1 == NULL ) hl_null_access();
	r11 = r1->radius;
	r10 = (double)r11;
	r10 = r10 * r6;
	r13 = 0;
	label$25f1553_6_21:
	if( r0 == NULL ) hl_null_access();
	r14 = r0->length;
	if( r13 >= r14 ) goto label$25f1553_6_79;
	r14 = r0->length;
	if( ((unsigned)r13) < ((unsigned)r14) ) goto label$25f1553_6_29;
	r15 = NULL;
	goto label$25f1553_6_32;
	label$25f1553_6_29:
	r17 = r0->array;
	r16 = ((vdynamic**)(r17 + 1))[r13];
	r15 = (iron__object__FrustumPlane)r16;
	label$25f1553_6_32:
	++r13;
	r19 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r18 = r19->sphereCenter;
	if( r18 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r21 = r1->world;
	if( r21 == NULL ) hl_null_access();
	r20 = r21->self;
	if( r20 == NULL ) hl_null_access();
	r11 = r20->_30;
	r12 = (double)r11;
	r12 = r12 + r7;
	r11 = (float)r12;
	r18->x = r11;
	r21 = r1->world;
	if( r21 == NULL ) hl_null_access();
	r20 = r21->self;
	if( r20 == NULL ) hl_null_access();
	r11 = r20->_31;
	r12 = (double)r11;
	r12 = r12 + r8;
	r11 = (float)r12;
	r18->y = r11;
	r21 = r1->world;
	if( r21 == NULL ) hl_null_access();
	r20 = r21->self;
	if( r20 == NULL ) hl_null_access();
	r11 = r20->_32;
	r12 = (double)r11;
	r12 = r12 + r9;
	r11 = (float)r12;
	r18->z = r11;
	r12 = 1.;
	r11 = (float)r12;
	r18->w = r11;
	if( r15 == NULL ) hl_null_access();
	r19 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r18 = r19->sphereCenter;
	r12 = iron_object_FrustumPlane_distanceToSphere(r15,r18,r10);
	r23 = 2.;
	r22 = r10 * r23;
	r12 = r12 + r22;
	r22 = 0.;
	if( !(r12 < r22) ) goto label$25f1553_6_78;
	r24 = false;
	return r24;
	label$25f1553_6_78:
	goto label$25f1553_6_21;
	label$25f1553_6_79:
	r24 = true;
	return r24;
}

void iron_object_CameraObject_setCubeFace(iron__math__Mat4 r0,iron__math__Vec4 r1,int r2,bool* r3) {
	kha__math__FastMatrix4 r26;
	bool r4;
	iron__math__Vec4 r5, r8;
	iron__object__$CameraObject r6;
	float r9, r12, r14, r15, r16, r17, r18, r19, r21, r22, r23, r24, r25;
	double r10, r11, r13, r20;
	if( r3 ) goto label$25f1553_7_3;
	r4 = false;
	goto label$25f1553_7_4;
	label$25f1553_7_3:
	r4 = *r3;
	label$25f1553_7_4:
	r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r5 = r6->vcenter;
	if( r5 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r9 = r1->x;
	r5->x = r9;
	r9 = r1->y;
	r5->y = r9;
	r9 = r1->z;
	r5->z = r9;
	r9 = r1->w;
	r5->w = r9;
	if( !r4 ) goto label$25f1553_7_19;
	r10 = -1.;
	goto label$25f1553_7_20;
	label$25f1553_7_19:
	r10 = 1.;
	label$25f1553_7_20:
	switch(r2) {
		default:
			goto label$25f1553_7_229;
		case 0:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r12 = (float)r10;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = -1.;
			r11 = r11 * r10;
			r9 = (float)r11;
			r5->y = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
			goto label$25f1553_7_229;
		case 1:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r11 = -1.;
			r11 = r11 * r10;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = -1.;
			r11 = r11 * r10;
			r9 = (float)r11;
			r5->y = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
			goto label$25f1553_7_229;
		case 2:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r12 = (float)r10;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->y = r9;
			r9 = (float)r10;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
			goto label$25f1553_7_229;
		case 3:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r11 = -1.;
			r11 = r11 * r10;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->y = r9;
			r11 = -1.;
			r11 = r11 * r10;
			r9 = (float)r11;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
			goto label$25f1553_7_229;
		case 4:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r12 = (float)r10;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = -1.;
			r11 = r11 * r10;
			r9 = (float)r11;
			r5->y = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
			goto label$25f1553_7_229;
		case 5:
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vcenter;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->x = r9;
			r9 = r5->y;
			r11 = 0.;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->y = r9;
			r9 = r5->z;
			r11 = -1.;
			r11 = r11 * r10;
			r12 = (float)r11;
			r9 = r9 + r12;
			r5->z = r9;
			r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
			r5 = r6->vup;
			if( r5 == NULL ) hl_null_access();
			r11 = 0.;
			r9 = (float)r11;
			r5->x = r9;
			r11 = -1.;
			r11 = r11 * r10;
			r9 = (float)r11;
			r5->y = r9;
			r11 = 0.;
			r9 = (float)r11;
			r5->z = r9;
			r11 = 1.;
			r9 = (float)r11;
			r5->w = r9;
	}
	label$25f1553_7_229:
	r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r5 = r6->vcenter;
	r6 = (iron__object__$CameraObject)g$_iron_object_CameraObject;
	r8 = r6->vup;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->x;
	r12 = r1->x;
	r9 = r9 - r12;
	r12 = r5->y;
	r14 = r1->y;
	r12 = r12 - r14;
	r14 = r5->z;
	r15 = r1->z;
	r14 = r14 - r15;
	r11 = 1.;
	r15 = r9 * r9;
	r16 = r12 * r12;
	r15 = r15 + r16;
	r16 = r14 * r14;
	r15 = r15 + r16;
	r13 = (double)r15;
	r13 = hl_math_sqrt(r13);
	r11 = r11 / r13;
	r16 = (float)r11;
	r15 = r9 * r16;
	r9 = r15;
	r16 = (float)r11;
	r15 = r12 * r16;
	r12 = r15;
	r16 = (float)r11;
	r15 = r14 * r16;
	r14 = r15;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->z;
	r15 = r12 * r16;
	r17 = r8->y;
	r16 = r14 * r17;
	r15 = r15 - r16;
	r17 = r8->x;
	r16 = r14 * r17;
	r18 = r8->z;
	r17 = r9 * r18;
	r16 = r16 - r17;
	r18 = r8->y;
	r17 = r9 * r18;
	r19 = r8->x;
	r18 = r12 * r19;
	r17 = r17 - r18;
	r13 = 1.;
	r18 = r15 * r15;
	r19 = r16 * r16;
	r18 = r18 + r19;
	r19 = r17 * r17;
	r18 = r18 + r19;
	r20 = (double)r18;
	r20 = hl_math_sqrt(r20);
	r13 = r13 / r20;
	r19 = (float)r13;
	r18 = r15 * r19;
	r15 = r18;
	r19 = (float)r13;
	r18 = r16 * r19;
	r16 = r18;
	r19 = (float)r13;
	r18 = r17 * r19;
	r17 = r18;
	r18 = r16 * r14;
	r19 = r17 * r12;
	r18 = r18 - r19;
	r19 = r17 * r9;
	r21 = r15 * r14;
	r19 = r19 - r21;
	r21 = r15 * r12;
	r22 = r16 * r9;
	r21 = r21 - r22;
	r22 = r1->x;
	r22 = -r22;
	r22 = r22 * r15;
	r23 = r1->y;
	r23 = r23 * r16;
	r22 = r22 - r23;
	r23 = r1->z;
	r23 = r23 * r17;
	r22 = r22 - r23;
	r23 = r1->x;
	r23 = -r23;
	r23 = r23 * r18;
	r24 = r1->y;
	r24 = r24 * r19;
	r23 = r23 - r24;
	r24 = r1->z;
	r24 = r24 * r21;
	r23 = r23 - r24;
	r24 = r1->x;
	r24 = r24 * r9;
	r25 = r1->y;
	r25 = r25 * r12;
	r24 = r24 + r25;
	r25 = r1->z;
	r25 = r25 * r14;
	r24 = r24 + r25;
	if( r0 == NULL ) hl_null_access();
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_00 = r15;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_10 = r16;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_20 = r17;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_30 = r22;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_01 = r18;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_11 = r19;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_21 = r21;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_31 = r23;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r25 = -r9;
	r26->_02 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r25 = -r12;
	r26->_12 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r25 = -r14;
	r26->_22 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r26->_32 = r24;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r13 = 0.;
	r25 = (float)r13;
	r26->_03 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r13 = 0.;
	r25 = (float)r13;
	r26->_13 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r13 = 0.;
	r25 = (float)r13;
	r26->_23 = r25;
	r26 = r0->self;
	if( r26 == NULL ) hl_null_access();
	r13 = 1.;
	r25 = (float)r13;
	r26->_33 = r25;
	return;
}

void iron_object_CameraObject_new(iron__object__CameraObject r0,iron__data__CameraData r1) {
	kha__graphics4__CubeMap r3;
	kha__Image r4;
	hl__types__ArrayObj r5;
	hl_type *r30;
	iron__$Scene r33;
	iron__Scene r32;
	iron__object__FrustumPlane r31;
	bool r28;
	iron__data__TCameraData r27;
	float r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25;
	iron__math__Mat4 r6;
	double r9;
	vdynamic *r8, *r26;
	varray *r29;
	int r2;
	r2 = 0;
	r0->currentFace = r2;
	r3 = NULL;
	r0->renderTargetCube = r3;
	r4 = NULL;
	r0->renderTarget = r4;
	r5 = NULL;
	r0->frustumPlanes = r5;
	r6 = NULL;
	r0->prevV = r6;
	iron_object_Object_new(((iron__object__Object)r0));
	r0->data = r1;
	r8 = NULL;
	iron_object_CameraObject_buildProjection(r0,r8);
	r6 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	r9 = 1.;
	r10 = (float)r9;
	r9 = 0.;
	r11 = (float)r9;
	r9 = 0.;
	r12 = (float)r9;
	r9 = 0.;
	r13 = (float)r9;
	r9 = 0.;
	r14 = (float)r9;
	r9 = 1.;
	r15 = (float)r9;
	r9 = 0.;
	r16 = (float)r9;
	r9 = 0.;
	r17 = (float)r9;
	r9 = 0.;
	r18 = (float)r9;
	r9 = 0.;
	r19 = (float)r9;
	r9 = 1.;
	r20 = (float)r9;
	r9 = 0.;
	r21 = (float)r9;
	r9 = 0.;
	r22 = (float)r9;
	r9 = 0.;
	r23 = (float)r9;
	r9 = 0.;
	r24 = (float)r9;
	r9 = 1.;
	r25 = (float)r9;
	iron_math_Mat4_new(r6,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23,r24,r25);
	r0->V = r6;
	r6 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	r9 = 1.;
	r10 = (float)r9;
	r9 = 0.;
	r11 = (float)r9;
	r9 = 0.;
	r12 = (float)r9;
	r9 = 0.;
	r13 = (float)r9;
	r9 = 0.;
	r14 = (float)r9;
	r9 = 1.;
	r15 = (float)r9;
	r9 = 0.;
	r16 = (float)r9;
	r9 = 0.;
	r17 = (float)r9;
	r9 = 0.;
	r18 = (float)r9;
	r9 = 0.;
	r19 = (float)r9;
	r9 = 1.;
	r20 = (float)r9;
	r9 = 0.;
	r21 = (float)r9;
	r9 = 0.;
	r22 = (float)r9;
	r9 = 0.;
	r23 = (float)r9;
	r9 = 0.;
	r24 = (float)r9;
	r9 = 1.;
	r25 = (float)r9;
	iron_math_Mat4_new(r6,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23,r24,r25);
	r0->VP = r6;
	if( r1 == NULL ) hl_null_access();
	r27 = r1->raw;
	if( r27 == NULL ) hl_null_access();
	r26 = r27->frustum_culling;
	r28 = r26 ? r26->v.b : 0;
	if( !r28 ) goto label$25f1553_8_125;
	r30 = &t$iron_object_FrustumPlane;
	r2 = 0;
	r29 = hl_alloc_array(r30,r2);
	r5 = hl_types_ArrayObj_alloc(r29);
	r0->frustumPlanes = r5;
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	r5 = r0->frustumPlanes;
	if( r5 == NULL ) hl_null_access();
	r31 = (iron__object__FrustumPlane)hl_alloc_obj(&t$iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r31);
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r31));
	label$25f1553_8_125:
	r33 = (iron__$Scene)g$_iron_Scene;
	r32 = r33->active;
	if( r32 == NULL ) hl_null_access();
	r5 = r32->cameras;
	if( r5 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r5,((vdynamic*)r0));
	return;
}

