// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <zui/Zui.h>
extern zui__$Zui g$_zui_Zui;
extern String s$;
extern hl_type t$_f64;
extern hl_type t$nul_f64;
extern hl_type t$_i32;
extern hl_type t$kha_Kravur;
double kha_Kravur_height(kha__Kravur,int);
void kha_Image_unload(kha__Image);
kha__Image kha_Image_createRenderTarget(int,int,vdynamic*,int*,int*);
kha__graphics2__Graphics kha_Image_get_g2(kha__Image);
int kha_Image_get_width(kha__Image);
int kha_Image_get_height(kha__Image);
#include <kha/input/Mouse.h>
#include <kha/input/Pen.h>
#include <kha/input/Keyboard.h>
kha__input__Mouse kha_input_Mouse_get(int*);
extern hl_type t$nul_i32;
void zui_Zui_onMouseDown(zui__Zui,int,int,int);
extern hl_type t$fun_149083c;
void zui_Zui_onMouseUp(zui__Zui,int,int,int);
void zui_Zui_onMouseMove(zui__Zui,int,int,int,int);
extern hl_type t$fun_f4d77dc;
void zui_Zui_onMouseWheel(zui__Zui,int);
extern hl_type t$fun_46cd1bc;
void kha_input_Mouse_notifyWindowed(kha__input__Mouse,int,vclosure*,vclosure*,vclosure*,vclosure*,vclosure*);
kha__input__Pen kha_input_Pen_get(int*);
void zui_Zui_onPenDown(zui__Zui,int,int,double);
extern hl_type t$fun_1ebd82b;
void zui_Zui_onPenUp(zui__Zui,int,int,double);
void zui_Zui_onPenMove(zui__Zui,int,int,double);
void kha_input_Pen_notify(kha__input__Pen,vclosure*,vclosure*,vclosure*);
kha__input__Keyboard kha_input_Keyboard_get(int*);
void zui_Zui_onKeyDown(zui__Zui,int);
void zui_Zui_onKeyUp(zui__Zui,int);
void zui_Zui_onKeyPress(zui__Zui,String);
extern hl_type t$fun_161bd10;
void kha_input_Keyboard_notify(kha__input__Keyboard,vclosure*,vclosure*,vclosure*);
extern hl_type t$fun_ca3ba41;
void kha_System_notifyOnApplicationState(vclosure*,vclosure*,vclosure*,vclosure*,vclosure*);
void zui_Zui_endWindow(zui__Zui,bool*);
void zui_Zui_drawCombo(zui__Zui);
void zui_Zui_drawTooltip(zui__Zui,bool);
void zui_Zui_endInput(zui__Zui);
double kha_Scheduler_time(void);
void zui_Zui_drawTabs(zui__Zui);
#include <hl/natives.h>
double Math_max(double,double);
bool zui_Zui_getInputInRect(zui__Zui,double,double,double,double,double*);
void zui_Zui_scroll(zui__Zui,double,double);
extern hl_type t$_bool;
double kha_Kravur_width(kha__Kravur,int,String);
bool zui_Zui_getReleased(zui__Zui,double*);
bool zui_Zui_getPushed(zui__Zui,double*);
bool zui_Zui_getHover(zui__Zui,double*);
zui__Handle zui_Handle_nest(zui__Handle,int,vvirtual*);
void zui_Zui_fadeColor(zui__Zui);
void zui_Zui_drawString(zui__Zui,kha__graphics2__Graphics,String,vdynamic*,double*,int*,bool*);
double Math_min(double,double);
bool zui_Zui_isVisible(zui__Zui,double);
void zui_Zui_endElement(zui__Zui,vdynamic*);
bool zui_Zui_getStarted(zui__Zui,double*);
void kha_graphics2_Graphics_drawScaledImage(kha__graphics2__Graphics,kha__Image,float,float,float,float);
extern String s$68b329d;
int String_indexOf(String,String,vdynamic*);
hl__types__ArrayObj String_split(String,String);
void zui_Zui_setCursorToInput(zui__Zui,int);
void kha_input_Keyboard_show(kha__input__Keyboard);
int String___compare(String,vdynamic*);
String String_substr(String,int,vdynamic*);
String String___add__(String,String);
void zui_Zui_deselectText(zui__Zui);
vdynamic* String_charCodeAt(String,int);
String String_substring(String,int,vdynamic*);
void kha_input_Keyboard_hide(kha__input__Keyboard);
void zui_Zui_drawCheck(zui__Zui,bool,bool);
void zui_Zui_drawSlider(zui__Zui,double,double,double,bool,bool);
String String___alloc__(vbyte*,int);
double Std_parseFloat(String);
#include <zui/Handle.h>
int kha_System_windowHeight(int*);
String String_toLowerCase(String);
int kha_System_windowWidth(int*);
extern zui__$Handle g$_zui_Handle;
void zui_Zui_fill(zui__Zui,double,double,double,double,int);
int kha_graphics2_Graphics_get_fontSize(kha__graphics2__Graphics);
void zui_Zui_drawTooltipImage(zui__Zui,bool);
void zui_Zui_drawTooltipText(zui__Zui,bool);
#include <kha/graphics2/Graphics.h>
extern String s$58b9e70;
extern kha__graphics2__$Graphics g$_kha_graphics2_Graphics;
int hl_types_ArrayBytes_Int_indexOf(hl__types__ArrayBytes_Int,int,vdynamic*);
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
hl__types__ArrayBytes_Int hl_types_ArrayBytes_Int_copy(hl__types__ArrayBytes_Int);
kha__graphics4__PipelineState kha_graphics2_Graphics_set_pipeline(kha__graphics2__Graphics,kha__graphics4__PipelineState);
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$vrt_bdf8c3b;
vvirtual* zui_Zui_extractColoring(String,vvirtual*);
extern hl_type t$String;
extern hl_type t$vrt_ec373c8;
int zui_Zui_checkStart(int,String,hl__types__ArrayObj);
extern hl_type t$nul_bool;
String String_charAt(String,int);
extern String s$7215ee9;
int kha__Color_Color_Impl__fromFloats(float,float,float,float*);
bool zui_Zui_getInitialHover(zui__Zui,double*);
void zui_Zui_setInputPosition(zui__Zui,int,int);
String zui_Zui_onCopy(zui__Zui);
#include <zui/Themes.h>
#include <kha/graphics4/VertexStructure.h>
extern hl_type t$fun_715d8bf;
extern hl_type t$vrt_feeb735;
extern zui__$Themes g$_zui_Themes;
extern hl_type t$fun_00f1036;
void kha_System_notifyOnCutCopyPaste(vclosure*,vclosure*,vclosure*);
void kha_System_notifyOnFrames(vclosure*);
kha__graphics4__VertexStructure kha_graphics4_Graphics2_createTextVertexStructure(void);
kha__graphics4__PipelineState kha_graphics4_Graphics2_createTextPipeline(kha__graphics4__VertexStructure);
void kha_graphics4_PipelineState_compile(kha__graphics4__PipelineState);

void zui_Zui_new__$1(hl__types__ArrayObj r0) {
	String r6;
	bool r2;
	zui__$Zui r3;
	int r4, r5;
	r3 = (zui__$Zui)g$_zui_Zui;
	r2 = r3->isCopy;
	if( r2 ) goto label$1577ae0_1_6;
	r3 = (zui__$Zui)g$_zui_Zui;
	r2 = r3->isPaste;
	if( !r2 ) goto label$1577ae0_1_20;
	label$1577ae0_1_6:
	r3 = (zui__$Zui)g$_zui_Zui;
	r4 = r3->copyFrame;
	++r4;
	r3->copyFrame = r4;
	r5 = 1;
	if( r5 >= r4 ) goto label$1577ae0_1_20;
	r2 = false;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isCut = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isCopy = r2;
	goto label$1577ae0_1_36;
	label$1577ae0_1_20:
	r3 = (zui__$Zui)g$_zui_Zui;
	r4 = r3->copyFrame;
	r5 = 1;
	if( r5 >= r4 ) goto label$1577ae0_1_36;
	r3 = (zui__$Zui)g$_zui_Zui;
	r4 = r3->copyFrame;
	++r4;
	r3->copyFrame = r4;
	r5 = 2;
	if( r5 >= r4 ) goto label$1577ae0_1_36;
	r4 = 0;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->copyFrame = r4;
	r6 = (String)s$;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->textToPaste = r6;
	label$1577ae0_1_36:
	return;
}

void zui_Zui_setScale(zui__Zui r0,double r1) {
	vvirtual *r2, *r6;
	bool r13;
	kha__Kravur r9;
	double r3, r7, r10, r11, r12;
	vdynamic *r4;
	int r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_alloc_dynamic(&t$_f64);
	r4->v.d = r1;
	if( hl_vfields(r2)[5] ) *(vdynamic**)(hl_vfields(r2)[5]) = (vdynamic*)r4; else hl_dyn_setp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64,r4);
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[18] ? (*(int*)(hl_vfields(r6)[18])) : (int)hl_dyn_geti(r6->value,-532812062/*FONT_SIZE*/,&t$_i32);
	r3 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r7 = r4 ? r4->v.d : 0;
	r3 = r3 * r7;
	r5 = (int)r3;
	r0->fontSize = r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r9 = hl_vfields(r2)[3] ? (*(kha__Kravur*)(hl_vfields(r2)[3])) : (kha__Kravur)hl_dyn_getp(r2->value,62938841/*font*/,&t$kha_Kravur);
	if( r9 == NULL ) hl_null_access();
	r5 = r0->fontSize;
	r7 = kha_Kravur_height(r9,r5);
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r10 = r10 - r7;
	r11 = 2.;
	r10 = r10 / r11;
	r0->fontOffsetY = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[3] ? (*(int*)(hl_vfields(r6)[3])) : (int)hl_dyn_geti(r6->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->arrowOffsetY = r10;
	r10 = r0->arrowOffsetY;
	r0->arrowOffsetX = r10;
	r10 = r0->arrowOffsetX;
	r11 = 2.;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[3] ? (*(int*)(hl_vfields(r6)[3])) : (int)hl_dyn_geti(r6->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 / r11;
	r0->titleOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[5] ? (*(int*)(hl_vfields(r6)[5])) : (int)hl_dyn_geti(r6->value,-172474255/*BUTTON_H*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->buttonOffsetY = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkOffsetY = r10;
	r10 = r0->checkOffsetY;
	r0->checkOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[9] ? (*(int*)(hl_vfields(r6)[9])) : (int)hl_dyn_geti(r6->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkSelectOffsetY = r10;
	r10 = r0->checkSelectOffsetY;
	r0->checkSelectOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioOffsetY = r10;
	r10 = r0->radioOffsetY;
	r0->radioOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[9] ? (*(int*)(hl_vfields(r6)[9])) : (int)hl_dyn_geti(r6->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioSelectOffsetY = r10;
	r10 = r0->radioSelectOffsetY;
	r0->radioSelectOffsetX = r10;
	r13 = false;
	r0->elementsBaked = r13;
	return;
}

void zui_Zui_bakeElements(zui__Zui r0) {
	bool *r19;
	kha__Image r2;
	vvirtual *r5, *r7;
	bool r18, r27;
	kha__graphics2__Graphics r17;
	double r3, r8, r10, r20, r21, r22, r23, r24, r26;
	double *r25;
	int *r14, *r16;
	vdynamic *r6, *r12;
	int r4, r9, r11, r13, r15;
	r2 = r0->checkSelectImage;
	if( !r2 ) goto label$1577ae0_3_5;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	kha_Image_unload(r2);
	label$1577ae0_3_5:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[9] ? (*(int*)(hl_vfields(r5)[9])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r3 = (double)r4;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r6 ? r6->v.d : 0;
	r3 = r3 * r8;
	r4 = (int)r3;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r9 = hl_vfields(r5)[9] ? (*(int*)(hl_vfields(r5)[9])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r8 = (double)r9;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r6 ? r6->v.d : 0;
	r8 = r8 * r10;
	r11 = (int)r8;
	r12 = NULL;
	r13 = 0;
	r14 = &r13;
	r15 = 1;
	r16 = &r15;
	r2 = kha_Image_createRenderTarget(r4,r11,r12,r14,r16);
	r0->checkSelectImage = r2;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r17 = kha_Image_get_g2(r2);
	if( r17 == NULL ) hl_null_access();
	r18 = true;
	r19 = &r18;
	r9 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r9;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r17->$type->vobj_proto[0])(r17,r19,r12);
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r9 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r17->$type->vobj_proto[11])(r17,r9);
	r10 = 0.;
	r20 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_width(r2);
	r21 = (double)r9;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_height(r2);
	r22 = (double)r9;
	r23 = 2.;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r24 = r6 ? r6->v.d : 0;
	r23 = r23 * r24;
	r25 = &r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r17->$type->vobj_proto[7])(r17,r10,r20,r21,r22,r25);
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_width(r2);
	r10 = (double)r9;
	r20 = 0.;
	r21 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_height(r2);
	r22 = (double)r9;
	r24 = 2.;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r26 = r6 ? r6->v.d : 0;
	r24 = r24 * r26;
	r25 = &r24;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r17->$type->vobj_proto[7])(r17,r10,r20,r21,r22,r25);
	((void (*)(kha__graphics2__Graphics))r17->$type->vobj_proto[1])(r17);
	r27 = true;
	r0->elementsBaked = r27;
	return;
}

void zui_Zui_registerInput__$1(zui__Zui r0) {
	double r1;
	if( r0 == NULL ) hl_null_access();
	r1 = 0.;
	r0->inputDY = r1;
	r0->inputDX = r1;
	return;
}

void zui_Zui_registerInput(zui__Zui r0) {
	vvirtual *r6;
	bool r2;
	kha__input__Mouse r3;
	kha__input__Pen r13;
	vclosure *r8, *r9, *r10, *r11, *r12, *r14, *r15, *r16, *r18, *r19, *r20, *r21, *r22, *r23;
	vdynamic *r5;
	int *r4;
	kha__input__Keyboard r17;
	int r7;
	r2 = r0->inputRegistered;
	if( !r2 ) goto label$1577ae0_5_3;
	return;
	label$1577ae0_5_3:
	r4 = NULL;
	r3 = kha_input_Mouse_get(r4);
	if( r3 == NULL ) hl_null_access();
	r6 = r0->ops;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[4] ? (*(vdynamic**)(hl_vfields(r6)[4])) : (vdynamic*)hl_dyn_getp(r6->value,3128633/*khaWindowId*/,&t$nul_i32);
	r7 = r5 ? r5->v.i : 0;
	r8 = hl_alloc_closure_ptr(&t$fun_149083c,zui_Zui_onMouseDown,r0);
	r9 = hl_alloc_closure_ptr(&t$fun_149083c,zui_Zui_onMouseUp,r0);
	r10 = hl_alloc_closure_ptr(&t$fun_f4d77dc,zui_Zui_onMouseMove,r0);
	r11 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onMouseWheel,r0);
	r12 = NULL;
	kha_input_Mouse_notifyWindowed(r3,r7,r8,r9,r10,r11,r12);
	r4 = NULL;
	r13 = kha_input_Pen_get(r4);
	if( !r13 ) goto label$1577ae0_5_26;
	r4 = NULL;
	r13 = kha_input_Pen_get(r4);
	if( r13 == NULL ) hl_null_access();
	r14 = hl_alloc_closure_ptr(&t$fun_1ebd82b,zui_Zui_onPenDown,r0);
	r15 = hl_alloc_closure_ptr(&t$fun_1ebd82b,zui_Zui_onPenUp,r0);
	r16 = hl_alloc_closure_ptr(&t$fun_1ebd82b,zui_Zui_onPenMove,r0);
	kha_input_Pen_notify(r13,r14,r15,r16);
	label$1577ae0_5_26:
	r4 = NULL;
	r17 = kha_input_Keyboard_get(r4);
	if( r17 == NULL ) hl_null_access();
	r11 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onKeyDown,r0);
	r18 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onKeyUp,r0);
	r19 = hl_alloc_closure_ptr(&t$fun_161bd10,zui_Zui_onKeyPress,r0);
	kha_input_Keyboard_notify(r17,r11,r18,r19);
	r12 = hl_alloc_closure_ptr(&t$fun_ca3ba41,zui_Zui_registerInput__$1,r0);
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = NULL;
	kha_System_notifyOnApplicationState(r12,r20,r21,r22,r23);
	r2 = true;
	r0->inputRegistered = r2;
	return;
}

void zui_Zui_begin(zui__Zui r0,kha__graphics2__Graphics r1) {
	bool r3;
	zui__$Zui r4;
	double r5;
	int r6;
	r3 = r0->elementsBaked;
	if( r3 ) goto label$1577ae0_6_3;
	zui_Zui_bakeElements(r0);
	label$1577ae0_6_3:
	r3 = false;
	r0->changed = r3;
	r0->globalG = r1;
	r4 = (zui__$Zui)g$_zui_Zui;
	r4->current = r0;
	r5 = 0.;
	r0->_x = r5;
	r5 = 0.;
	r0->_y = r5;
	r6 = 0;
	r0->_w = r6;
	r6 = 0;
	r0->_h = r6;
	return;
}

void zui_Zui_end(zui__Zui r0,bool* r1) {
	bool r2, r4;
	zui__Handle r5;
	if( r1 ) goto label$1577ae0_7_3;
	r2 = true;
	goto label$1577ae0_7_4;
	label$1577ae0_7_3:
	r2 = *r1;
	label$1577ae0_7_4:
	r4 = r0->windowEnded;
	if( r4 ) goto label$1577ae0_7_8;
	r1 = NULL;
	zui_Zui_endWindow(r0,r1);
	label$1577ae0_7_8:
	zui_Zui_drawCombo(r0);
	r4 = true;
	zui_Zui_drawTooltip(r0,r4);
	r5 = NULL;
	r0->tabPressedHandle = r5;
	if( !r2 ) goto label$1577ae0_7_15;
	zui_Zui_endInput(r0);
	label$1577ae0_7_15:
	return;
}

void zui_Zui_beginRegion(zui__Zui r0,kha__graphics2__Graphics r1,int r2,int r3,int r4) {
	String r11;
	bool *r7;
	kha__Image r12;
	bool r6, r9;
	double r13;
	zui__Handle r10;
	vdynamic *r8;
	r6 = r0->elementsBaked;
	if( r6 ) goto label$1577ae0_8_9;
	if( r1 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r1->$type->vobj_proto[1])(r1);
	zui_Zui_bakeElements(r0);
	r6 = false;
	r7 = &r6;
	r8 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r1->$type->vobj_proto[0])(r1,r7,r8);
	label$1577ae0_8_9:
	r9 = false;
	r0->changed = r9;
	r0->globalG = r1;
	r0->g = r1;
	r10 = NULL;
	r0->currentWindow = r10;
	r11 = (String)s$;
	r0->tooltipText = r11;
	r12 = NULL;
	r0->tooltipImg = r12;
	r13 = 0.;
	r0->_windowX = r13;
	r13 = 0.;
	r0->_windowY = r13;
	r13 = (double)r4;
	r0->_windowW = r13;
	r13 = (double)r2;
	r0->_x = r13;
	r13 = (double)r3;
	r0->_y = r13;
	r0->_w = r4;
	return;
}

void zui_Zui_endRegion(zui__Zui r0,bool* r1) {
	bool r2, r4;
	zui__Handle r5;
	if( r1 ) goto label$1577ae0_9_3;
	r2 = true;
	goto label$1577ae0_9_4;
	label$1577ae0_9_3:
	r2 = *r1;
	label$1577ae0_9_4:
	r4 = false;
	zui_Zui_drawTooltip(r0,r4);
	r5 = NULL;
	r0->tabPressedHandle = r5;
	if( !r2 ) goto label$1577ae0_9_10;
	zui_Zui_endInput(r0);
	label$1577ae0_9_10:
	return;
}

void zui_Zui_endInput(zui__Zui r0) {
	bool r1;
	zui__$Zui r5;
	double r2, r6;
	vdynamic *r7, *r8;
	int r3;
	r1 = false;
	r0->isKeyPressed = r1;
	r1 = false;
	r0->inputStarted = r1;
	r1 = false;
	r0->inputStartedR = r1;
	r1 = false;
	r0->inputReleased = r1;
	r1 = false;
	r0->inputReleasedR = r1;
	r2 = 0.;
	r0->inputDX = r2;
	r2 = 0.;
	r0->inputDY = r2;
	r3 = 0;
	r0->inputWheelDelta = r3;
	r1 = false;
	r0->penInUse = r1;
	r5 = (zui__$Zui)g$_zui_Zui;
	r1 = r5->keyRepeat;
	if( !r1 ) goto label$1577ae0_10_58;
	r1 = r0->isKeyDown;
	if( !r1 ) goto label$1577ae0_10_58;
	r2 = kha_Scheduler_time();
	r5 = (zui__$Zui)g$_zui_Zui;
	r6 = r5->keyRepeatTime;
	r2 = r2 - r6;
	r6 = 0.05000000000000000278;
	if( !(r6 < r2) ) goto label$1577ae0_10_58;
	r7 = r0->key;
	r3 = 8;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 == r8 || (r7 && r8 && (r7->v.i == r8->v.i)) ) goto label$1577ae0_10_53;
	r7 = r0->key;
	r3 = 46;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 == r8 || (r7 && r8 && (r7->v.i == r8->v.i)) ) goto label$1577ae0_10_53;
	r7 = r0->key;
	r3 = 37;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 == r8 || (r7 && r8 && (r7->v.i == r8->v.i)) ) goto label$1577ae0_10_53;
	r7 = r0->key;
	r3 = 39;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 == r8 || (r7 && r8 && (r7->v.i == r8->v.i)) ) goto label$1577ae0_10_53;
	r7 = r0->key;
	r3 = 38;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 == r8 || (r7 && r8 && (r7->v.i == r8->v.i)) ) goto label$1577ae0_10_53;
	r7 = r0->key;
	r3 = 40;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r3;
	if( r7 != r8 && (!r7 || !r8 || (r7->v.i != r8->v.i)) ) goto label$1577ae0_10_58;
	label$1577ae0_10_53:
	r2 = kha_Scheduler_time();
	r5 = (zui__$Zui)g$_zui_Zui;
	r5->keyRepeatTime = r2;
	r1 = true;
	r0->isKeyPressed = r1;
	label$1577ae0_10_58:
	r5 = (zui__$Zui)g$_zui_Zui;
	r1 = r5->touchHold;
	if( !r1 ) goto label$1577ae0_10_83;
	r1 = r0->inputDown;
	if( !r1 ) goto label$1577ae0_10_83;
	r2 = r0->inputX;
	r6 = r0->inputStartedX;
	if( r2 != r6 ) goto label$1577ae0_10_83;
	r2 = r0->inputY;
	r6 = r0->inputStartedY;
	if( r2 != r6 ) goto label$1577ae0_10_83;
	r2 = r0->inputStartedTime;
	r6 = 0.;
	if( !(r6 < r2) ) goto label$1577ae0_10_83;
	r2 = kha_Scheduler_time();
	r6 = r0->inputStartedTime;
	r2 = r2 - r6;
	r6 = 0.6999999999999999556;
	if( !(r6 < r2) ) goto label$1577ae0_10_83;
	r1 = true;
	r0->touchHoldActivated = r1;
	r1 = true;
	r0->inputReleasedR = r1;
	r2 = 0.;
	r0->inputStartedTime = r2;
	label$1577ae0_10_83:
	return;
}

bool zui_Zui_inputChanged(zui__Zui r0) {
	bool r5;
	double r1, r2;
	int r3, r4;
	r1 = r0->inputDX;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_11_23;
	r1 = r0->inputDY;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_11_23;
	r3 = r0->inputWheelDelta;
	r4 = 0;
	if( r3 != r4 ) goto label$1577ae0_11_23;
	r5 = r0->inputStarted;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->inputStartedR;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->inputReleased;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->inputReleasedR;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->inputDown;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->inputDownR;
	if( r5 ) goto label$1577ae0_11_23;
	r5 = r0->isKeyPressed;
	return r5;
	label$1577ae0_11_23:
	r5 = true;
	return r5;
}

void zui_Zui_endWindow(zui__Zui r0,bool* r1) {
	kha__Image r40;
	vvirtual *r11, *r14;
	hl__types__ArrayObj r10;
	bool r2, r8, r32;
	kha__graphics2__Graphics r9;
	zui__$Zui r33;
	float r41, r42;
	double r12, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r35, r36, r37, r38;
	double *r31;
	vdynamic *r13, *r39;
	zui__Handle r3, r5, r34;
	int r6, r7;
	if( r1 ) goto label$1577ae0_12_3;
	r2 = true;
	goto label$1577ae0_12_4;
	label$1577ae0_12_3:
	r2 = *r1;
	label$1577ae0_12_4:
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_12_7;
	return;
	label$1577ae0_12_7:
	if( r3 == NULL ) hl_null_access();
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_12_13;
	r8 = r0->isScrolling;
	if( !r8 ) goto label$1577ae0_12_292;
	label$1577ae0_12_13:
	r8 = r0->scissor;
	if( !r8 ) goto label$1577ae0_12_20;
	r8 = false;
	r0->scissor = r8;
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r9->$type->vobj_proto[14])(r9);
	label$1577ae0_12_20:
	r10 = r0->tabNames;
	if( !r10 ) goto label$1577ae0_12_23;
	zui_Zui_drawTabs(r0);
	label$1577ae0_12_23:
	r8 = r3->dragEnabled;
	if( !r8 ) goto label$1577ae0_12_45;
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[26] ? (*(int*)(hl_vfields(r11)[26])) : (int)hl_dyn_geti(r11->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r9->$type->vobj_proto[11])(r9,r6);
	r12 = 15.;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r13 ? r13->v.d : 0;
	r12 = r12 * r15;
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	r15 = 0.;
	r16 = 0.;
	r17 = r0->_windowW;
	r6 = (int)r12;
	r18 = (double)r6;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r9->$type->vobj_proto[5])(r9,r15,r16,r17,r18);
	label$1577ae0_12_45:
	r12 = r0->_windowH;
	r15 = r0->windowHeaderH;
	r12 = r12 - r15;
	r15 = r0->_y;
	r16 = r3->scrollOffset;
	r15 = r15 - r16;
	r16 = r0->windowHeaderH;
	r15 = r15 - r16;
	if( r15 < r12 ) goto label$1577ae0_12_59;
	r6 = r3->layout;
	r7 = 1;
	if( r6 == r7 ) goto label$1577ae0_12_59;
	r8 = r0->scrollEnabled;
	if( r8 ) goto label$1577ae0_12_64;
	label$1577ae0_12_59:
	r8 = false;
	r3->scrollEnabled = r8;
	r16 = 0.;
	r3->scrollOffset = r16;
	goto label$1577ae0_12_270;
	label$1577ae0_12_64:
	r8 = true;
	r3->scrollEnabled = r8;
	r16 = r0->tabScroll;
	r17 = 0.;
	if( !(r16 < r17) ) goto label$1577ae0_12_73;
	r16 = r0->tabScroll;
	r3->scrollOffset = r16;
	r16 = 0.;
	r0->tabScroll = r16;
	label$1577ae0_12_73:
	r16 = r0->_windowY;
	r17 = r0->windowHeaderH;
	r16 = r16 + r17;
	r17 = r15 - r12;
	r18 = r3->scrollOffset;
	r18 = -r18;
	r19 = r18 / r17;
	r21 = r12 / r15;
	r21 = hl_math_abs(r21);
	r20 = r12 * r21;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r22 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r23 = r13 ? r13->v.d : 0;
	r22 = r22 * r23;
	r21 = Math_max(r20,r22);
	r20 = r21;
	r21 = r12 - r20;
	r22 = r17 / r21;
	r23 = r21 * r19;
	r24 = r0->windowHeaderH;
	r23 = r23 + r24;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r24 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r13 ? r13->v.d : 0;
	r24 = r24 * r25;
	r25 = r0->_windowX;
	r26 = r0->_windowW;
	r25 = r25 + r26;
	r6 = (int)r24;
	r26 = (double)r6;
	r25 = r25 - r26;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r26 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r13 ? r13->v.d : 0;
	r26 = r26 * r27;
	r29 = r0->_windowY;
	r28 = r23 + r29;
	r6 = (int)r26;
	r29 = (double)r6;
	r31 = NULL;
	r8 = zui_Zui_getInputInRect(r0,r25,r28,r29,r20,r31);
	r32 = r0->inputStarted;
	if( !r32 ) goto label$1577ae0_12_135;
	if( !r8 ) goto label$1577ae0_12_135;
	r0->scrollHandle = r3;
	r32 = true;
	r0->isScrolling = r32;
	label$1577ae0_12_135:
	r6 = r0->inputWheelDelta;
	r27 = (double)r6;
	r33 = (zui__$Zui)g$_zui_Zui;
	r32 = r33->touchScroll;
	if( !r32 ) goto label$1577ae0_12_162;
	r32 = r0->inputDown;
	if( !r32 ) goto label$1577ae0_12_162;
	r28 = r0->inputDY;
	r29 = 0.;
	if( r28 == r29 ) goto label$1577ae0_12_162;
	r28 = r0->inputX;
	r29 = r0->_windowX;
	r30 = r0->windowHeaderW;
	r29 = r29 + r30;
	if( !(r29 < r28) ) goto label$1577ae0_12_162;
	r28 = r0->inputY;
	r29 = r0->_windowY;
	r30 = r0->windowHeaderH;
	r29 = r29 + r30;
	if( !(r29 < r28) ) goto label$1577ae0_12_162;
	r32 = true;
	r0->isScrolling = r32;
	r28 = r0->inputDY;
	r28 = -r28;
	r29 = 20.;
	r28 = r28 / r29;
	r27 = r28;
	label$1577ae0_12_162:
	r34 = r0->scrollHandle;
	if( r3 != r34 ) goto label$1577ae0_12_168;
	r28 = r0->inputDY;
	r28 = r28 * r22;
	zui_Zui_scroll(r0,r28,r15);
	goto label$1577ae0_12_188;
	label$1577ae0_12_168:
	r29 = 0.;
	if( r27 == r29 ) goto label$1577ae0_12_188;
	r5 = r0->comboSelectedHandle;
	if( r5 ) goto label$1577ae0_12_188;
	r28 = r0->_windowX;
	r30 = r0->_windowW;
	r31 = NULL;
	r32 = zui_Zui_getInputInRect(r0,r28,r16,r30,r12,r31);
	if( !r32 ) goto label$1577ae0_12_188;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r29 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r30 = r13 ? r13->v.d : 0;
	r29 = r29 * r30;
	r28 = r27 * r29;
	zui_Zui_scroll(r0,r28,r15);
	label$1577ae0_12_188:
	r28 = r3->scrollOffset;
	r29 = 0.;
	if( !(r29 < r28) ) goto label$1577ae0_12_194;
	r28 = 0.;
	r3->scrollOffset = r28;
	goto label$1577ae0_12_199;
	label$1577ae0_12_194:
	r29 = r3->scrollOffset;
	r28 = r15 + r29;
	if( !(r28 < r12) ) goto label$1577ae0_12_199;
	r28 = r12 - r15;
	r3->scrollOffset = r28;
	label$1577ae0_12_199:
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[0] ? (*(int*)(hl_vfields(r11)[0])) : (int)hl_dyn_geti(r11->value,34671467/*ACCENT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r9->$type->vobj_proto[11])(r9,r6);
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r28 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r13 ? r13->v.d : 0;
	r28 = r28 * r29;
	r29 = r0->_windowX;
	r30 = r0->_windowW;
	r29 = r29 + r30;
	r6 = (int)r28;
	r30 = (double)r6;
	r29 = r29 - r30;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r30 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r35 = r13 ? r13->v.d : 0;
	r30 = r30 * r35;
	r6 = (int)r30;
	r37 = (double)r6;
	r31 = NULL;
	r32 = zui_Zui_getInputInRect(r0,r29,r16,r37,r12,r31);
	if( r32 ) goto label$1577ae0_12_236;
	r34 = r0->scrollHandle;
	if( r3 != r34 ) goto label$1577ae0_12_249;
	label$1577ae0_12_236:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r35 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r13 ? r13->v.d : 0;
	r35 = r35 * r36;
	r6 = (int)r35;
	r37 = (double)r6;
	r36 = r37;
	goto label$1577ae0_12_263;
	label$1577ae0_12_249:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r35 = (double)r6;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(vdynamic**)(hl_vfields(r14)[5])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r37 = r13 ? r13->v.d : 0;
	r35 = r35 * r37;
	r6 = (int)r35;
	r37 = (double)r6;
	r38 = 3.;
	r37 = r37 / r38;
	r36 = r37;
	label$1577ae0_12_263:
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	r35 = r0->_windowW;
	r35 = r35 - r37;
	r37 = r0->scrollAlign;
	r35 = r35 - r37;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r9->$type->vobj_proto[5])(r9,r35,r23,r36,r20);
	label$1577ae0_12_270:
	r16 = r0->_x;
	r3->lastMaxX = r16;
	r16 = r0->_y;
	r3->lastMaxY = r16;
	r6 = r3->layout;
	r7 = 0;
	if( r6 != r7 ) goto label$1577ae0_12_282;
	r16 = r3->lastMaxX;
	r17 = r0->_windowW;
	r16 = r16 + r17;
	r3->lastMaxX = r16;
	goto label$1577ae0_12_286;
	label$1577ae0_12_282:
	r16 = r3->lastMaxY;
	r17 = r0->_windowH;
	r16 = r16 + r17;
	r3->lastMaxY = r16;
	label$1577ae0_12_286:
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	r9 = r0->g;
	if( r9 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r9->$type->vobj_proto[1])(r9);
	label$1577ae0_12_292:
	r8 = true;
	r0->windowEnded = r8;
	r33 = (zui__$Zui)g$_zui_Zui;
	r8 = r33->alwaysRedrawWindow;
	if( r8 ) goto label$1577ae0_12_300;
	r6 = r3->redraws;
	r7 = -4;
	if( r7 >= r6 ) goto label$1577ae0_12_331;
	label$1577ae0_12_300:
	if( !r2 ) goto label$1577ae0_12_307;
	r9 = r0->globalG;
	if( r9 == NULL ) hl_null_access();
	r8 = false;
	r1 = &r8;
	r39 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r9->$type->vobj_proto[0])(r9,r1,r39);
	label$1577ae0_12_307:
	r9 = r0->globalG;
	if( r9 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[31] ? (*(int*)(hl_vfields(r11)[31])) : (int)hl_dyn_geti(r11->value,-291452927/*WINDOW_TINT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r9->$type->vobj_proto[11])(r9,r6);
	r9 = r0->globalG;
	if( r9 == NULL ) hl_null_access();
	r40 = r3->texture;
	r12 = r0->_windowX;
	r41 = (float)r12;
	r12 = r0->_windowY;
	r42 = (float)r12;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float))r9->$type->vobj_proto[2])(r9,r40,r41,r42);
	if( !r2 ) goto label$1577ae0_12_325;
	r9 = r0->globalG;
	if( r9 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r9->$type->vobj_proto[1])(r9);
	label$1577ae0_12_325:
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_12_331;
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	label$1577ae0_12_331:
	return;
}

void zui_Zui_scroll(zui__Zui r0,double r1,double r2) {
	double r4;
	zui__Handle r3;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->scrollOffset;
	r4 = r4 - r1;
	r3->scrollOffset = r4;
	return;
}

void zui_Zui_drawTabs(zui__Zui r0) {
	bool *r51;
	String r30;
	hl__types__ArrayObj r16;
	vvirtual *r8, *r10, *r37;
	bool r12, r33, r34, r35, r39;
	hl__types__ArrayBytes_Int r40;
	kha__Kravur r27;
	kha__graphics2__Graphics r19;
	double r1, r5, r6, r11, r13, r20, r21, r22, r23, r42, r43, r44, r45, r46, r47, r48, r49;
	int *r50;
	double *r32;
	vdynamic *r4, *r9;
	zui__Handle r3, r36, r38;
	vbyte *r41;
	varray *r31;
	int r7, r14, r15, r17, r18, r24, r25, r26, r28, r29;
	r1 = r0->restoreX;
	r0->inputX = r1;
	r1 = r0->restoreY;
	r0->inputY = r1;
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_14_7;
	return;
	label$1577ae0_14_7:
	r1 = 0.;
	r5 = 0.;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[5] ? (*(int*)(hl_vfields(r8)[5])) : (int)hl_dyn_geti(r8->value,-172474255/*BUTTON_H*/,&t$_i32);
	r6 = (double)r7;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r9 ? r9->v.d : 0;
	r6 = r6 * r11;
	r11 = 1.100000000000000089;
	r6 = r6 * r11;
	r7 = (int)r6;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r12 = r3->dragEnabled;
	if( !r12 ) goto label$1577ae0_14_34;
	r11 = 15.;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r9 ? r9->v.d : 0;
	r11 = r11 * r13;
	r15 = (int)r11;
	r14 = r15;
	goto label$1577ae0_14_36;
	label$1577ae0_14_34:
	r15 = 0;
	r14 = r15;
	label$1577ae0_14_36:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r12 = hl_vfields(r8)[19] ? (*(bool*)(hl_vfields(r8)[19])) : (bool)hl_dyn_geti(r8->value,302636408/*FULL_TABS*/,&t$_bool);
	if( !r12 ) goto label$1577ae0_14_53;
	r12 = r0->tabVertical;
	if( !r12 ) goto label$1577ae0_14_53;
	r11 = r0->_windowH;
	r13 = (double)r15;
	r11 = r11 - r13;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->length;
	r13 = (double)r15;
	r11 = r11 / r13;
	r17 = (int)r11;
	r15 = r17;
	goto label$1577ae0_14_54;
	label$1577ae0_14_53:
	r15 = r7;
	label$1577ae0_14_54:
	r11 = r0->_y;
	r13 = (double)r14;
	r0->_y = r13;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r12 = false;
	r3->changed = r12;
	r12 = r0->isCtrlDown;
	if( !r12 ) goto label$1577ae0_14_87;
	r12 = r0->isTabDown;
	if( !r12 ) goto label$1577ae0_14_87;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r17 = r3->position;
	++r17;
	r3->position = r17;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r17 = r3->position;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r18 = r16->length;
	if( r17 < r18 ) goto label$1577ae0_14_81;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r17 = 0;
	r3->position = r17;
	label$1577ae0_14_81:
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r12 = true;
	r3->changed = r12;
	r12 = false;
	r0->isTabDown = r12;
	label$1577ae0_14_87:
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r17 = r3->position;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r18 = r16->length;
	if( r17 < r18 ) goto label$1577ae0_14_102;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->length;
	r18 = 1;
	r17 = r17 - r18;
	r3->position = r17;
	label$1577ae0_14_102:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r17 = hl_vfields(r8)[26] ? (*(int*)(hl_vfields(r8)[26])) : (int)hl_dyn_geti(r8->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r17 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r17);
	r12 = r0->tabVertical;
	if( !r12 ) goto label$1577ae0_14_126;
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r13 = 0.;
	r20 = r0->_y;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r17 = hl_vfields(r8)[14] ? (*(int*)(hl_vfields(r8)[14])) : (int)hl_dyn_geti(r8->value,-482102225/*ELEMENT_W*/,&t$_i32);
	r21 = (double)r17;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r9 ? r9->v.d : 0;
	r21 = r21 * r22;
	r22 = r0->_windowH;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r13,r20,r21,r22);
	goto label$1577ae0_14_137;
	label$1577ae0_14_126:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r13 = 0.;
	r20 = r0->_y;
	r21 = r0->_windowW;
	r22 = r0->buttonOffsetY;
	r23 = (double)r15;
	r22 = r22 + r23;
	r23 = 2.;
	r22 = r22 + r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r13,r20,r21,r22);
	label$1577ae0_14_137:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r17 = hl_vfields(r8)[0] ? (*(int*)(hl_vfields(r8)[0])) : (int)hl_dyn_geti(r8->value,34671467/*ACCENT_COL*/,&t$_i32);
	r17 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r17);
	r12 = r0->tabVertical;
	if( !r12 ) goto label$1577ae0_14_161;
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r17 = hl_vfields(r8)[14] ? (*(int*)(hl_vfields(r8)[14])) : (int)hl_dyn_geti(r8->value,-482102225/*ELEMENT_W*/,&t$_i32);
	r13 = (double)r17;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r9 ? r9->v.d : 0;
	r13 = r13 * r20;
	r20 = r0->_y;
	r21 = 1.;
	r22 = r0->_windowH;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r13,r20,r21,r22);
	goto label$1577ae0_14_178;
	label$1577ae0_14_161:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r13 = r0->buttonOffsetY;
	r20 = r0->_y;
	r21 = r0->buttonOffsetY;
	r20 = r20 + r21;
	r21 = (double)r15;
	r20 = r20 + r21;
	r21 = 2.;
	r20 = r20 + r21;
	r21 = r0->_windowW;
	r22 = r0->buttonOffsetY;
	r23 = 2.;
	r22 = r22 * r23;
	r21 = r21 - r22;
	r22 = 1.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r13,r20,r21,r22);
	label$1577ae0_14_178:
	r12 = r0->tabVertical;
	if( !r12 ) goto label$1577ae0_14_182;
	r13 = r0->_y;
	goto label$1577ae0_14_185;
	label$1577ae0_14_182:
	r13 = r0->_y;
	r20 = 2.;
	r13 = r13 + r20;
	label$1577ae0_14_185:
	r17 = 0;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r18 = r16->length;
	label$1577ae0_14_189:
	if( r17 >= r18 ) goto label$1577ae0_14_483;
	r24 = r17;
	++r17;
	r0->_x = r1;
	r20 = r13 + r5;
	r0->_y = r20;
	r12 = r0->tabVertical;
	if( !r12 ) goto label$1577ae0_14_214;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r25 = hl_vfields(r8)[14] ? (*(int*)(hl_vfields(r8)[14])) : (int)hl_dyn_geti(r8->value,-482102225/*ELEMENT_W*/,&t$_i32);
	r20 = (double)r25;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r9 ? r9->v.d : 0;
	r20 = r20 * r21;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r9 ? r9->v.d : 0;
	r20 = r20 - r21;
	r26 = (int)r20;
	goto label$1577ae0_14_253;
	label$1577ae0_14_214:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r12 = hl_vfields(r8)[19] ? (*(bool*)(hl_vfields(r8)[19])) : (bool)hl_dyn_geti(r8->value,302636408/*FULL_TABS*/,&t$_bool);
	if( !r12 ) goto label$1577ae0_14_226;
	r20 = r0->_windowW;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r26 = r16->length;
	r21 = (double)r26;
	r20 = r20 / r21;
	r26 = (int)r20;
	goto label$1577ae0_14_253;
	label$1577ae0_14_226:
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r27 = hl_vfields(r10)[3] ? (*(kha__Kravur*)(hl_vfields(r10)[3])) : (kha__Kravur)hl_dyn_getp(r10->value,62938841/*font*/,&t$kha_Kravur);
	if( r27 == NULL ) hl_null_access();
	r26 = r0->fontSize;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r29 = r16->length;
	if( ((unsigned)r24) < ((unsigned)r29) ) goto label$1577ae0_14_237;
	r30 = NULL;
	goto label$1577ae0_14_240;
	label$1577ae0_14_237:
	r31 = r16->array;
	r4 = ((vdynamic**)(r31 + 1))[r24];
	r30 = (String)r4;
	label$1577ae0_14_240:
	r20 = kha_Kravur_width(r27,r26,r30);
	r21 = r0->buttonOffsetY;
	r22 = 2.;
	r21 = r21 * r22;
	r20 = r20 + r21;
	r21 = 18.;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r9 ? r9->v.d : 0;
	r21 = r21 * r22;
	r20 = r20 + r21;
	r26 = (int)r20;
	label$1577ae0_14_253:
	r0->_w = r26;
	r20 = (double)r15;
	r32 = &r20;
	r12 = zui_Zui_getReleased(r0,r32);
	r21 = (double)r15;
	r32 = &r21;
	r33 = zui_Zui_getPushed(r0,r32);
	r22 = (double)r15;
	r32 = &r22;
	r34 = zui_Zui_getHover(r0,r32);
	if( !r12 ) goto label$1577ae0_14_294;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r36 = r0->tabHandle;
	if( r36 == NULL ) hl_null_access();
	r26 = r36->position;
	r37 = NULL;
	r3 = zui_Handle_nest(r3,r26,r37);
	if( r3 == NULL ) hl_null_access();
	r38 = r0->currentWindow;
	if( r38 == NULL ) hl_null_access();
	r23 = r38->scrollOffset;
	r3->scrollOffset = r23;
	r36 = r0->tabHandle;
	if( r36 == NULL ) hl_null_access();
	r37 = NULL;
	r36 = zui_Handle_nest(r36,r24,r37);
	if( r36 == NULL ) hl_null_access();
	r23 = r36->scrollOffset;
	r0->tabScroll = r23;
	r36 = r0->tabHandle;
	if( r36 == NULL ) hl_null_access();
	r36->position = r24;
	r36 = r0->currentWindow;
	if( r36 == NULL ) hl_null_access();
	r26 = 3;
	r36->redraws = r26;
	r36 = r0->tabHandle;
	if( r36 == NULL ) hl_null_access();
	r35 = true;
	r36->changed = r35;
	label$1577ae0_14_294:
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r26 = r3->position;
	if( r26 == r24 ) goto label$1577ae0_14_300;
	r35 = false;
	goto label$1577ae0_14_301;
	label$1577ae0_14_300:
	r35 = true;
	label$1577ae0_14_301:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	if( r33 ) goto label$1577ae0_14_305;
	if( !r34 ) goto label$1577ae0_14_309;
	label$1577ae0_14_305:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r26 = hl_vfields(r8)[6] ? (*(int*)(hl_vfields(r8)[6])) : (int)hl_dyn_geti(r8->value,513780351/*BUTTON_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_14_340;
	label$1577ae0_14_309:
	r40 = r0->tabColors;
	if( r40 == NULL ) hl_null_access();
	r28 = r40->length;
	if( ((unsigned)r24) < ((unsigned)r28) ) goto label$1577ae0_14_315;
	r26 = 0;
	goto label$1577ae0_14_319;
	label$1577ae0_14_315:
	r41 = r40->bytes;
	r28 = 2;
	r28 = r24 << r28;
	r26 = *(int*)(r41 + r28);
	label$1577ae0_14_319:
	r28 = -1;
	if( r26 == r28 ) goto label$1577ae0_14_332;
	r40 = r0->tabColors;
	if( r40 == NULL ) hl_null_access();
	r28 = r40->length;
	if( ((unsigned)r24) < ((unsigned)r28) ) goto label$1577ae0_14_327;
	r26 = 0;
	goto label$1577ae0_14_331;
	label$1577ae0_14_327:
	r41 = r40->bytes;
	r28 = 2;
	r28 = r24 << r28;
	r26 = *(int*)(r41 + r28);
	label$1577ae0_14_331:
	goto label$1577ae0_14_340;
	label$1577ae0_14_332:
	if( !r35 ) goto label$1577ae0_14_337;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r26 = hl_vfields(r8)[30] ? (*(int*)(hl_vfields(r8)[30])) : (int)hl_dyn_geti(r8->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	goto label$1577ae0_14_340;
	label$1577ae0_14_337:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r26 = hl_vfields(r8)[26] ? (*(int*)(hl_vfields(r8)[26])) : (int)hl_dyn_geti(r8->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	label$1577ae0_14_340:
	r26 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r26);
	r39 = r0->tabVertical;
	if( !r39 ) goto label$1577ae0_14_349;
	r28 = 1;
	r26 = r15 + r28;
	r42 = (double)r26;
	r23 = r5 + r42;
	r5 = r23;
	goto label$1577ae0_14_355;
	label$1577ae0_14_349:
	r26 = r0->_w;
	r28 = 1;
	r26 = r26 + r28;
	r42 = (double)r26;
	r23 = r1 + r42;
	r1 = r23;
	label$1577ae0_14_355:
	r19 = r0->g;
	r23 = r0->_x;
	r42 = r0->buttonOffsetY;
	r23 = r23 + r42;
	r42 = r0->_y;
	r43 = r0->buttonOffsetY;
	r42 = r42 + r43;
	r26 = r0->_w;
	r43 = (double)r26;
	r44 = 0.;
	r46 = 0.;
	if( r44 != r46 ) goto label$1577ae0_14_368;
	r45 = 1.;
	label$1577ae0_14_368:
	r39 = r0->enabled;
	if( r39 ) goto label$1577ae0_14_371;
	zui_Zui_fadeColor(r0);
	label$1577ae0_14_371:
	if( r19 == NULL ) hl_null_access();
	r47 = 1.;
	r46 = r42 - r47;
	r48 = (double)r15;
	r49 = 1.;
	r48 = r48 + r49;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r23,r46,r43,r48);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	if( !r35 ) goto label$1577ae0_14_385;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r26 = hl_vfields(r8)[8] ? (*(int*)(hl_vfields(r8)[8])) : (int)hl_dyn_geti(r8->value,-348918917/*BUTTON_TEXT_COL*/,&t$_i32);
	goto label$1577ae0_14_388;
	label$1577ae0_14_385:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r26 = hl_vfields(r8)[21] ? (*(int*)(hl_vfields(r8)[21])) : (int)hl_dyn_geti(r8->value,370483844/*LABEL_COL*/,&t$_i32);
	label$1577ae0_14_388:
	r26 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r26);
	r19 = r0->g;
	r16 = r0->tabNames;
	if( r16 == NULL ) hl_null_access();
	r28 = r16->length;
	if( ((unsigned)r24) < ((unsigned)r28) ) goto label$1577ae0_14_396;
	r30 = NULL;
	goto label$1577ae0_14_399;
	label$1577ae0_14_396:
	r31 = r16->array;
	r4 = ((vdynamic**)(r31 + 1))[r24];
	r30 = (String)r4;
	label$1577ae0_14_399:
	r9 = NULL;
	r26 = r15 - r7;
	r23 = (double)r26;
	r42 = 2.;
	r23 = r23 / r42;
	r32 = &r23;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r39 = hl_vfields(r8)[19] ? (*(bool*)(hl_vfields(r8)[19])) : (bool)hl_dyn_geti(r8->value,302636408/*FULL_TABS*/,&t$_bool);
	if( !r39 ) goto label$1577ae0_14_411;
	r26 = 1;
	goto label$1577ae0_14_412;
	label$1577ae0_14_411:
	r26 = 0;
	label$1577ae0_14_412:
	r50 = &r26;
	r51 = NULL;
	zui_Zui_drawString(r0,r19,r30,r9,r32,r50,r51);
	if( !r35 ) goto label$1577ae0_14_482;
	r39 = r0->tabVertical;
	if( !r39 ) goto label$1577ae0_14_440;
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r28 = hl_vfields(r8)[20] ? (*(int*)(hl_vfields(r8)[20])) : (int)hl_dyn_geti(r8->value,238403893/*HIGHLIGHT_COL*/,&t$_i32);
	r28 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r28);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r42 = r0->_x;
	r43 = r0->buttonOffsetY;
	r42 = r42 + r43;
	r43 = r0->_y;
	r44 = r0->buttonOffsetY;
	r43 = r43 + r44;
	r44 = 1.;
	r43 = r43 - r44;
	r44 = 2.;
	r45 = (double)r15;
	r46 = r0->buttonOffsetY;
	r45 = r45 + r46;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r42,r43,r44,r45);
	goto label$1577ae0_14_482;
	label$1577ae0_14_440:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r28 = hl_vfields(r8)[30] ? (*(int*)(hl_vfields(r8)[30])) : (int)hl_dyn_geti(r8->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	r28 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r28);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r42 = r0->_x;
	r43 = r0->buttonOffsetY;
	r42 = r42 + r43;
	r43 = 1.;
	r42 = r42 + r43;
	r43 = r0->_y;
	r44 = r0->buttonOffsetY;
	r43 = r43 + r44;
	r44 = (double)r15;
	r43 = r43 + r44;
	r28 = r0->_w;
	r29 = 1;
	r28 = r28 - r29;
	r44 = (double)r28;
	r45 = 1.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r42,r43,r44,r45);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r28 = hl_vfields(r8)[20] ? (*(int*)(hl_vfields(r8)[20])) : (int)hl_dyn_geti(r8->value,238403893/*HIGHLIGHT_COL*/,&t$_i32);
	r28 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r28);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r42 = r0->_x;
	r43 = r0->buttonOffsetY;
	r42 = r42 + r43;
	r43 = r0->_y;
	r44 = r0->buttonOffsetY;
	r43 = r43 + r44;
	r28 = r0->_w;
	r44 = (double)r28;
	r45 = 2.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r42,r43,r44,r45);
	label$1577ae0_14_482:
	goto label$1577ae0_14_189;
	label$1577ae0_14_483:
	r42 = 0.;
	r0->_x = r42;
	r0->_y = r11;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r12 = r3->scrollEnabled;
	if( r12 ) goto label$1577ae0_14_493;
	r43 = r0->_windowW;
	r42 = r43;
	goto label$1577ae0_14_507;
	label$1577ae0_14_493:
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r17 = hl_vfields(r8)[25] ? (*(int*)(hl_vfields(r8)[25])) : (int)hl_dyn_geti(r8->value,-438651803/*SCROLL_W*/,&t$_i32);
	r43 = (double)r17;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r44 = r9 ? r9->v.d : 0;
	r43 = r43 * r44;
	r44 = r0->_windowW;
	r17 = (int)r43;
	r45 = (double)r17;
	r44 = r44 - r45;
	r42 = r44;
	label$1577ae0_14_507:
	r17 = (int)r42;
	r0->_w = r17;
	return;
}

int zui_Zui_image(zui__Zui r0,kha__Image r1,int* r2,vdynamic* r3,int* r4,int* r5,int* r6,int* r7) {
	vvirtual *r17, *r32;
	bool r22, r30, r35, r36, r37, r38;
	kha__graphics2__Graphics r42;
	float r43, r44, r45, r46, r47, r48, r49, r50;
	hl__types__ArrayBytes_Float r26;
	double r13, r18, r20, r21, r24, r25, r28, r29, r31, r33, r39, r40, r41;
	double *r34;
	zui__Handle r23;
	vdynamic *r16;
	vbyte *r27;
	int r8, r9, r10, r11, r12, r14, r15;
	if( r2 ) goto label$1577ae0_15_3;
	r8 = -1;
	goto label$1577ae0_15_4;
	label$1577ae0_15_3:
	r8 = *r2;
	label$1577ae0_15_4:
	if( r4 ) goto label$1577ae0_15_7;
	r9 = 0;
	goto label$1577ae0_15_8;
	label$1577ae0_15_7:
	r9 = *r4;
	label$1577ae0_15_8:
	if( r5 ) goto label$1577ae0_15_11;
	r10 = 0;
	goto label$1577ae0_15_12;
	label$1577ae0_15_11:
	r10 = *r5;
	label$1577ae0_15_12:
	if( r6 ) goto label$1577ae0_15_15;
	r11 = 0;
	goto label$1577ae0_15_16;
	label$1577ae0_15_15:
	r11 = *r6;
	label$1577ae0_15_16:
	if( r7 ) goto label$1577ae0_15_19;
	r12 = 0;
	goto label$1577ae0_15_20;
	label$1577ae0_15_19:
	r12 = *r7;
	label$1577ae0_15_20:
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_15_24;
	r14 = r11;
	goto label$1577ae0_15_26;
	label$1577ae0_15_24:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_width(r1);
	label$1577ae0_15_26:
	r13 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r18 = r16 ? r16->v.d : 0;
	r13 = r13 * r18;
	r15 = 0;
	if( r15 >= r12 ) goto label$1577ae0_15_36;
	r14 = r12;
	goto label$1577ae0_15_38;
	label$1577ae0_15_36:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_height(r1);
	label$1577ae0_15_38:
	r18 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r16 ? r16->v.d : 0;
	r18 = r18 * r20;
	r14 = r0->_w;
	r21 = (double)r14;
	r20 = Math_min(r13,r21);
	r21 = r0->_x;
	r23 = r0->currentWindow;
	if( !r23 ) goto label$1577ae0_15_56;
	r23 = r0->currentWindow;
	if( r23 == NULL ) hl_null_access();
	r22 = r23->scrollEnabled;
	if( !r22 ) goto label$1577ae0_15_56;
	r22 = true;
	goto label$1577ae0_15_57;
	label$1577ae0_15_56:
	r22 = false;
	label$1577ae0_15_57:
	r14 = r0->curRatio;
	r15 = -1;
	if( r14 != r15 ) goto label$1577ae0_15_63;
	r25 = 1.;
	r24 = r25;
	goto label$1577ae0_15_80;
	label$1577ae0_15_63:
	r26 = r0->ratios;
	if( r26 == NULL ) hl_null_access();
	r14 = r0->curRatio;
	r15 = r26->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$1577ae0_15_70;
	r25 = 0.;
	goto label$1577ae0_15_74;
	label$1577ae0_15_70:
	r27 = r26->bytes;
	r15 = 3;
	r15 = r14 << r15;
	r25 = *(double*)(r27 + r15);
	label$1577ae0_15_74:
	r29 = 0.;
	if( !(r25 < r29) ) goto label$1577ae0_15_78;
	r28 = -r25;
	goto label$1577ae0_15_79;
	label$1577ae0_15_78:
	r28 = r25;
	label$1577ae0_15_79:
	r24 = r28;
	label$1577ae0_15_80:
	r30 = r0->imageScrollAlign;
	if( !r30 ) goto label$1577ae0_15_125;
	r14 = r0->_w;
	r28 = (double)r14;
	r29 = r0->buttonOffsetY;
	r31 = 2.;
	r29 = r29 * r31;
	r28 = r28 - r29;
	r25 = Math_min(r13,r28);
	r20 = r25;
	r28 = r0->buttonOffsetY;
	r25 = r21 + r28;
	r21 = r25;
	if( r22 ) goto label$1577ae0_15_124;
	r32 = r0->_t;
	if( r32 == NULL ) hl_null_access();
	r14 = hl_vfields(r32)[25] ? (*(int*)(hl_vfields(r32)[25])) : (int)hl_dyn_geti(r32->value,-438651803/*SCROLL_W*/,&t$_i32);
	r25 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r28 = r16 ? r16->v.d : 0;
	r25 = r25 * r28;
	r14 = (int)r25;
	r29 = (double)r14;
	r29 = r29 * r24;
	r28 = r20 - r29;
	r20 = r28;
	r32 = r0->_t;
	if( r32 == NULL ) hl_null_access();
	r14 = hl_vfields(r32)[25] ? (*(int*)(hl_vfields(r32)[25])) : (int)hl_dyn_geti(r32->value,-438651803/*SCROLL_W*/,&t$_i32);
	r28 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r16 ? r16->v.d : 0;
	r28 = r28 * r29;
	r14 = (int)r28;
	r31 = (double)r14;
	r31 = r31 * r24;
	r33 = 2.;
	r31 = r31 / r33;
	r29 = r21 + r31;
	r21 = r29;
	label$1577ae0_15_124:
	goto label$1577ae0_15_140;
	label$1577ae0_15_125:
	if( !r22 ) goto label$1577ae0_15_140;
	r32 = r0->_t;
	if( r32 == NULL ) hl_null_access();
	r14 = hl_vfields(r32)[25] ? (*(int*)(hl_vfields(r32)[25])) : (int)hl_dyn_geti(r32->value,-438651803/*SCROLL_W*/,&t$_i32);
	r25 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r28 = r16 ? r16->v.d : 0;
	r25 = r25 * r28;
	r14 = (int)r25;
	r29 = (double)r14;
	r29 = r29 * r24;
	r28 = r20 + r29;
	r20 = r28;
	label$1577ae0_15_140:
	if( r3 ) goto label$1577ae0_15_143;
	r25 = r20 / r13;
	goto label$1577ae0_15_145;
	label$1577ae0_15_143:
	r25 = r3 ? r3->v.d : 0;
	r25 = r25 / r18;
	label$1577ae0_15_145:
	if( r3 ) goto label$1577ae0_15_150;
	r28 = r18 * r25;
	r16 = hl_alloc_dynamic(&t$_f64);
	r16->v.d = r28;
	r3 = r16;
	goto label$1577ae0_15_152;
	label$1577ae0_15_150:
	r28 = r13 * r25;
	r20 = r28;
	label$1577ae0_15_152:
	r28 = r3 ? r3->v.d : 0;
	r30 = zui_Zui_isVisible(r0,r28);
	if( r30 ) goto label$1577ae0_15_158;
	zui_Zui_endElement(r0,r3);
	r14 = 0;
	return r14;
	label$1577ae0_15_158:
	if( r3 ) goto label$1577ae0_15_161;
	r34 = NULL;
	goto label$1577ae0_15_163;
	label$1577ae0_15_161:
	r28 = r3 ? r3->v.d : 0;
	r34 = &r28;
	label$1577ae0_15_163:
	r30 = zui_Zui_getStarted(r0,r34);
	if( r3 ) goto label$1577ae0_15_167;
	r34 = NULL;
	goto label$1577ae0_15_169;
	label$1577ae0_15_167:
	r29 = r3 ? r3->v.d : 0;
	r34 = &r29;
	label$1577ae0_15_169:
	r35 = zui_Zui_getPushed(r0,r34);
	if( r3 ) goto label$1577ae0_15_173;
	r34 = NULL;
	goto label$1577ae0_15_175;
	label$1577ae0_15_173:
	r31 = r3 ? r3->v.d : 0;
	r34 = &r31;
	label$1577ae0_15_175:
	r36 = zui_Zui_getReleased(r0,r34);
	if( r3 ) goto label$1577ae0_15_179;
	r34 = NULL;
	goto label$1577ae0_15_181;
	label$1577ae0_15_179:
	r33 = r3 ? r3->v.d : 0;
	r34 = &r33;
	label$1577ae0_15_181:
	r37 = zui_Zui_getHover(r0,r34);
	r14 = r0->curRatio;
	r15 = -1;
	if( r14 != r15 ) goto label$1577ae0_15_205;
	if( r30 ) goto label$1577ae0_15_189;
	if( r35 ) goto label$1577ae0_15_189;
	if( r36 ) goto label$1577ae0_15_189;
	if( !r37 ) goto label$1577ae0_15_205;
	label$1577ae0_15_189:
	r39 = r0->inputX;
	r40 = r0->_windowX;
	r41 = r0->_x;
	r40 = r40 + r41;
	if( r39 < r40 ) goto label$1577ae0_15_200;
	r39 = r0->inputX;
	r40 = r0->_windowX;
	r41 = r0->_x;
	r40 = r40 + r41;
	r40 = r40 + r20;
	if( !(r40 < r39) ) goto label$1577ae0_15_205;
	label$1577ae0_15_200:
	r38 = false;
	r37 = r38;
	r36 = r38;
	r35 = r38;
	r30 = r38;
	label$1577ae0_15_205:
	r42 = r0->g;
	if( r42 == NULL ) hl_null_access();
	r14 = ((int (*)(kha__graphics2__Graphics,int))r42->$type->vobj_proto[11])(r42,r8);
	r38 = r0->enabled;
	if( r38 ) goto label$1577ae0_15_211;
	zui_Zui_fadeColor(r0);
	label$1577ae0_15_211:
	r39 = r3 ? r3->v.d : 0;
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_15_244;
	r38 = r0->imageInvertY;
	if( !r38 ) goto label$1577ae0_15_231;
	r42 = r0->g;
	if( r42 == NULL ) hl_null_access();
	r43 = (float)r9;
	r44 = (float)r10;
	r45 = (float)r11;
	r46 = (float)r12;
	r47 = (float)r21;
	r40 = r0->_y;
	r40 = r40 + r39;
	r48 = (float)r40;
	r49 = (float)r20;
	r40 = -r39;
	r50 = (float)r40;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r42->$type->vobj_proto[3])(r42,r1,r43,r44,r45,r46,r47,r48,r49,r50);
	goto label$1577ae0_15_243;
	label$1577ae0_15_231:
	r42 = r0->g;
	if( r42 == NULL ) hl_null_access();
	r43 = (float)r9;
	r44 = (float)r10;
	r45 = (float)r11;
	r46 = (float)r12;
	r47 = (float)r21;
	r40 = r0->_y;
	r48 = (float)r40;
	r49 = (float)r20;
	r50 = (float)r39;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r42->$type->vobj_proto[3])(r42,r1,r43,r44,r45,r46,r47,r48,r49,r50);
	label$1577ae0_15_243:
	goto label$1577ae0_15_265;
	label$1577ae0_15_244:
	r38 = r0->imageInvertY;
	if( !r38 ) goto label$1577ae0_15_257;
	r42 = r0->g;
	if( r42 == NULL ) hl_null_access();
	r43 = (float)r21;
	r40 = r0->_y;
	r40 = r40 + r39;
	r44 = (float)r40;
	r45 = (float)r20;
	r40 = -r39;
	r46 = (float)r40;
	kha_graphics2_Graphics_drawScaledImage(r42,r1,r43,r44,r45,r46);
	goto label$1577ae0_15_265;
	label$1577ae0_15_257:
	r42 = r0->g;
	if( r42 == NULL ) hl_null_access();
	r43 = (float)r21;
	r40 = r0->_y;
	r44 = (float)r40;
	r45 = (float)r20;
	r46 = (float)r39;
	kha_graphics2_Graphics_drawScaledImage(r42,r1,r43,r44,r45,r46);
	label$1577ae0_15_265:
	zui_Zui_endElement(r0,r3);
	if( !r30 ) goto label$1577ae0_15_269;
	r14 = 1;
	return r14;
	label$1577ae0_15_269:
	if( !r36 ) goto label$1577ae0_15_272;
	r14 = 3;
	return r14;
	label$1577ae0_15_272:
	if( !r35 ) goto label$1577ae0_15_275;
	r14 = 2;
	return r14;
	label$1577ae0_15_275:
	if( !r37 ) goto label$1577ae0_15_278;
	r14 = 4;
	return r14;
	label$1577ae0_15_278:
	r14 = 0;
	return r14;
}

int zui_Zui_text(zui__Zui r0,String r1,int* r2,int* r3) {
	bool *r37;
	String r8, r9;
	vvirtual *r17, *r19;
	hl__types__ArrayObj r12;
	bool r22, r26, r27, r28;
	kha__graphics2__Graphics r31;
	kha__Kravur r21;
	double r16, r20, r23, r24, r29, r32, r33, r34, r35, r36;
	double *r25;
	vdynamic *r10, *r14, *r18;
	varray *r15;
	int r4, r5, r7, r11, r13, r30;
	if( r2 ) goto label$1577ae0_16_3;
	r4 = 0;
	goto label$1577ae0_16_4;
	label$1577ae0_16_3:
	r4 = *r2;
	label$1577ae0_16_4:
	if( r3 ) goto label$1577ae0_16_7;
	r5 = 0;
	goto label$1577ae0_16_8;
	label$1577ae0_16_7:
	r5 = *r3;
	label$1577ae0_16_8:
	if( r1 == NULL ) hl_null_access();
	r9 = (String)s$68b329d;
	r10 = NULL;
	r7 = String_indexOf(r1,r9,r10);
	r11 = 0;
	if( r7 < r11 ) goto label$1577ae0_16_37;
	r7 = 0;
	r9 = (String)s$68b329d;
	r12 = String_split(r1,r9);
	label$1577ae0_16_17:
	if( r12 == NULL ) hl_null_access();
	r13 = r12->length;
	if( r7 >= r13 ) goto label$1577ae0_16_35;
	r13 = r12->length;
	if( ((unsigned)r7) < ((unsigned)r13) ) goto label$1577ae0_16_25;
	r8 = NULL;
	goto label$1577ae0_16_28;
	label$1577ae0_16_25:
	r15 = r12->array;
	r14 = ((vdynamic**)(r15 + 1))[r7];
	r8 = (String)r14;
	label$1577ae0_16_28:
	++r7;
	r11 = r4;
	r2 = &r11;
	r13 = r5;
	r3 = &r13;
	r11 = zui_Zui_text(r0,r8,r2,r3);
	goto label$1577ae0_16_17;
	label$1577ae0_16_35:
	r7 = 0;
	return r7;
	label$1577ae0_16_37:
	r17 = r0->_t;
	if( r17 == NULL ) hl_null_access();
	r7 = hl_vfields(r17)[12] ? (*(int*)(hl_vfields(r17)[12])) : (int)hl_dyn_geti(r17->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r16 = (double)r7;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[5] ? (*(vdynamic**)(hl_vfields(r19)[5])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r18 ? r18->v.d : 0;
	r16 = r16 * r20;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r21 = hl_vfields(r19)[3] ? (*(kha__Kravur*)(hl_vfields(r19)[3])) : (kha__Kravur)hl_dyn_getp(r19->value,62938841/*font*/,&t$kha_Kravur);
	if( r21 == NULL ) hl_null_access();
	r7 = r0->fontSize;
	r20 = kha_Kravur_height(r21,r7);
	r16 = Math_max(r16,r20);
	r22 = zui_Zui_isVisible(r0,r16);
	if( r22 ) goto label$1577ae0_16_69;
	r17 = r0->_t;
	if( r17 == NULL ) hl_null_access();
	r7 = hl_vfields(r17)[13] ? (*(int*)(hl_vfields(r17)[13])) : (int)hl_dyn_geti(r17->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r23 = (double)r7;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[5] ? (*(vdynamic**)(hl_vfields(r19)[5])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r24 = r18 ? r18->v.d : 0;
	r23 = r23 * r24;
	r20 = r16 + r23;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r20;
	zui_Zui_endElement(r0,r18);
	r7 = 0;
	return r7;
	label$1577ae0_16_69:
	r20 = r16;
	r25 = &r20;
	r22 = zui_Zui_getStarted(r0,r25);
	r23 = r16;
	r25 = &r23;
	r26 = zui_Zui_getPushed(r0,r25);
	r24 = r16;
	r25 = &r24;
	r27 = zui_Zui_getReleased(r0,r25);
	r29 = r16;
	r25 = &r29;
	r28 = zui_Zui_getHover(r0,r25);
	r30 = 0;
	if( r5 == r30 ) goto label$1577ae0_16_110;
	r31 = r0->g;
	if( r31 == NULL ) hl_null_access();
	r7 = ((int (*)(kha__graphics2__Graphics,int))r31->$type->vobj_proto[11])(r31,r5);
	r31 = r0->g;
	if( r31 == NULL ) hl_null_access();
	r32 = r0->_x;
	r33 = r0->buttonOffsetY;
	r32 = r32 + r33;
	r33 = r0->_y;
	r34 = r0->buttonOffsetY;
	r33 = r33 + r34;
	r7 = r0->_w;
	r34 = (double)r7;
	r35 = r0->buttonOffsetY;
	r36 = 2.;
	r35 = r35 * r36;
	r34 = r34 - r35;
	r17 = r0->_t;
	if( r17 == NULL ) hl_null_access();
	r7 = hl_vfields(r17)[5] ? (*(int*)(hl_vfields(r17)[5])) : (int)hl_dyn_geti(r17->value,-172474255/*BUTTON_H*/,&t$_i32);
	r35 = (double)r7;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[5] ? (*(vdynamic**)(hl_vfields(r19)[5])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r18 ? r18->v.d : 0;
	r35 = r35 * r36;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r31->$type->vobj_proto[5])(r31,r32,r33,r34,r35);
	label$1577ae0_16_110:
	r31 = r0->g;
	if( r31 == NULL ) hl_null_access();
	r17 = r0->_t;
	if( r17 == NULL ) hl_null_access();
	r7 = hl_vfields(r17)[28] ? (*(int*)(hl_vfields(r17)[28])) : (int)hl_dyn_geti(r17->value,-437956663/*TEXT_COL*/,&t$_i32);
	r7 = ((int (*)(kha__graphics2__Graphics,int))r31->$type->vobj_proto[11])(r31,r7);
	r31 = r0->g;
	r18 = NULL;
	r7 = 0;
	r32 = (double)r7;
	r25 = &r32;
	r7 = r4;
	r2 = &r7;
	r37 = NULL;
	zui_Zui_drawString(r0,r31,r1,r18,r25,r2,r37);
	r17 = r0->_t;
	if( r17 == NULL ) hl_null_access();
	r30 = hl_vfields(r17)[13] ? (*(int*)(hl_vfields(r17)[13])) : (int)hl_dyn_geti(r17->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r34 = (double)r30;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[5] ? (*(vdynamic**)(hl_vfields(r19)[5])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r35 = r18 ? r18->v.d : 0;
	r34 = r34 * r35;
	r33 = r16 + r34;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r33;
	zui_Zui_endElement(r0,r18);
	if( !r22 ) goto label$1577ae0_16_140;
	r30 = 1;
	return r30;
	label$1577ae0_16_140:
	if( !r27 ) goto label$1577ae0_16_143;
	r30 = 3;
	return r30;
	label$1577ae0_16_143:
	if( !r26 ) goto label$1577ae0_16_146;
	r30 = 2;
	return r30;
	label$1577ae0_16_146:
	r30 = 0;
	return r30;
}

void zui_Zui_startTextEdit(zui__Zui r0,zui__Handle r1,int* r2) {
	String r6;
	bool r4;
	zui__Handle r5;
	kha__input__Keyboard r9;
	int r3, r7;
	if( r2 ) goto label$1577ae0_17_3;
	r3 = 0;
	goto label$1577ae0_17_4;
	label$1577ae0_17_3:
	r3 = *r2;
	label$1577ae0_17_4:
	r4 = true;
	r0->isTyping = r4;
	r5 = r0->textSelectedHandle;
	r0->submitTextHandle = r5;
	r6 = r0->textSelected;
	r0->textToSubmit = r6;
	r0->textSelectedHandle = r1;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->text;
	r0->textSelected = r6;
	r6 = r1->text;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->length;
	r0->cursorX = r7;
	r4 = r0->tabPressed;
	if( !r4 ) goto label$1577ae0_17_25;
	r4 = false;
	r0->tabPressed = r4;
	r4 = false;
	r0->isKeyPressed = r4;
	goto label$1577ae0_17_28;
	label$1577ae0_17_25:
	r4 = r0->highlightOnSelect;
	if( r4 ) goto label$1577ae0_17_28;
	zui_Zui_setCursorToInput(r0,r3);
	label$1577ae0_17_28:
	r0->tabPressedHandle = r1;
	r4 = r0->highlightOnSelect;
	if( !r4 ) goto label$1577ae0_17_33;
	r7 = 0;
	goto label$1577ae0_17_34;
	label$1577ae0_17_33:
	r7 = r0->cursorX;
	label$1577ae0_17_34:
	r0->highlightAnchor = r7;
	r2 = NULL;
	r9 = kha_input_Keyboard_get(r2);
	if( !r9 ) goto label$1577ae0_17_42;
	r2 = NULL;
	r9 = kha_input_Keyboard_get(r2);
	if( r9 == NULL ) hl_null_access();
	kha_input_Keyboard_show(r9);
	label$1577ae0_17_42:
	return;
}

void zui_Zui_submitTextEdit(zui__Zui r0) {
	String r3, r5;
	bool r2;
	zui__Handle r1, r4;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r4 = r0->submitTextHandle;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->text;
	r5 = r0->textToSubmit;
	if( r3 != r5 && (!r3 || !r5 || String___compare(r3,(vdynamic*)r5) != 0) ) goto label$1577ae0_18_9;
	r2 = false;
	goto label$1577ae0_18_10;
	label$1577ae0_18_9:
	r2 = true;
	label$1577ae0_18_10:
	r1->changed = r2;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r3 = r0->textToSubmit;
	r1->text = r3;
	r1 = NULL;
	r0->submitTextHandle = r1;
	r3 = (String)s$;
	r0->textToSubmit = r3;
	r3 = (String)s$;
	r0->textSelected = r3;
	return;
}

void zui_Zui_updateTextEdit(zui__Zui r0,int* r1,bool* r2,bool* r3) {
	String r7, r14, r16, r17;
	vvirtual *r22, *r24;
	bool r5, r6, r9, r19;
	kha__graphics2__Graphics r35;
	kha__Kravur r31;
	zui__$Zui r20;
	double r21, r25, r26, r27, r28, r32, r33, r34, r36, r37;
	zui__Handle r18, r38;
	vdynamic *r10, *r12, *r23;
	int r4, r11, r13, r15, r29, r30;
	if( r1 ) goto label$1577ae0_19_3;
	r4 = 0;
	goto label$1577ae0_19_4;
	label$1577ae0_19_3:
	r4 = *r1;
	label$1577ae0_19_4:
	if( r2 ) goto label$1577ae0_19_7;
	r5 = true;
	goto label$1577ae0_19_8;
	label$1577ae0_19_7:
	r5 = *r2;
	label$1577ae0_19_8:
	if( r3 ) goto label$1577ae0_19_11;
	r6 = false;
	goto label$1577ae0_19_12;
	label$1577ae0_19_11:
	r6 = *r3;
	label$1577ae0_19_12:
	r7 = r0->textSelected;
	r9 = r0->isKeyPressed;
	if( !r9 ) goto label$1577ae0_19_291;
	r10 = r0->key;
	r11 = 37;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_26;
	r11 = r0->cursorX;
	r13 = 0;
	if( r13 >= r11 ) goto label$1577ae0_19_25;
	r11 = r0->cursorX;
	--r11;
	r0->cursorX = r11;
	label$1577ae0_19_25:
	goto label$1577ae0_19_265;
	label$1577ae0_19_26:
	r10 = r0->key;
	r11 = 39;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_38;
	r11 = r0->cursorX;
	if( r7 == NULL ) hl_null_access();
	r13 = r7->length;
	if( r11 >= r13 ) goto label$1577ae0_19_37;
	r11 = r0->cursorX;
	++r11;
	r0->cursorX = r11;
	label$1577ae0_19_37:
	goto label$1577ae0_19_265;
	label$1577ae0_19_38:
	if( !r5 ) goto label$1577ae0_19_95;
	r10 = r0->key;
	r11 = 8;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_95;
	r11 = r0->cursorX;
	r13 = 0;
	if( r13 >= r11 ) goto label$1577ae0_19_66;
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 != r13 ) goto label$1577ae0_19_66;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r15 = 1;
	r13 = r13 - r15;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->cursorX;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->cursorX;
	--r11;
	r0->cursorX = r11;
	goto label$1577ae0_19_94;
	label$1577ae0_19_66:
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 >= r13 ) goto label$1577ae0_19_83;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->cursorX;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->highlightAnchor;
	r0->cursorX = r11;
	goto label$1577ae0_19_94;
	label$1577ae0_19_83:
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->highlightAnchor;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	label$1577ae0_19_94:
	goto label$1577ae0_19_265;
	label$1577ae0_19_95:
	if( !r5 ) goto label$1577ae0_19_145;
	r10 = r0->key;
	r11 = 46;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_145;
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 != r13 ) goto label$1577ae0_19_116;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->cursorX;
	r13 = 1;
	r11 = r11 + r13;
	r10 = NULL;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	goto label$1577ae0_19_144;
	label$1577ae0_19_116:
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 >= r13 ) goto label$1577ae0_19_133;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->cursorX;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->highlightAnchor;
	r0->cursorX = r11;
	goto label$1577ae0_19_144;
	label$1577ae0_19_133:
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->highlightAnchor;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	label$1577ae0_19_144:
	goto label$1577ae0_19_265;
	label$1577ae0_19_145:
	r10 = r0->key;
	r11 = 13;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_151;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_19_265;
	label$1577ae0_19_151:
	r10 = r0->key;
	r11 = 27;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_161;
	r18 = r0->textSelectedHandle;
	if( r18 == NULL ) hl_null_access();
	r14 = r18->text;
	r0->textSelected = r14;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_19_265;
	label$1577ae0_19_161:
	r10 = r0->key;
	r11 = 9;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_175;
	r9 = r0->tabSwitchEnabled;
	if( !r9 ) goto label$1577ae0_19_175;
	r9 = r0->isCtrlDown;
	if( r9 ) goto label$1577ae0_19_175;
	r9 = true;
	r0->tabPressed = r9;
	zui_Zui_deselectText(r0);
	r10 = NULL;
	r0->key = r10;
	goto label$1577ae0_19_265;
	label$1577ae0_19_175:
	r10 = r0->key;
	r11 = 36;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_182;
	r11 = 0;
	r0->cursorX = r11;
	goto label$1577ae0_19_265;
	label$1577ae0_19_182:
	r10 = r0->key;
	r11 = 35;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_190;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->length;
	r0->cursorX = r11;
	goto label$1577ae0_19_265;
	label$1577ae0_19_190:
	r9 = r0->isCtrlDown;
	if( !r9 ) goto label$1577ae0_19_200;
	r9 = r0->isADown;
	if( !r9 ) goto label$1577ae0_19_200;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->length;
	r0->cursorX = r11;
	r11 = 0;
	r0->highlightAnchor = r11;
	goto label$1577ae0_19_265;
	label$1577ae0_19_200:
	if( !r5 ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 16;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 20;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 17;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 224;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 18;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 38;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r10 = r0->key;
	r11 = 40;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_265;
	r14 = r0->_char;
	if( !r14 ) goto label$1577ae0_19_265;
	r14 = r0->_char;
	r16 = (String)s$;
	if( r14 == r16 || (r14 && r16 && String___compare(r14,(vdynamic*)r16) == 0) ) goto label$1577ae0_19_265;
	r14 = r0->_char;
	if( r14 == NULL ) hl_null_access();
	r11 = 0;
	r10 = String_charCodeAt(r14,r11);
	r11 = r10 ? r10->v.i : 0;
	r13 = 32;
	if( r11 < r13 ) goto label$1577ae0_19_265;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r16 = r0->_char;
	r14 = String___add__(r14,r16);
	r11 = r0->cursorX;
	r10 = NULL;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->cursorX;
	r13 = 1;
	r11 = r11 + r13;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->length;
	if( r13 >= r11 ) goto label$1577ae0_19_261;
	r11 = r14->length;
	goto label$1577ae0_19_264;
	label$1577ae0_19_261:
	r11 = r0->cursorX;
	r13 = 1;
	r11 = r11 + r13;
	label$1577ae0_19_264:
	r0->cursorX = r11;
	label$1577ae0_19_265:
	r9 = r0->isShiftDown;
	if( !r9 ) goto label$1577ae0_19_281;
	r10 = r0->key;
	r11 = 37;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_279;
	r10 = r0->key;
	r11 = 39;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 == r12 || (r10 && r12 && (r10->v.i == r12->v.i)) ) goto label$1577ae0_19_279;
	r10 = r0->key;
	r11 = 16;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r11;
	if( r10 != r12 && (!r10 || !r12 || (r10->v.i != r12->v.i)) ) goto label$1577ae0_19_281;
	label$1577ae0_19_279:
	r9 = true;
	goto label$1577ae0_19_282;
	label$1577ae0_19_281:
	r9 = false;
	label$1577ae0_19_282:
	if( r9 ) goto label$1577ae0_19_291;
	r19 = r0->isCtrlDown;
	if( !r19 ) goto label$1577ae0_19_289;
	r19 = r0->isCtrlDown;
	if( !r19 ) goto label$1577ae0_19_291;
	r19 = r0->isAltDown;
	if( !r19 ) goto label$1577ae0_19_291;
	label$1577ae0_19_289:
	r11 = r0->cursorX;
	r0->highlightAnchor = r11;
	label$1577ae0_19_291:
	if( !r5 ) goto label$1577ae0_19_324;
	r20 = (zui__$Zui)g$_zui_Zui;
	r14 = r20->textToPaste;
	r16 = (String)s$;
	if( r14 == r16 || (r14 && r16 && String___compare(r14,(vdynamic*)r16) == 0) ) goto label$1577ae0_19_324;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r20 = (zui__$Zui)g$_zui_Zui;
	r16 = r20->textToPaste;
	r14 = String___add__(r14,r16);
	r11 = r0->cursorX;
	r10 = NULL;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->cursorX;
	r20 = (zui__$Zui)g$_zui_Zui;
	r14 = r20->textToPaste;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->length;
	r11 = r11 + r13;
	r0->cursorX = r11;
	r11 = r0->cursorX;
	r0->highlightAnchor = r11;
	r14 = (String)s$;
	r20 = (zui__$Zui)g$_zui_Zui;
	r20->textToPaste = r14;
	r9 = false;
	r20 = (zui__$Zui)g$_zui_Zui;
	r20->isPaste = r9;
	label$1577ae0_19_324:
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 != r13 ) goto label$1577ae0_19_330;
	r20 = (zui__$Zui)g$_zui_Zui;
	r20->textToCopy = r7;
	goto label$1577ae0_19_348;
	label$1577ae0_19_330:
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 >= r13 ) goto label$1577ae0_19_341;
	if( r7 == NULL ) hl_null_access();
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substring(r7,r11,r10);
	r20 = (zui__$Zui)g$_zui_Zui;
	r20->textToCopy = r14;
	goto label$1577ae0_19_348;
	label$1577ae0_19_341:
	if( r7 == NULL ) hl_null_access();
	r11 = r0->cursorX;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substring(r7,r11,r10);
	r20 = (zui__$Zui)g$_zui_Zui;
	r20->textToCopy = r14;
	label$1577ae0_19_348:
	if( !r5 ) goto label$1577ae0_19_386;
	r20 = (zui__$Zui)g$_zui_Zui;
	r9 = r20->isCut;
	if( !r9 ) goto label$1577ae0_19_386;
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 != r13 ) goto label$1577ae0_19_358;
	r14 = (String)s$;
	r7 = r14;
	goto label$1577ae0_19_386;
	label$1577ae0_19_358:
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 >= r13 ) goto label$1577ae0_19_375;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->highlightAnchor;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->cursorX;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	r11 = r0->highlightAnchor;
	r0->cursorX = r11;
	goto label$1577ae0_19_386;
	label$1577ae0_19_375:
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	r11 = r0->highlightAnchor;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r16 = String_substr(r7,r11,r10);
	r14 = String___add__(r14,r16);
	r7 = r14;
	label$1577ae0_19_386:
	r22 = r0->_t;
	if( r22 == NULL ) hl_null_access();
	r11 = hl_vfields(r22)[29] ? (*(int*)(hl_vfields(r22)[29])) : (int)hl_dyn_geti(r22->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r21 = (double)r11;
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r23 = hl_vfields(r24)[5] ? (*(vdynamic**)(hl_vfields(r24)[5])) : (vdynamic*)hl_dyn_getp(r24->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r23 ? r23->v.d : 0;
	r21 = r21 * r25;
	r22 = r0->_t;
	if( r22 == NULL ) hl_null_access();
	r11 = hl_vfields(r22)[12] ? (*(int*)(hl_vfields(r22)[12])) : (int)hl_dyn_geti(r22->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r25 = (double)r11;
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r23 = hl_vfields(r24)[5] ? (*(vdynamic**)(hl_vfields(r24)[5])) : (vdynamic*)hl_dyn_getp(r24->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r26 = r23 ? r23->v.d : 0;
	r25 = r25 * r26;
	r27 = r0->buttonOffsetY;
	r28 = 3.;
	r27 = r27 * r28;
	r26 = r25 - r27;
	r11 = r0->highlightAnchor;
	r13 = r0->cursorX;
	if( r11 == r13 ) goto label$1577ae0_19_478;
	r11 = r0->cursorX;
	r13 = r0->highlightAnchor;
	r15 = r0->highlightAnchor;
	r29 = r0->cursorX;
	if( r15 >= r29 ) goto label$1577ae0_19_420;
	r15 = r0->highlightAnchor;
	r11 = r15;
	r15 = r0->cursorX;
	r13 = r15;
	label$1577ae0_19_420:
	if( r7 == NULL ) hl_null_access();
	r29 = r13 - r11;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r29;
	r14 = String_substr(r7,r11,r10);
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r31 = hl_vfields(r24)[3] ? (*(kha__Kravur*)(hl_vfields(r24)[3])) : (kha__Kravur)hl_dyn_getp(r24->value,62938841/*font*/,&t$kha_Kravur);
	if( r31 == NULL ) hl_null_access();
	r15 = r0->fontSize;
	r27 = kha_Kravur_width(r31,r15,r14);
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r31 = hl_vfields(r24)[3] ? (*(kha__Kravur*)(hl_vfields(r24)[3])) : (kha__Kravur)hl_dyn_getp(r24->value,62938841/*font*/,&t$kha_Kravur);
	if( r31 == NULL ) hl_null_access();
	r15 = r0->fontSize;
	r29 = 0;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r11;
	r16 = String_substr(r7,r29,r10);
	r28 = kha_Kravur_width(r31,r15,r16);
	r29 = 0;
	if( r4 != r29 ) goto label$1577ae0_19_445;
	r32 = r0->_x;
	r32 = r32 + r28;
	r32 = r32 + r21;
	goto label$1577ae0_19_451;
	label$1577ae0_19_445:
	r32 = r0->_x;
	r15 = r0->_w;
	r33 = (double)r15;
	r32 = r32 + r33;
	r32 = r32 - r27;
	r32 = r32 - r21;
	label$1577ae0_19_451:
	r29 = 2;
	if( r4 != r29 ) goto label$1577ae0_19_464;
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r31 = hl_vfields(r24)[3] ? (*(kha__Kravur*)(hl_vfields(r24)[3])) : (kha__Kravur)hl_dyn_getp(r24->value,62938841/*font*/,&t$kha_Kravur);
	if( r31 == NULL ) hl_null_access();
	r15 = r0->fontSize;
	r30 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r30;
	r16 = String_substr(r7,r13,r10);
	r34 = kha_Kravur_width(r31,r15,r16);
	r33 = r32 - r34;
	r32 = r33;
	label$1577ae0_19_464:
	r35 = r0->g;
	if( r35 == NULL ) hl_null_access();
	r22 = r0->_t;
	if( r22 == NULL ) hl_null_access();
	r15 = hl_vfields(r22)[2] ? (*(int*)(hl_vfields(r22)[2])) : (int)hl_dyn_geti(r22->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	r15 = ((int (*)(kha__graphics2__Graphics,int))r35->$type->vobj_proto[11])(r35,r15);
	r35 = r0->g;
	if( r35 == NULL ) hl_null_access();
	r34 = r0->_y;
	r36 = r0->buttonOffsetY;
	r37 = 1.5;
	r36 = r36 * r37;
	r34 = r34 + r36;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r35->$type->vobj_proto[5])(r35,r32,r34,r27,r26);
	label$1577ae0_19_478:
	r13 = 0;
	if( r4 != r13 ) goto label$1577ae0_19_486;
	if( r7 == NULL ) hl_null_access();
	r11 = 0;
	r13 = r0->cursorX;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substr(r7,r11,r10);
	goto label$1577ae0_19_491;
	label$1577ae0_19_486:
	if( r7 == NULL ) hl_null_access();
	r11 = r0->cursorX;
	r13 = r7->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r13;
	r14 = String_substring(r7,r11,r10);
	label$1577ae0_19_491:
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r31 = hl_vfields(r24)[3] ? (*(kha__Kravur*)(hl_vfields(r24)[3])) : (kha__Kravur)hl_dyn_getp(r24->value,62938841/*font*/,&t$kha_Kravur);
	if( r31 == NULL ) hl_null_access();
	r11 = r0->fontSize;
	r27 = kha_Kravur_width(r31,r11,r14);
	r13 = 0;
	if( r4 != r13 ) goto label$1577ae0_19_503;
	r28 = r0->_x;
	r28 = r28 + r27;
	r28 = r28 + r21;
	goto label$1577ae0_19_509;
	label$1577ae0_19_503:
	r28 = r0->_x;
	r11 = r0->_w;
	r32 = (double)r11;
	r28 = r28 + r32;
	r28 = r28 - r27;
	r28 = r28 - r21;
	label$1577ae0_19_509:
	r35 = r0->g;
	if( r35 == NULL ) hl_null_access();
	r22 = r0->_t;
	if( r22 == NULL ) hl_null_access();
	r11 = hl_vfields(r22)[28] ? (*(int*)(hl_vfields(r22)[28])) : (int)hl_dyn_geti(r22->value,-437956663/*TEXT_COL*/,&t$_i32);
	r11 = ((int (*)(kha__graphics2__Graphics,int))r35->$type->vobj_proto[11])(r35,r11);
	r35 = r0->g;
	if( r35 == NULL ) hl_null_access();
	r33 = r0->_y;
	r34 = r0->buttonOffsetY;
	r36 = 1.5;
	r34 = r34 * r36;
	r33 = r33 + r34;
	r34 = 2.;
	r24 = r0->ops;
	if( r24 == NULL ) hl_null_access();
	r23 = hl_vfields(r24)[5] ? (*(vdynamic**)(hl_vfields(r24)[5])) : (vdynamic*)hl_dyn_getp(r24->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r23 ? r23->v.d : 0;
	r34 = r34 * r36;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r35->$type->vobj_proto[5])(r35,r28,r33,r34,r26);
	r0->textSelected = r7;
	if( !r6 ) goto label$1577ae0_19_548;
	r18 = r0->textSelectedHandle;
	if( !r18 ) goto label$1577ae0_19_548;
	r18 = r0->textSelectedHandle;
	if( r18 == NULL ) hl_null_access();
	r38 = r0->textSelectedHandle;
	if( r38 == NULL ) hl_null_access();
	r16 = r38->text;
	r17 = r0->textSelected;
	if( r16 != r17 && (!r16 || !r17 || String___compare(r16,(vdynamic*)r17) != 0) ) goto label$1577ae0_19_542;
	r9 = false;
	goto label$1577ae0_19_543;
	label$1577ae0_19_542:
	r9 = true;
	label$1577ae0_19_543:
	r18->changed = r9;
	r18 = r0->textSelectedHandle;
	if( r18 == NULL ) hl_null_access();
	r16 = r0->textSelected;
	r18->text = r16;
	label$1577ae0_19_548:
	return;
}

String zui_Zui_textInput(zui__Zui r0,zui__Handle r1,String r2,int* r3,bool* r4,bool* r5) {
	String r6, r36;
	vvirtual *r14, *r16;
	bool r8, r9, r11, r20, r29, r33, r35, r40;
	kha__graphics2__Graphics r23;
	zui__$Zui r22;
	vclosure *r21;
	double r12, r17, r24, r25, r26, r27, r28, r30, r31, r32;
	double *r19;
	zui__Handle r18;
	vdynamic *r15;
	int r7, r13, r34, r37, r38, r39;
	if( r2 ) goto label$1577ae0_20_3;
	r6 = (String)s$;
	r2 = r6;
	label$1577ae0_20_3:
	if( r3 ) goto label$1577ae0_20_6;
	r7 = 0;
	goto label$1577ae0_20_7;
	label$1577ae0_20_6:
	r7 = *r3;
	label$1577ae0_20_7:
	if( r4 ) goto label$1577ae0_20_10;
	r8 = true;
	goto label$1577ae0_20_11;
	label$1577ae0_20_10:
	r8 = *r4;
	label$1577ae0_20_11:
	if( r5 ) goto label$1577ae0_20_14;
	r9 = false;
	goto label$1577ae0_20_15;
	label$1577ae0_20_14:
	r9 = *r5;
	label$1577ae0_20_15:
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[12] ? (*(int*)(hl_vfields(r14)[12])) : (int)hl_dyn_geti(r14->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r12 = (double)r13;
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[5] ? (*(vdynamic**)(hl_vfields(r16)[5])) : (vdynamic*)hl_dyn_getp(r16->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r17 = r15 ? r15->v.d : 0;
	r12 = r12 * r17;
	r11 = zui_Zui_isVisible(r0,r12);
	if( r11 ) goto label$1577ae0_20_31;
	r15 = NULL;
	zui_Zui_endElement(r0,r15);
	if( r1 == NULL ) hl_null_access();
	r6 = r1->text;
	return r6;
	label$1577ae0_20_31:
	r19 = NULL;
	r11 = zui_Zui_getHover(r0,r19);
	if( !r11 ) goto label$1577ae0_20_41;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onTextHover;
	if( !r21 ) goto label$1577ae0_20_41;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onTextHover;
	if( r21 == NULL ) hl_null_access();
	r21->hasValue ? ((void (*)(vdynamic*))r21->fun)((vdynamic*)r21->value) : ((void (*)(void))r21->fun)();
	label$1577ae0_20_41:
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	if( !r11 ) goto label$1577ae0_20_48;
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[1] ? (*(int*)(hl_vfields(r14)[1])) : (int)hl_dyn_geti(r14->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_20_51;
	label$1577ae0_20_48:
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[0] ? (*(int*)(hl_vfields(r14)[0])) : (int)hl_dyn_geti(r14->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_20_51:
	r13 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[11])(r23,r13);
	r23 = r0->g;
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r20 = hl_vfields(r14)[15] ? (*(bool*)(hl_vfields(r14)[15])) : (bool)hl_dyn_geti(r14->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r12 = r0->_x;
	r17 = r0->buttonOffsetY;
	r12 = r12 + r17;
	r17 = r0->_y;
	r24 = r0->buttonOffsetY;
	r17 = r17 + r24;
	r13 = r0->_w;
	r24 = (double)r13;
	r25 = r0->buttonOffsetY;
	r26 = 2.;
	r25 = r25 * r26;
	r24 = r24 - r25;
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[5] ? (*(int*)(hl_vfields(r14)[5])) : (int)hl_dyn_geti(r14->value,-172474255/*BUTTON_H*/,&t$_i32);
	r25 = (double)r13;
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[5] ? (*(vdynamic**)(hl_vfields(r16)[5])) : (vdynamic*)hl_dyn_getp(r16->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r26 = r15 ? r15->v.d : 0;
	r25 = r25 * r26;
	r26 = 0.;
	r28 = 0.;
	if( r26 != r28 ) goto label$1577ae0_20_82;
	r27 = 1.;
	r26 = r27;
	label$1577ae0_20_82:
	r29 = r0->enabled;
	if( r29 ) goto label$1577ae0_20_85;
	zui_Zui_fadeColor(r0);
	label$1577ae0_20_85:
	if( !r20 ) goto label$1577ae0_20_93;
	if( r23 == NULL ) hl_null_access();
	r30 = 1.;
	r28 = r17 - r30;
	r32 = 1.;
	r31 = r25 + r32;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r23->$type->vobj_proto[5])(r23,r12,r28,r24,r31);
	goto label$1577ae0_20_97;
	label$1577ae0_20_93:
	if( r23 == NULL ) hl_null_access();
	r32 = r26;
	r19 = &r32;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r23->$type->vobj_proto[4])(r23,r12,r17,r24,r25,r19);
	label$1577ae0_20_97:
	r19 = NULL;
	r20 = zui_Zui_getReleased(r0,r19);
	r18 = r0->submitTextHandle;
	if( r18 != r1 ) goto label$1577ae0_20_109;
	if( !r20 ) goto label$1577ae0_20_109;
	r29 = true;
	r0->isTyping = r29;
	r18 = r0->submitTextHandle;
	r0->textSelectedHandle = r18;
	r18 = NULL;
	r0->submitTextHandle = r18;
	zui_Zui_setCursorToInput(r0,r7);
	label$1577ae0_20_109:
	if( r20 ) goto label$1577ae0_20_114;
	r29 = r0->tabPressed;
	if( r29 ) goto label$1577ae0_20_114;
	r29 = false;
	goto label$1577ae0_20_115;
	label$1577ae0_20_114:
	r29 = true;
	label$1577ae0_20_115:
	if( r1 == NULL ) hl_null_access();
	r33 = false;
	r1->changed = r33;
	r18 = r0->textSelectedHandle;
	if( r18 == r1 ) goto label$1577ae0_20_124;
	if( !r29 ) goto label$1577ae0_20_124;
	r13 = r7;
	r3 = &r13;
	zui_Zui_startTextEdit(r0,r1,r3);
	label$1577ae0_20_124:
	r18 = r0->textSelectedHandle;
	if( r18 != r1 ) goto label$1577ae0_20_133;
	r34 = r7;
	r3 = &r34;
	r33 = r8;
	r4 = &r33;
	r35 = r9;
	r5 = &r35;
	zui_Zui_updateTextEdit(r0,r3,r4,r5);
	label$1577ae0_20_133:
	r18 = r0->submitTextHandle;
	if( r18 != r1 ) goto label$1577ae0_20_136;
	zui_Zui_submitTextEdit(r0);
	label$1577ae0_20_136:
	r36 = (String)s$;
	if( r2 == r36 || (r2 && r36 && String___compare(r2,(vdynamic*)r36) == 0) ) goto label$1577ae0_20_164;
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r37 = hl_vfields(r14)[21] ? (*(int*)(hl_vfields(r14)[21])) : (int)hl_dyn_geti(r14->value,370483844/*LABEL_COL*/,&t$_i32);
	r37 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[11])(r23,r37);
	r38 = 2;
	if( r7 != r38 ) goto label$1577ae0_20_148;
	r37 = 0;
	goto label$1577ae0_20_149;
	label$1577ae0_20_148:
	r37 = 2;
	label$1577ae0_20_149:
	r23 = r0->g;
	r39 = 0;
	if( r37 != r39 ) goto label$1577ae0_20_154;
	r15 = NULL;
	goto label$1577ae0_20_157;
	label$1577ae0_20_154:
	r38 = 0;
	r12 = (double)r38;
	r15 = hl_alloc_dynamic(&t$_f64);
	r15->v.d = r12;
	label$1577ae0_20_157:
	r38 = 0;
	r12 = (double)r38;
	r19 = &r12;
	r38 = r37;
	r3 = &r38;
	r4 = NULL;
	zui_Zui_drawString(r0,r23,r2,r15,r19,r3,r4);
	label$1577ae0_20_164:
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r14 = r0->_t;
	if( r14 == NULL ) hl_null_access();
	r37 = hl_vfields(r14)[28] ? (*(int*)(hl_vfields(r14)[28])) : (int)hl_dyn_geti(r14->value,-437956663/*TEXT_COL*/,&t$_i32);
	r37 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[11])(r23,r37);
	r18 = r0->textSelectedHandle;
	if( r18 == r1 ) goto label$1577ae0_20_183;
	r23 = r0->g;
	r6 = r1->text;
	r15 = NULL;
	r37 = 0;
	r17 = (double)r37;
	r19 = &r17;
	r37 = r7;
	r3 = &r37;
	r4 = NULL;
	zui_Zui_drawString(r0,r23,r6,r15,r19,r3,r4);
	goto label$1577ae0_20_194;
	label$1577ae0_20_183:
	r23 = r0->g;
	r6 = r0->textSelected;
	r15 = NULL;
	r39 = 0;
	r24 = (double)r39;
	r19 = &r24;
	r39 = r7;
	r3 = &r39;
	r40 = false;
	r4 = &r40;
	zui_Zui_drawString(r0,r23,r6,r15,r19,r3,r4);
	label$1577ae0_20_194:
	r15 = NULL;
	zui_Zui_endElement(r0,r15);
	r6 = r1->text;
	return r6;
}

void zui_Zui_setCursorToInput(zui__Zui r0,int r1) {
	String r10;
	vvirtual *r5, *r7;
	kha__Kravur r9;
	double r2, r8, r12, r13;
	vdynamic *r6, *r15;
	int r3, r4, r14;
	r4 = 0;
	if( r1 != r4 ) goto label$1577ae0_21_12;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[29] ? (*(int*)(hl_vfields(r5)[29])) : (int)hl_dyn_geti(r5->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r2 = (double)r3;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r6 ? r6->v.d : 0;
	r2 = r2 * r8;
	goto label$1577ae0_21_22;
	label$1577ae0_21_12:
	r3 = r0->_w;
	r2 = (double)r3;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r9 = hl_vfields(r7)[3] ? (*(kha__Kravur*)(hl_vfields(r7)[3])) : (kha__Kravur)hl_dyn_getp(r7->value,62938841/*font*/,&t$kha_Kravur);
	if( r9 == NULL ) hl_null_access();
	r3 = r0->fontSize;
	r10 = r0->textSelected;
	r8 = kha_Kravur_width(r9,r3,r10);
	r2 = r2 - r8;
	label$1577ae0_21_22:
	r8 = r0->inputX;
	r12 = r0->_windowX;
	r13 = r0->_x;
	r12 = r12 + r13;
	r12 = r12 + r2;
	r8 = r8 - r12;
	r3 = 0;
	r0->cursorX = r3;
	label$1577ae0_21_30:
	r3 = r0->cursorX;
	r10 = r0->textSelected;
	if( r10 == NULL ) hl_null_access();
	r4 = r10->length;
	if( r3 >= r4 ) goto label$1577ae0_21_53;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r9 = hl_vfields(r7)[3] ? (*(kha__Kravur*)(hl_vfields(r7)[3])) : (kha__Kravur)hl_dyn_getp(r7->value,62938841/*font*/,&t$kha_Kravur);
	if( r9 == NULL ) hl_null_access();
	r3 = r0->fontSize;
	r10 = r0->textSelected;
	if( r10 == NULL ) hl_null_access();
	r4 = 0;
	r14 = r0->cursorX;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r14;
	r10 = String_substr(r10,r4,r15);
	r12 = kha_Kravur_width(r9,r3,r10);
	if( !(r12 < r8) ) goto label$1577ae0_21_53;
	r3 = r0->cursorX;
	++r3;
	r0->cursorX = r3;
	goto label$1577ae0_21_30;
	label$1577ae0_21_53:
	r3 = r0->cursorX;
	r0->highlightAnchor = r3;
	return;
}

void zui_Zui_deselectText(zui__Zui r0) {
	String r3;
	bool r4;
	zui__$Zui r9;
	vclosure *r8;
	int *r7;
	zui__Handle r2;
	kha__input__Keyboard r6;
	int r5;
	r2 = r0->textSelectedHandle;
	if( r2 ) goto label$1577ae0_22_3;
	return;
	label$1577ae0_22_3:
	r2 = r0->textSelectedHandle;
	r0->submitTextHandle = r2;
	r3 = r0->textSelected;
	r0->textToSubmit = r3;
	r2 = NULL;
	r0->textSelectedHandle = r2;
	r4 = false;
	r0->isTyping = r4;
	r2 = r0->currentWindow;
	if( !r2 ) goto label$1577ae0_22_17;
	r2 = r0->currentWindow;
	if( r2 == NULL ) hl_null_access();
	r5 = 2;
	r2->redraws = r5;
	label$1577ae0_22_17:
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( !r6 ) goto label$1577ae0_22_24;
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( r6 == NULL ) hl_null_access();
	kha_input_Keyboard_hide(r6);
	label$1577ae0_22_24:
	r5 = r0->cursorX;
	r0->highlightAnchor = r5;
	r9 = (zui__$Zui)g$_zui_Zui;
	r8 = r9->onDeselectText;
	if( !r8 ) goto label$1577ae0_22_33;
	r9 = (zui__$Zui)g$_zui_Zui;
	r8 = r9->onDeselectText;
	if( r8 == NULL ) hl_null_access();
	r8->hasValue ? ((void (*)(vdynamic*))r8->fun)((vdynamic*)r8->value) : ((void (*)(void))r8->fun)();
	label$1577ae0_22_33:
	return;
}

bool zui_Zui_button(zui__Zui r0,String r1,int* r2,String r3) {
	bool *r28;
	String r5, r29;
	vvirtual *r10, *r12;
	bool r7, r15, r16, r17, r24;
	kha__graphics2__Graphics r18;
	double r8, r13, r19, r20, r21, r22, r23, r25, r26, r27;
	double *r14;
	vdynamic *r11;
	int r4, r9, r30, r31;
	if( r2 ) goto label$1577ae0_23_3;
	r4 = 1;
	goto label$1577ae0_23_4;
	label$1577ae0_23_3:
	r4 = *r2;
	label$1577ae0_23_4:
	if( r3 ) goto label$1577ae0_23_7;
	r5 = (String)s$;
	r3 = r5;
	label$1577ae0_23_7:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r8 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r8 = r8 * r13;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_23_22;
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	r7 = false;
	return r7;
	label$1577ae0_23_22:
	r14 = NULL;
	r7 = zui_Zui_getReleased(r0,r14);
	r14 = NULL;
	r15 = zui_Zui_getPushed(r0,r14);
	r14 = NULL;
	r16 = zui_Zui_getHover(r0,r14);
	if( !r7 ) goto label$1577ae0_23_31;
	r17 = true;
	r0->changed = r17;
	label$1577ae0_23_31:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	if( !r15 ) goto label$1577ae0_23_38;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[7] ? (*(int*)(hl_vfields(r10)[7])) : (int)hl_dyn_geti(r10->value,-312586346/*BUTTON_PRESSED_COL*/,&t$_i32);
	goto label$1577ae0_23_46;
	label$1577ae0_23_38:
	if( !r16 ) goto label$1577ae0_23_43;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[6] ? (*(int*)(hl_vfields(r10)[6])) : (int)hl_dyn_geti(r10->value,513780351/*BUTTON_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_23_46;
	label$1577ae0_23_43:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[4] ? (*(int*)(hl_vfields(r10)[4])) : (int)hl_dyn_geti(r10->value,-446410866/*BUTTON_COL*/,&t$_i32);
	label$1577ae0_23_46:
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r9);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r17 = hl_vfields(r10)[16] ? (*(bool*)(hl_vfields(r10)[16])) : (bool)hl_dyn_geti(r10->value,-314017881/*FILL_BUTTON_BG*/,&t$_bool);
	r8 = r0->_x;
	r13 = r0->buttonOffsetY;
	r8 = r8 + r13;
	r13 = r0->_y;
	r19 = r0->buttonOffsetY;
	r13 = r13 + r19;
	r9 = r0->_w;
	r19 = (double)r9;
	r20 = r0->buttonOffsetY;
	r21 = 2.;
	r20 = r20 * r21;
	r19 = r19 - r20;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(int*)(hl_vfields(r10)[5])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&t$_i32);
	r20 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r11 ? r11->v.d : 0;
	r20 = r20 * r21;
	r21 = 0.;
	r23 = 0.;
	if( r21 != r23 ) goto label$1577ae0_23_77;
	r22 = 1.;
	r21 = r22;
	label$1577ae0_23_77:
	r24 = r0->enabled;
	if( r24 ) goto label$1577ae0_23_80;
	zui_Zui_fadeColor(r0);
	label$1577ae0_23_80:
	if( !r17 ) goto label$1577ae0_23_88;
	if( r18 == NULL ) hl_null_access();
	r25 = 1.;
	r23 = r13 - r25;
	r27 = 1.;
	r26 = r20 + r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r18->$type->vobj_proto[5])(r18,r8,r23,r19,r26);
	goto label$1577ae0_23_92;
	label$1577ae0_23_88:
	if( r18 == NULL ) hl_null_access();
	r27 = r21;
	r14 = &r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r18->$type->vobj_proto[4])(r18,r8,r13,r19,r20,r14);
	label$1577ae0_23_92:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[8] ? (*(int*)(hl_vfields(r10)[8])) : (int)hl_dyn_geti(r10->value,-348918917/*BUTTON_TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r9);
	r18 = r0->g;
	r11 = NULL;
	r9 = 0;
	r8 = (double)r9;
	r14 = &r8;
	r9 = r4;
	r2 = &r9;
	r28 = NULL;
	zui_Zui_drawString(r0,r18,r1,r11,r14,r2,r28);
	r29 = (String)s$;
	if( r3 == r29 || (r3 && r29 && String___compare(r3,(vdynamic*)r29) == 0) ) goto label$1577ae0_23_128;
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r30 = hl_vfields(r10)[21] ? (*(int*)(hl_vfields(r10)[21])) : (int)hl_dyn_geti(r10->value,370483844/*LABEL_COL*/,&t$_i32);
	r30 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r30);
	r18 = r0->g;
	r11 = NULL;
	r30 = 0;
	r13 = (double)r30;
	r14 = &r13;
	r31 = 2;
	if( r4 != r31 ) goto label$1577ae0_23_124;
	r30 = 0;
	goto label$1577ae0_23_125;
	label$1577ae0_23_124:
	r30 = 2;
	label$1577ae0_23_125:
	r2 = &r30;
	r28 = NULL;
	zui_Zui_drawString(r0,r18,r3,r11,r14,r2,r28);
	label$1577ae0_23_128:
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	return r7;
}

bool zui_Zui_check(zui__Zui r0,zui__Handle r1,String r2,String r3) {
	bool *r17;
	String r4, r18;
	vvirtual *r9, *r11;
	bool r6, r14;
	kha__graphics2__Graphics r15;
	double r7, r12;
	int *r16;
	double *r13;
	vdynamic *r10;
	int r8, r19;
	if( r3 ) goto label$1577ae0_24_3;
	r4 = (String)s$;
	r3 = r4;
	label$1577ae0_24_3:
	r9 = r0->_t;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[12] ? (*(int*)(hl_vfields(r9)[12])) : (int)hl_dyn_geti(r9->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r7 = (double)r8;
	r11 = r0->ops;
	if( r11 == NULL ) hl_null_access();
	r10 = hl_vfields(r11)[5] ? (*(vdynamic**)(hl_vfields(r11)[5])) : (vdynamic*)hl_dyn_getp(r11->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r10 ? r10->v.d : 0;
	r7 = r7 * r12;
	r6 = zui_Zui_isVisible(r0,r7);
	if( r6 ) goto label$1577ae0_24_19;
	r10 = NULL;
	zui_Zui_endElement(r0,r10);
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	return r6;
	label$1577ae0_24_19:
	r13 = NULL;
	r6 = zui_Zui_getReleased(r0,r13);
	if( !r6 ) goto label$1577ae0_24_30;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	r6 = !r6;
	r1->selected = r6;
	r6 = true;
	r0->changed = r6;
	r1->changed = r6;
	goto label$1577ae0_24_33;
	label$1577ae0_24_30:
	if( r1 == NULL ) hl_null_access();
	r6 = false;
	r1->changed = r6;
	label$1577ae0_24_33:
	r13 = NULL;
	r6 = zui_Zui_getHover(r0,r13);
	r14 = r1->selected;
	zui_Zui_drawCheck(r0,r14,r6);
	r15 = r0->g;
	if( r15 == NULL ) hl_null_access();
	r9 = r0->_t;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[28] ? (*(int*)(hl_vfields(r9)[28])) : (int)hl_dyn_geti(r9->value,-437956663/*TEXT_COL*/,&t$_i32);
	r8 = ((int (*)(kha__graphics2__Graphics,int))r15->$type->vobj_proto[11])(r15,r8);
	r15 = r0->g;
	r7 = r0->titleOffsetX;
	r10 = hl_alloc_dynamic(&t$_f64);
	r10->v.d = r7;
	r8 = 0;
	r7 = (double)r8;
	r13 = &r7;
	r8 = 0;
	r16 = &r8;
	r17 = NULL;
	zui_Zui_drawString(r0,r15,r2,r10,r13,r16,r17);
	r18 = (String)s$;
	if( r3 == r18 || (r3 && r18 && String___compare(r3,(vdynamic*)r18) == 0) ) goto label$1577ae0_24_70;
	r15 = r0->g;
	if( r15 == NULL ) hl_null_access();
	r9 = r0->_t;
	if( r9 == NULL ) hl_null_access();
	r19 = hl_vfields(r9)[21] ? (*(int*)(hl_vfields(r9)[21])) : (int)hl_dyn_geti(r9->value,370483844/*LABEL_COL*/,&t$_i32);
	r19 = ((int (*)(kha__graphics2__Graphics,int))r15->$type->vobj_proto[11])(r15,r19);
	r15 = r0->g;
	r10 = NULL;
	r19 = 0;
	r12 = (double)r19;
	r13 = &r12;
	r19 = 2;
	r16 = &r19;
	r17 = NULL;
	zui_Zui_drawString(r0,r15,r3,r10,r13,r16,r17);
	label$1577ae0_24_70:
	r10 = NULL;
	zui_Zui_endElement(r0,r10);
	r14 = r1->selected;
	return r14;
}

int zui_Zui_combo(zui__Zui r0,zui__Handle r1,hl__types__ArrayObj r2,String r3,bool* r4,int* r5,bool* r6) {
	String r7, r28;
	vvirtual *r15, *r17;
	bool r8, r10, r12, r32, r36;
	kha__graphics2__Graphics r33;
	kha__Kravur r27;
	double r13, r18, r22, r23, r29, r34, r35, r37, r38, r39, r40, r41;
	double *r21;
	zui__Handle r19, r31;
	vdynamic *r16, *r20;
	varray *r26;
	int r9, r14, r24, r25, r30;
	if( r3 ) goto label$1577ae0_25_3;
	r7 = (String)s$;
	r3 = r7;
	label$1577ae0_25_3:
	if( r4 ) goto label$1577ae0_25_6;
	r8 = false;
	goto label$1577ae0_25_7;
	label$1577ae0_25_6:
	r8 = *r4;
	label$1577ae0_25_7:
	if( r5 ) goto label$1577ae0_25_10;
	r9 = 0;
	goto label$1577ae0_25_11;
	label$1577ae0_25_10:
	r9 = *r5;
	label$1577ae0_25_11:
	if( r6 ) goto label$1577ae0_25_14;
	r10 = true;
	goto label$1577ae0_25_15;
	label$1577ae0_25_14:
	r10 = *r6;
	label$1577ae0_25_15:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[12] ? (*(int*)(hl_vfields(r15)[12])) : (int)hl_dyn_geti(r15->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r13 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r18 = r16 ? r16->v.d : 0;
	r13 = r13 * r18;
	r12 = zui_Zui_isVisible(r0,r13);
	if( r12 ) goto label$1577ae0_25_31;
	r16 = NULL;
	zui_Zui_endElement(r0,r16);
	if( r1 == NULL ) hl_null_access();
	r14 = r1->position;
	return r14;
	label$1577ae0_25_31:
	r21 = NULL;
	r12 = zui_Zui_getReleased(r0,r21);
	if( !r12 ) goto label$1577ae0_25_127;
	r19 = r0->comboSelectedHandle;
	if( r19 ) goto label$1577ae0_25_127;
	r12 = false;
	r0->inputEnabled = r12;
	r0->comboSelectedHandle = r1;
	r19 = r0->currentWindow;
	r0->comboSelectedWindow = r19;
	r0->comboSelectedAlign = r9;
	r0->comboSelectedTexts = r2;
	r0->comboSelectedLabel = r3;
	r13 = r0->_x;
	r18 = r0->_windowX;
	r13 = r13 + r18;
	r14 = (int)r13;
	r0->comboSelectedX = r14;
	r18 = r0->_y;
	r22 = r0->_windowY;
	r18 = r18 + r22;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[12] ? (*(int*)(hl_vfields(r15)[12])) : (int)hl_dyn_geti(r15->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r22 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r23 = r16 ? r16->v.d : 0;
	r22 = r22 * r23;
	r18 = r18 + r22;
	r14 = (int)r18;
	r0->comboSelectedY = r14;
	r14 = r0->_w;
	r22 = (double)r14;
	r14 = (int)r22;
	r0->comboSelectedW = r14;
	r0->comboSearchBar = r10;
	r14 = 0;
	label$1577ae0_25_70:
	if( r2 == NULL ) hl_null_access();
	r25 = r2->length;
	if( r14 >= r25 ) goto label$1577ae0_25_95;
	r25 = r2->length;
	if( ((unsigned)r14) < ((unsigned)r25) ) goto label$1577ae0_25_78;
	r7 = NULL;
	goto label$1577ae0_25_81;
	label$1577ae0_25_78:
	r26 = r2->array;
	r20 = ((vdynamic**)(r26 + 1))[r14];
	r7 = (String)r20;
	label$1577ae0_25_81:
	++r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r27 = hl_vfields(r17)[3] ? (*(kha__Kravur*)(hl_vfields(r17)[3])) : (kha__Kravur)hl_dyn_getp(r17->value,62938841/*font*/,&t$kha_Kravur);
	if( r27 == NULL ) hl_null_access();
	r24 = r0->fontSize;
	r23 = kha_Kravur_width(r27,r24,r7);
	r24 = (int)r23;
	r25 = 10;
	r24 = r24 + r25;
	r25 = r0->comboSelectedW;
	if( r25 >= r24 ) goto label$1577ae0_25_94;
	r0->comboSelectedW = r24;
	label$1577ae0_25_94:
	goto label$1577ae0_25_70;
	label$1577ae0_25_95:
	r14 = r0->comboSelectedW;
	r24 = r0->_w;
	r25 = 2;
	r24 = r24 * r25;
	if( r24 >= r14 ) goto label$1577ae0_25_106;
	r14 = r0->_w;
	r24 = 2;
	r14 = r14 * r24;
	r23 = (double)r14;
	r14 = (int)r23;
	r0->comboSelectedW = r14;
	label$1577ae0_25_106:
	r14 = r0->comboSelectedW;
	r24 = r0->_w;
	if( r24 >= r14 ) goto label$1577ae0_25_122;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[29] ? (*(int*)(hl_vfields(r15)[29])) : (int)hl_dyn_geti(r15->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r23 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r16 ? r16->v.d : 0;
	r23 = r23 * r29;
	r14 = r0->comboSelectedW;
	r24 = (int)r23;
	r14 = r14 + r24;
	r0->comboSelectedW = r14;
	label$1577ae0_25_122:
	if( r1 == NULL ) hl_null_access();
	r14 = r1->position;
	r0->comboToSubmit = r14;
	r14 = r1->position;
	r0->comboInitialValue = r14;
	label$1577ae0_25_127:
	r31 = r0->comboSelectedHandle;
	if( r1 != r31 ) goto label$1577ae0_25_142;
	r12 = r0->isEscapeDown;
	if( r12 ) goto label$1577ae0_25_133;
	r12 = r0->inputReleasedR;
	if( !r12 ) goto label$1577ae0_25_142;
	label$1577ae0_25_133:
	if( r1 == NULL ) hl_null_access();
	r14 = r0->comboInitialValue;
	r1->position = r14;
	r12 = true;
	r0->changed = r12;
	r1->changed = r12;
	r19 = NULL;
	r0->submitComboHandle = r19;
	goto label$1577ae0_25_156;
	label$1577ae0_25_142:
	r31 = r0->submitComboHandle;
	if( r1 != r31 ) goto label$1577ae0_25_153;
	if( r1 == NULL ) hl_null_access();
	r14 = r0->comboToSubmit;
	r1->position = r14;
	r19 = NULL;
	r0->submitComboHandle = r19;
	r12 = true;
	r0->changed = r12;
	r1->changed = r12;
	goto label$1577ae0_25_156;
	label$1577ae0_25_153:
	if( r1 == NULL ) hl_null_access();
	r12 = false;
	r1->changed = r12;
	label$1577ae0_25_156:
	r21 = NULL;
	r12 = zui_Zui_getHover(r0,r21);
	if( !r12 ) goto label$1577ae0_25_211;
	r33 = r0->g;
	if( r33 == NULL ) hl_null_access();
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	r14 = ((int (*)(kha__graphics2__Graphics,int))r33->$type->vobj_proto[11])(r33,r14);
	r33 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r32 = hl_vfields(r15)[15] ? (*(bool*)(hl_vfields(r15)[15])) : (bool)hl_dyn_geti(r15->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r13 = r0->_x;
	r18 = r0->buttonOffsetY;
	r13 = r13 + r18;
	r18 = r0->_y;
	r22 = r0->buttonOffsetY;
	r18 = r18 + r22;
	r14 = r0->_w;
	r22 = (double)r14;
	r23 = r0->buttonOffsetY;
	r29 = 2.;
	r23 = r23 * r29;
	r22 = r22 - r23;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r23 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r16 ? r16->v.d : 0;
	r23 = r23 * r29;
	r29 = 0.;
	r35 = 0.;
	if( r29 != r35 ) goto label$1577ae0_25_195;
	r34 = 1.;
	r29 = r34;
	label$1577ae0_25_195:
	r36 = r0->enabled;
	if( r36 ) goto label$1577ae0_25_198;
	zui_Zui_fadeColor(r0);
	label$1577ae0_25_198:
	if( !r32 ) goto label$1577ae0_25_206;
	if( r33 == NULL ) hl_null_access();
	r37 = 1.;
	r35 = r18 - r37;
	r39 = 1.;
	r38 = r23 + r39;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r33->$type->vobj_proto[5])(r33,r13,r35,r22,r38);
	goto label$1577ae0_25_210;
	label$1577ae0_25_206:
	if( r33 == NULL ) hl_null_access();
	r39 = r29;
	r21 = &r39;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r33->$type->vobj_proto[4])(r33,r13,r18,r22,r23,r21);
	label$1577ae0_25_210:
	goto label$1577ae0_25_262;
	label$1577ae0_25_211:
	r33 = r0->g;
	if( r33 == NULL ) hl_null_access();
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&t$_i32);
	r14 = ((int (*)(kha__graphics2__Graphics,int))r33->$type->vobj_proto[11])(r33,r14);
	r33 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r32 = hl_vfields(r15)[15] ? (*(bool*)(hl_vfields(r15)[15])) : (bool)hl_dyn_geti(r15->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r13 = r0->_x;
	r18 = r0->buttonOffsetY;
	r13 = r13 + r18;
	r18 = r0->_y;
	r22 = r0->buttonOffsetY;
	r18 = r18 + r22;
	r14 = r0->_w;
	r22 = (double)r14;
	r23 = r0->buttonOffsetY;
	r29 = 2.;
	r23 = r23 * r29;
	r22 = r22 - r23;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r23 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r16 ? r16->v.d : 0;
	r23 = r23 * r29;
	r29 = 0.;
	r35 = 0.;
	if( r29 != r35 ) goto label$1577ae0_25_247;
	r34 = 1.;
	r29 = r34;
	label$1577ae0_25_247:
	r36 = r0->enabled;
	if( r36 ) goto label$1577ae0_25_250;
	zui_Zui_fadeColor(r0);
	label$1577ae0_25_250:
	if( !r32 ) goto label$1577ae0_25_258;
	if( r33 == NULL ) hl_null_access();
	r37 = 1.;
	r35 = r18 - r37;
	r40 = 1.;
	r38 = r23 + r40;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r33->$type->vobj_proto[5])(r33,r13,r35,r22,r38);
	goto label$1577ae0_25_262;
	label$1577ae0_25_258:
	if( r33 == NULL ) hl_null_access();
	r40 = r29;
	r21 = &r40;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r33->$type->vobj_proto[4])(r33,r13,r18,r22,r23,r21);
	label$1577ae0_25_262:
	r13 = r0->_x;
	r14 = r0->_w;
	r18 = (double)r14;
	r13 = r13 + r18;
	r18 = r0->arrowOffsetX;
	r13 = r13 - r18;
	r18 = 8.;
	r13 = r13 - r18;
	r18 = r0->_y;
	r22 = r0->arrowOffsetY;
	r18 = r18 + r22;
	r22 = 3.;
	r18 = r18 + r22;
	r33 = r0->g;
	if( r33 == NULL ) hl_null_access();
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[3] ? (*(int*)(hl_vfields(r15)[3])) : (int)hl_dyn_geti(r15->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r34 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r35 = r16 ? r16->v.d : 0;
	r34 = r34 * r35;
	r29 = r13 + r34;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[3] ? (*(int*)(hl_vfields(r15)[3])) : (int)hl_dyn_geti(r15->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r37 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r38 = r16 ? r16->v.d : 0;
	r37 = r37 * r38;
	r38 = 2.;
	r37 = r37 / r38;
	r35 = r13 + r37;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[3] ? (*(int*)(hl_vfields(r15)[3])) : (int)hl_dyn_geti(r15->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r38 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r41 = r16 ? r16->v.d : 0;
	r38 = r38 * r41;
	r41 = 2.;
	r38 = r38 / r41;
	r37 = r18 + r38;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double,double))r33->$type->vobj_proto[8])(r33,r13,r18,r29,r18,r35,r37);
	if( !r8 ) goto label$1577ae0_25_346;
	r28 = (String)s$;
	if( r3 == r28 || (r3 && r28 && String___compare(r3,(vdynamic*)r28) == 0) ) goto label$1577ae0_25_346;
	r24 = 0;
	if( r9 != r24 ) goto label$1577ae0_25_321;
	r22 = r0->_x;
	r23 = 15.;
	r22 = r22 - r23;
	r0->_x = r22;
	label$1577ae0_25_321:
	r33 = r0->g;
	if( r33 == NULL ) hl_null_access();
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[21] ? (*(int*)(hl_vfields(r15)[21])) : (int)hl_dyn_geti(r15->value,370483844/*LABEL_COL*/,&t$_i32);
	r14 = ((int (*)(kha__graphics2__Graphics,int))r33->$type->vobj_proto[11])(r33,r14);
	r33 = r0->g;
	r16 = NULL;
	r14 = 0;
	r22 = (double)r14;
	r21 = &r22;
	r24 = 0;
	if( r9 != r24 ) goto label$1577ae0_25_336;
	r14 = 2;
	goto label$1577ae0_25_337;
	label$1577ae0_25_336:
	r14 = 0;
	label$1577ae0_25_337:
	r5 = &r14;
	r4 = NULL;
	zui_Zui_drawString(r0,r33,r3,r16,r21,r5,r4);
	r25 = 0;
	if( r9 != r25 ) goto label$1577ae0_25_346;
	r23 = r0->_x;
	r29 = 15.;
	r23 = r23 + r29;
	r0->_x = r23;
	label$1577ae0_25_346:
	r25 = 2;
	if( r9 != r25 ) goto label$1577ae0_25_352;
	r23 = r0->_x;
	r29 = 15.;
	r23 = r23 - r29;
	r0->_x = r23;
	label$1577ae0_25_352:
	r33 = r0->g;
	if( r33 == NULL ) hl_null_access();
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r24 = hl_vfields(r15)[28] ? (*(int*)(hl_vfields(r15)[28])) : (int)hl_dyn_geti(r15->value,-437956663/*TEXT_COL*/,&t$_i32);
	r24 = ((int (*)(kha__graphics2__Graphics,int))r33->$type->vobj_proto[11])(r33,r24);
	r24 = r1->position;
	if( r2 == NULL ) hl_null_access();
	r25 = r2->length;
	if( r24 >= r25 ) goto label$1577ae0_25_379;
	r33 = r0->g;
	r24 = r1->position;
	r25 = r2->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$1577ae0_25_368;
	r7 = NULL;
	goto label$1577ae0_25_371;
	label$1577ae0_25_368:
	r26 = r2->array;
	r20 = ((vdynamic**)(r26 + 1))[r24];
	r7 = (String)r20;
	label$1577ae0_25_371:
	r16 = NULL;
	r24 = 0;
	r23 = (double)r24;
	r21 = &r23;
	r24 = r9;
	r5 = &r24;
	r4 = NULL;
	zui_Zui_drawString(r0,r33,r7,r16,r21,r5,r4);
	label$1577ae0_25_379:
	r30 = 2;
	if( r9 != r30 ) goto label$1577ae0_25_385;
	r29 = r0->_x;
	r34 = 15.;
	r29 = r29 + r34;
	r0->_x = r29;
	label$1577ae0_25_385:
	r16 = NULL;
	zui_Zui_endElement(r0,r16);
	r25 = r1->position;
	return r25;
}

double zui_Zui_slider(zui__Zui r0,zui__Handle r1,String r2,double* r3,double* r4,bool* r5,double* r6,bool* r7,int* r8,bool* r9) {
	String r34, r36;
	vvirtual *r21, *r23;
	bool r12, r14, r16, r18, r32, r33;
	kha__graphics2__Graphics r39;
	zui__$Zui r26;
	double r10, r11, r13, r19, r24, r28, r29, r30, r31;
	zui__Handle r25, r27;
	vdynamic *r22;
	vbyte *r35;
	int r15, r20, r37, r38, r40, r41;
	if( r3 ) goto label$1577ae0_26_3;
	r10 = 0.;
	goto label$1577ae0_26_4;
	label$1577ae0_26_3:
	r10 = *r3;
	label$1577ae0_26_4:
	if( r4 ) goto label$1577ae0_26_7;
	r11 = 1.;
	goto label$1577ae0_26_8;
	label$1577ae0_26_7:
	r11 = *r4;
	label$1577ae0_26_8:
	if( r5 ) goto label$1577ae0_26_11;
	r12 = false;
	goto label$1577ae0_26_12;
	label$1577ae0_26_11:
	r12 = *r5;
	label$1577ae0_26_12:
	if( r6 ) goto label$1577ae0_26_15;
	r13 = 100.;
	goto label$1577ae0_26_16;
	label$1577ae0_26_15:
	r13 = *r6;
	label$1577ae0_26_16:
	if( r7 ) goto label$1577ae0_26_19;
	r14 = true;
	goto label$1577ae0_26_20;
	label$1577ae0_26_19:
	r14 = *r7;
	label$1577ae0_26_20:
	if( r8 ) goto label$1577ae0_26_23;
	r15 = 2;
	goto label$1577ae0_26_24;
	label$1577ae0_26_23:
	r15 = *r8;
	label$1577ae0_26_24:
	if( r9 ) goto label$1577ae0_26_27;
	r16 = true;
	goto label$1577ae0_26_28;
	label$1577ae0_26_27:
	r16 = *r9;
	label$1577ae0_26_28:
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r20 = hl_vfields(r21)[12] ? (*(int*)(hl_vfields(r21)[12])) : (int)hl_dyn_geti(r21->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r19 = (double)r20;
	r23 = r0->ops;
	if( r23 == NULL ) hl_null_access();
	r22 = hl_vfields(r23)[5] ? (*(vdynamic**)(hl_vfields(r23)[5])) : (vdynamic*)hl_dyn_getp(r23->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r24 = r22 ? r22->v.d : 0;
	r19 = r19 * r24;
	r18 = zui_Zui_isVisible(r0,r19);
	if( r18 ) goto label$1577ae0_26_44;
	r22 = NULL;
	zui_Zui_endElement(r0,r22);
	if( r1 == NULL ) hl_null_access();
	r19 = r1->value;
	return r19;
	label$1577ae0_26_44:
	r3 = NULL;
	r18 = zui_Zui_getStarted(r0,r3);
	if( !r18 ) goto label$1577ae0_26_71;
	r0->scrollHandle = r1;
	r18 = true;
	r0->isScrolling = r18;
	if( r1 == NULL ) hl_null_access();
	r18 = true;
	r1->changed = r18;
	r0->changed = r18;
	r26 = (zui__$Zui)g$_zui_Zui;
	r18 = r26->touchTooltip;
	if( !r18 ) goto label$1577ae0_26_70;
	r18 = true;
	r0->sliderTooltip = r18;
	r19 = r0->_x;
	r24 = r0->_windowX;
	r19 = r19 + r24;
	r0->sliderTooltipX = r19;
	r19 = r0->_y;
	r24 = r0->_windowY;
	r19 = r19 + r24;
	r0->sliderTooltipY = r19;
	r20 = r0->_w;
	r19 = (double)r20;
	r0->sliderTooltipW = r19;
	label$1577ae0_26_70:
	goto label$1577ae0_26_74;
	label$1577ae0_26_71:
	if( r1 == NULL ) hl_null_access();
	r18 = false;
	r1->changed = r18;
	label$1577ae0_26_74:
	r27 = r0->scrollHandle;
	if( r1 != r27 ) goto label$1577ae0_26_111;
	r19 = r0->inputDX;
	r24 = 0.;
	if( r19 == r24 ) goto label$1577ae0_26_111;
	r19 = r11 - r10;
	r24 = r0->_x;
	r28 = r0->_windowX;
	r24 = r24 + r28;
	r28 = r0->buttonOffsetY;
	r24 = r24 + r28;
	r20 = r0->_w;
	r28 = (double)r20;
	r29 = r0->buttonOffsetY;
	r30 = 2.;
	r29 = r29 * r30;
	r28 = r28 - r29;
	r29 = r19 / r28;
	r31 = r0->inputX;
	r31 = r31 - r24;
	r31 = r31 * r29;
	r30 = r10 + r31;
	r31 = r30 * r13;
	r20 = hl_math_round(r31);
	r31 = (double)r20;
	r31 = r31 / r13;
	r1->value = r31;
	r31 = r1->value;
	if( !(r31 < r10) ) goto label$1577ae0_26_105;
	r1->value = r10;
	goto label$1577ae0_26_108;
	label$1577ae0_26_105:
	r31 = r1->value;
	if( !(r11 < r31) ) goto label$1577ae0_26_108;
	r1->value = r11;
	label$1577ae0_26_108:
	r18 = true;
	r0->changed = r18;
	r1->changed = r18;
	label$1577ae0_26_111:
	r3 = NULL;
	r18 = zui_Zui_getHover(r0,r3);
	r19 = r1->value;
	zui_Zui_drawSlider(r0,r19,r10,r11,r12,r18);
	r3 = NULL;
	r32 = zui_Zui_getReleased(r0,r3);
	if( r32 ) goto label$1577ae0_26_120;
	r32 = r0->tabPressed;
	if( !r32 ) goto label$1577ae0_26_123;
	label$1577ae0_26_120:
	if( !r16 ) goto label$1577ae0_26_123;
	r32 = true;
	goto label$1577ae0_26_124;
	label$1577ae0_26_123:
	r32 = false;
	label$1577ae0_26_124:
	if( !r32 ) goto label$1577ae0_26_137;
	r19 = r1->value;
	r8 = &r20;
	r35 = hl_ftos(r19,r8);
	r34 = String___alloc__(r35,r20);
	r36 = (String)s$;
	r34 = String___add__(r34,r36);
	r1->text = r34;
	r8 = NULL;
	zui_Zui_startTextEdit(r0,r1,r8);
	r33 = true;
	r0->changed = r33;
	r1->changed = r33;
	label$1577ae0_26_137:
	r37 = 0;
	if( r15 != r37 ) goto label$1577ae0_26_141;
	r20 = 2;
	goto label$1577ae0_26_142;
	label$1577ae0_26_141:
	r20 = 0;
	label$1577ae0_26_142:
	r25 = r0->textSelectedHandle;
	if( r25 != r1 ) goto label$1577ae0_26_149;
	r37 = r20;
	r8 = &r37;
	r5 = NULL;
	r7 = NULL;
	zui_Zui_updateTextEdit(r0,r8,r5,r7);
	label$1577ae0_26_149:
	r25 = r0->submitTextHandle;
	if( r25 != r1 ) goto label$1577ae0_26_158;
	zui_Zui_submitTextEdit(r0);
	r34 = r1->text;
	r19 = Std_parseFloat(r34);
	r1->value = r19;
	r33 = true;
	r0->changed = r33;
	r1->changed = r33;
	label$1577ae0_26_158:
	r39 = r0->g;
	if( r39 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r38 = hl_vfields(r21)[21] ? (*(int*)(hl_vfields(r21)[21])) : (int)hl_dyn_geti(r21->value,370483844/*LABEL_COL*/,&t$_i32);
	r38 = ((int (*)(kha__graphics2__Graphics,int))r39->$type->vobj_proto[11])(r39,r38);
	r39 = r0->g;
	r22 = NULL;
	r38 = 0;
	r19 = (double)r38;
	r3 = &r19;
	r38 = r15;
	r8 = &r38;
	r5 = NULL;
	zui_Zui_drawString(r0,r39,r2,r22,r3,r8,r5);
	if( !r14 ) goto label$1577ae0_26_212;
	r39 = r0->g;
	if( r39 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r40 = hl_vfields(r21)[28] ? (*(int*)(hl_vfields(r21)[28])) : (int)hl_dyn_geti(r21->value,-437956663/*TEXT_COL*/,&t$_i32);
	r40 = ((int (*)(kha__graphics2__Graphics,int))r39->$type->vobj_proto[11])(r39,r40);
	r25 = r0->textSelectedHandle;
	if( r25 == r1 ) goto label$1577ae0_26_202;
	r39 = r0->g;
	r24 = r1->value;
	r24 = r24 * r13;
	r40 = hl_math_round(r24);
	r24 = (double)r40;
	r24 = r24 / r13;
	r8 = &r40;
	r35 = hl_ftos(r24,r8);
	r34 = String___alloc__(r35,r40);
	r36 = (String)s$;
	r34 = String___add__(r34,r36);
	r22 = NULL;
	r40 = 0;
	r24 = (double)r40;
	r3 = &r24;
	r40 = r20;
	r8 = &r40;
	r5 = NULL;
	zui_Zui_drawString(r0,r39,r34,r22,r3,r8,r5);
	goto label$1577ae0_26_212;
	label$1577ae0_26_202:
	r39 = r0->g;
	r34 = r0->textSelected;
	r22 = NULL;
	r41 = 0;
	r28 = (double)r41;
	r3 = &r28;
	r41 = r20;
	r8 = &r41;
	r5 = NULL;
	zui_Zui_drawString(r0,r39,r34,r22,r3,r8,r5);
	label$1577ae0_26_212:
	r22 = NULL;
	zui_Zui_endElement(r0,r22);
	r29 = r1->value;
	return r29;
}

void zui_Zui_tooltip(zui__Zui r0,String r1) {
	double r2, r3;
	r0->tooltipText = r1;
	r2 = r0->_y;
	r3 = r0->_windowY;
	r2 = r2 + r3;
	r0->tooltipY = r2;
	return;
}

void zui_Zui_drawCheck(zui__Zui r0,bool r1,bool r2) {
	kha__Image r22;
	vvirtual *r10, *r12;
	bool r9, r17;
	kha__graphics2__Graphics r8;
	float r23, r24, r25, r26;
	double r3, r4, r6, r13, r14, r15, r16, r18, r19, r20;
	double *r21;
	vdynamic *r11;
	int r7;
	r3 = r0->_x;
	r4 = r0->checkOffsetX;
	r3 = r3 + r4;
	r4 = r0->_y;
	r6 = r0->checkOffsetY;
	r4 = r4 + r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	if( !r2 ) goto label$1577ae0_28_13;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[1] ? (*(int*)(hl_vfields(r10)[1])) : (int)hl_dyn_geti(r10->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_28_16;
	label$1577ae0_28_13:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[0] ? (*(int*)(hl_vfields(r10)[0])) : (int)hl_dyn_geti(r10->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_28_16:
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[11])(r8,r7);
	r8 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[15] ? (*(bool*)(hl_vfields(r10)[15])) : (bool)hl_dyn_geti(r10->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[10] ? (*(int*)(hl_vfields(r10)[10])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r6 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r6 = r6 * r13;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[10] ? (*(int*)(hl_vfields(r10)[10])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r13 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r11 ? r11->v.d : 0;
	r13 = r13 * r14;
	r14 = 0.;
	r16 = 0.;
	if( r14 != r16 ) goto label$1577ae0_28_44;
	r15 = 1.;
	r14 = r15;
	label$1577ae0_28_44:
	r17 = r0->enabled;
	if( r17 ) goto label$1577ae0_28_47;
	zui_Zui_fadeColor(r0);
	label$1577ae0_28_47:
	if( !r9 ) goto label$1577ae0_28_55;
	if( r8 == NULL ) hl_null_access();
	r18 = 1.;
	r16 = r4 - r18;
	r20 = 1.;
	r19 = r13 + r20;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r8->$type->vobj_proto[5])(r8,r3,r16,r6,r19);
	goto label$1577ae0_28_59;
	label$1577ae0_28_55:
	if( r8 == NULL ) hl_null_access();
	r20 = r14;
	r21 = &r20;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r8->$type->vobj_proto[4])(r8,r3,r4,r6,r13,r21);
	label$1577ae0_28_59:
	if( !r1 ) goto label$1577ae0_28_89;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r7 = -1;
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[11])(r8,r7);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_28_67;
	zui_Zui_fadeColor(r0);
	label$1577ae0_28_67:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[9] ? (*(int*)(hl_vfields(r10)[9])) : (int)hl_dyn_geti(r10->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r6 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r6 = r6 * r13;
	r7 = (int)r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r22 = r0->checkSelectImage;
	r14 = r0->checkSelectOffsetX;
	r13 = r3 + r14;
	r23 = (float)r13;
	r14 = r0->checkSelectOffsetY;
	r13 = r4 + r14;
	r24 = (float)r13;
	r25 = (float)r7;
	r26 = (float)r7;
	kha_graphics2_Graphics_drawScaledImage(r8,r22,r23,r24,r25,r26);
	label$1577ae0_28_89:
	return;
}

void zui_Zui_drawSlider(zui__Zui r0,double r1,double r2,double r3,bool r4,bool r5) {
	vvirtual *r15, *r17;
	bool r14, r20;
	kha__graphics2__Graphics r13;
	double r6, r7, r9, r11, r12, r18, r19, r21, r22, r23, r25, r26, r27, r28, r29;
	double *r24;
	vdynamic *r16;
	int r10;
	r6 = r0->_x;
	r7 = r0->buttonOffsetY;
	r6 = r6 + r7;
	r7 = r0->_y;
	r9 = r0->buttonOffsetY;
	r7 = r7 + r9;
	r10 = r0->_w;
	r9 = (double)r10;
	r11 = r0->buttonOffsetY;
	r12 = 2.;
	r11 = r11 * r12;
	r9 = r9 - r11;
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_29_19;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_29_22;
	label$1577ae0_29_19:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_29_22:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[11])(r13,r10);
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[15] ? (*(bool*)(hl_vfields(r15)[15])) : (bool)hl_dyn_geti(r15->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r11 = (double)r10;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r16 ? r16->v.d : 0;
	r11 = r11 * r12;
	r12 = 0.;
	r19 = 0.;
	if( r12 != r19 ) goto label$1577ae0_29_41;
	r18 = 1.;
	r12 = r18;
	label$1577ae0_29_41:
	r20 = r0->enabled;
	if( r20 ) goto label$1577ae0_29_44;
	zui_Zui_fadeColor(r0);
	label$1577ae0_29_44:
	if( !r14 ) goto label$1577ae0_29_52;
	if( r13 == NULL ) hl_null_access();
	r21 = 1.;
	r19 = r7 - r21;
	r23 = 1.;
	r22 = r11 + r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[5])(r13,r6,r19,r9,r22);
	goto label$1577ae0_29_56;
	label$1577ae0_29_52:
	if( r13 == NULL ) hl_null_access();
	r23 = r12;
	r24 = &r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r13->$type->vobj_proto[4])(r13,r6,r7,r9,r11,r24);
	label$1577ae0_29_56:
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_29_63;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_29_66;
	label$1577ae0_29_63:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_29_66:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[11])(r13,r10);
	r11 = r1 - r2;
	r12 = r3 - r2;
	r11 = r11 / r12;
	r12 = 8.;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r18 = r16 ? r16->v.d : 0;
	r12 = r12 * r18;
	if( !r4 ) goto label$1577ae0_29_79;
	r18 = r6;
	goto label$1577ae0_29_82;
	label$1577ae0_29_79:
	r19 = r9 - r12;
	r19 = r19 * r11;
	r18 = r6 + r19;
	label$1577ae0_29_82:
	r22 = r9 - r12;
	r21 = r6 + r22;
	r19 = Math_min(r18,r21);
	r19 = Math_max(r19,r6);
	r18 = r19;
	if( !r4 ) goto label$1577ae0_29_90;
	r19 = r9 * r11;
	goto label$1577ae0_29_91;
	label$1577ae0_29_90:
	r19 = r12;
	label$1577ae0_29_91:
	r21 = Math_min(r19,r9);
	r22 = 0.;
	r21 = Math_max(r21,r22);
	r19 = r21;
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r10;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[5] ? (*(vdynamic**)(hl_vfields(r17)[5])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r16 ? r16->v.d : 0;
	r21 = r21 * r22;
	r22 = 0.;
	r26 = 0.;
	if( r22 != r26 ) goto label$1577ae0_29_109;
	r25 = 1.;
	label$1577ae0_29_109:
	r14 = r0->enabled;
	if( r14 ) goto label$1577ae0_29_112;
	zui_Zui_fadeColor(r0);
	label$1577ae0_29_112:
	if( r13 == NULL ) hl_null_access();
	r27 = 1.;
	r26 = r7 - r27;
	r29 = 1.;
	r28 = r21 + r29;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[5])(r13,r18,r26,r19,r28);
	return;
}

void zui_Zui_drawCombo(zui__Zui r0) {
	String r17, r18, r33;
	bool *r9, *r43;
	hl__types__ArrayObj r15;
	vvirtual *r7, *r13, *r38, *r49;
	bool r8, r19, r26, r28, r29, r30, r31;
	kha__graphics2__Graphics r4, r6;
	zui__$Zui r39;
	zui__$Handle r37;
	double r11, r14, r20, r35, r36, r41, r42, r52;
	double *r51;
	int *r22;
	vdynamic *r3, *r10, *r12, *r27;
	zui__Handle r2, r40;
	varray *r32;
	int r5, r16, r21, r23, r24, r25, r34, r44, r45, r46, r47, r48, r50;
	r2 = r0->comboSelectedHandle;
	if( r2 ) goto label$1577ae0_30_3;
	return;
	label$1577ae0_30_3:
	r4 = r0->g;
	r6 = r0->globalG;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r5 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[11])(r6,r5);
	r6 = r0->globalG;
	if( r6 == NULL ) hl_null_access();
	r8 = false;
	r9 = &r8;
	r10 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r6->$type->vobj_proto[0])(r6,r9,r10);
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r11 = (double)r5;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r12 ? r12->v.d : 0;
	r11 = r11 * r14;
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r5 = r15->length;
	r17 = r0->comboSelectedLabel;
	r18 = (String)s$;
	if( r17 == r18 || (r17 && r18 && String___compare(r17,(vdynamic*)r18) == 0) ) goto label$1577ae0_30_33;
	r16 = 1;
	goto label$1577ae0_30_34;
	label$1577ae0_30_33:
	r16 = 0;
	label$1577ae0_30_34:
	r5 = r5 + r16;
	r19 = r0->comboSearchBar;
	if( !r19 ) goto label$1577ae0_30_39;
	r16 = 1;
	goto label$1577ae0_30_40;
	label$1577ae0_30_39:
	r16 = 0;
	label$1577ae0_30_40:
	r5 = r5 + r16;
	r16 = (int)r11;
	r5 = r5 * r16;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r16 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r14 = (double)r16;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r12 ? r12->v.d : 0;
	r14 = r14 * r20;
	r16 = r0->comboSelectedY;
	r16 = r16 - r5;
	r21 = (int)r14;
	r16 = r16 - r21;
	r21 = r0->windowBorderTop;
	r16 = r16 - r21;
	r22 = NULL;
	r21 = kha_System_windowHeight(r22);
	r23 = r0->windowBorderBottom;
	r21 = r21 - r23;
	r23 = r0->comboSelectedY;
	r23 = r23 + r5;
	r21 = r21 - r23;
	r24 = 0;
	if( r21 >= r24 ) goto label$1577ae0_30_70;
	if( r21 >= r16 ) goto label$1577ae0_30_70;
	r19 = true;
	goto label$1577ae0_30_71;
	label$1577ae0_30_70:
	r19 = false;
	label$1577ae0_30_71:
	r6 = r0->globalG;
	r23 = r0->comboSelectedX;
	r24 = r0->comboSelectedY;
	r25 = r0->comboSelectedW;
	zui_Zui_beginRegion(r0,r6,r23,r24,r25);
	r26 = r0->isKeyPressed;
	if( r26 ) goto label$1577ae0_30_81;
	r23 = r0->inputWheelDelta;
	r24 = 0;
	if( r23 == r24 ) goto label$1577ae0_30_276;
	label$1577ae0_30_81:
	r26 = r0->isKeyPressed;
	if( !r26 ) goto label$1577ae0_30_93;
	r10 = r0->key;
	if( !r19 ) goto label$1577ae0_30_88;
	r23 = 40;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r23;
	goto label$1577ae0_30_90;
	label$1577ae0_30_88:
	r23 = 38;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r23;
	label$1577ae0_30_90:
	if( r10 != r27 && (!r10 || !r27 || (r10->v.i != r27->v.i)) ) goto label$1577ae0_30_93;
	r26 = true;
	goto label$1577ae0_30_94;
	label$1577ae0_30_93:
	r26 = false;
	label$1577ae0_30_94:
	r28 = r0->isKeyPressed;
	if( !r28 ) goto label$1577ae0_30_106;
	r10 = r0->key;
	if( !r19 ) goto label$1577ae0_30_101;
	r23 = 38;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r23;
	goto label$1577ae0_30_103;
	label$1577ae0_30_101:
	r23 = 40;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r23;
	label$1577ae0_30_103:
	if( r10 != r27 && (!r10 || !r27 || (r10->v.i != r27->v.i)) ) goto label$1577ae0_30_106;
	r28 = true;
	goto label$1577ae0_30_107;
	label$1577ae0_30_106:
	r28 = false;
	label$1577ae0_30_107:
	if( !r19 ) goto label$1577ae0_30_111;
	r23 = r0->inputWheelDelta;
	r24 = 0;
	if( r24 < r23 ) goto label$1577ae0_30_117;
	label$1577ae0_30_111:
	if( r19 ) goto label$1577ae0_30_115;
	r23 = r0->inputWheelDelta;
	r24 = 0;
	if( r23 < r24 ) goto label$1577ae0_30_117;
	label$1577ae0_30_115:
	r29 = false;
	goto label$1577ae0_30_118;
	label$1577ae0_30_117:
	r29 = true;
	label$1577ae0_30_118:
	if( !r19 ) goto label$1577ae0_30_122;
	r23 = r0->inputWheelDelta;
	r24 = 0;
	if( r23 < r24 ) goto label$1577ae0_30_128;
	label$1577ae0_30_122:
	if( r19 ) goto label$1577ae0_30_126;
	r23 = r0->inputWheelDelta;
	r24 = 0;
	if( r24 < r23 ) goto label$1577ae0_30_128;
	label$1577ae0_30_126:
	r30 = false;
	goto label$1577ae0_30_129;
	label$1577ae0_30_128:
	r30 = true;
	label$1577ae0_30_129:
	if( r26 ) goto label$1577ae0_30_131;
	if( !r29 ) goto label$1577ae0_30_196;
	label$1577ae0_30_131:
	r23 = r0->comboToSubmit;
	r24 = 0;
	if( r24 >= r23 ) goto label$1577ae0_30_196;
	r23 = 1;
	r31 = r0->comboSearchBar;
	if( !r31 ) goto label$1577ae0_30_190;
	r17 = r0->textSelected;
	if( r17 == NULL ) hl_null_access();
	r24 = r17->length;
	r25 = 0;
	if( r25 >= r24 ) goto label$1577ae0_30_190;
	r17 = r0->textSelected;
	if( r17 == NULL ) hl_null_access();
	r17 = String_toLowerCase(r17);
	label$1577ae0_30_145:
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r24 = r0->comboToSubmit;
	r24 = r24 - r23;
	r25 = r15->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$1577ae0_30_154;
	r18 = NULL;
	goto label$1577ae0_30_157;
	label$1577ae0_30_154:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r24];
	r18 = (String)r3;
	label$1577ae0_30_157:
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	if( r18 == NULL ) hl_null_access();
	r10 = NULL;
	r24 = String_indexOf(r18,r17,r10);
	r25 = 0;
	if( r24 >= r25 ) goto label$1577ae0_30_170;
	r24 = r0->comboToSubmit;
	r24 = r24 - r23;
	r25 = 0;
	if( r25 >= r24 ) goto label$1577ae0_30_170;
	++r23;
	goto label$1577ae0_30_145;
	label$1577ae0_30_170:
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r24 = r0->comboToSubmit;
	r24 = r24 - r23;
	r25 = r15->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$1577ae0_30_178;
	r18 = NULL;
	goto label$1577ae0_30_181;
	label$1577ae0_30_178:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r24];
	r18 = (String)r3;
	label$1577ae0_30_181:
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	if( r18 == NULL ) hl_null_access();
	r10 = NULL;
	r24 = String_indexOf(r18,r17,r10);
	r25 = 0;
	if( r24 >= r25 ) goto label$1577ae0_30_190;
	r24 = 0;
	r23 = r24;
	label$1577ae0_30_190:
	r24 = r0->comboToSubmit;
	r24 = r24 - r23;
	r0->comboToSubmit = r24;
	r2 = r0->comboSelectedHandle;
	r0->submitComboHandle = r2;
	goto label$1577ae0_30_270;
	label$1577ae0_30_196:
	if( r28 ) goto label$1577ae0_30_198;
	if( !r30 ) goto label$1577ae0_30_270;
	label$1577ae0_30_198:
	r23 = r0->comboToSubmit;
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r24 = r15->length;
	r25 = 1;
	r24 = r24 - r25;
	if( r23 >= r24 ) goto label$1577ae0_30_270;
	r23 = 1;
	r31 = r0->comboSearchBar;
	if( !r31 ) goto label$1577ae0_30_265;
	r17 = r0->textSelected;
	if( r17 == NULL ) hl_null_access();
	r24 = r17->length;
	r25 = 0;
	if( r25 >= r24 ) goto label$1577ae0_30_265;
	r17 = r0->textSelected;
	if( r17 == NULL ) hl_null_access();
	r17 = String_toLowerCase(r17);
	label$1577ae0_30_216:
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r24 = r0->comboToSubmit;
	r24 = r24 + r23;
	r25 = r15->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$1577ae0_30_225;
	r18 = NULL;
	goto label$1577ae0_30_228;
	label$1577ae0_30_225:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r24];
	r18 = (String)r3;
	label$1577ae0_30_228:
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	if( r18 == NULL ) hl_null_access();
	r10 = NULL;
	r24 = String_indexOf(r18,r17,r10);
	r25 = 0;
	if( r24 >= r25 ) goto label$1577ae0_30_245;
	r24 = r0->comboToSubmit;
	r24 = r24 + r23;
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r25 = r15->length;
	r34 = 1;
	r25 = r25 - r34;
	if( r24 >= r25 ) goto label$1577ae0_30_245;
	++r23;
	goto label$1577ae0_30_216;
	label$1577ae0_30_245:
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r24 = r0->comboToSubmit;
	r24 = r24 + r23;
	r25 = r15->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$1577ae0_30_253;
	r18 = NULL;
	goto label$1577ae0_30_256;
	label$1577ae0_30_253:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r24];
	r18 = (String)r3;
	label$1577ae0_30_256:
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	if( r18 == NULL ) hl_null_access();
	r10 = NULL;
	r24 = String_indexOf(r18,r17,r10);
	r25 = 0;
	if( r24 >= r25 ) goto label$1577ae0_30_265;
	r24 = 0;
	r23 = r24;
	label$1577ae0_30_265:
	r24 = r0->comboToSubmit;
	r24 = r24 + r23;
	r0->comboToSubmit = r24;
	r2 = r0->comboSelectedHandle;
	r0->submitComboHandle = r2;
	label$1577ae0_30_270:
	r2 = r0->comboSelectedWindow;
	if( !r2 ) goto label$1577ae0_30_276;
	r2 = r0->comboSelectedWindow;
	if( r2 == NULL ) hl_null_access();
	r23 = 2;
	r2->redraws = r23;
	label$1577ae0_30_276:
	r26 = true;
	r0->inputEnabled = r26;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r23 = hl_vfields(r7)[4] ? (*(int*)(hl_vfields(r7)[4])) : (int)hl_dyn_geti(r7->value,-446410866/*BUTTON_COL*/,&t$_i32);
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r24 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r25 = 0;
	if( hl_vfields(r7)[13] ) *(int*)(hl_vfields(r7)[13]) = (int)r25; else hl_dyn_seti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32,r25);
	r20 = r0->_x;
	r25 = r0->comboSelectedW;
	r34 = 2;
	r25 = r25 * r34;
	r35 = (double)r25;
	r20 = r20 + r35;
	r22 = NULL;
	r25 = kha_System_windowWidth(r22);
	r34 = r0->windowBorderRight;
	r25 = r25 - r34;
	r35 = (double)r25;
	if( !(r20 < r35) ) goto label$1577ae0_30_302;
	r25 = 1;
	goto label$1577ae0_30_303;
	label$1577ae0_30_302:
	r25 = -1;
	label$1577ae0_30_303:
	r26 = false;
	r17 = (String)s$;
	r28 = r0->comboSearchBar;
	if( !r28 ) goto label$1577ae0_30_385;
	if( !r19 ) goto label$1577ae0_30_322;
	r20 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r34 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r35 = (double)r34;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r12 ? r12->v.d : 0;
	r35 = r35 * r36;
	r36 = 2.;
	r35 = r35 * r36;
	r20 = r20 - r35;
	r0->_y = r20;
	label$1577ae0_30_322:
	r37 = (zui__$Handle)g$_zui_Handle;
	r2 = r37->global;
	if( r2 == NULL ) hl_null_access();
	r34 = 0;
	r38 = NULL;
	r2 = zui_Handle_nest(r2,r34,r38);
	r39 = (zui__$Zui)g$_zui_Zui;
	r28 = r39->comboFirst;
	if( !r28 ) goto label$1577ae0_30_334;
	if( r2 == NULL ) hl_null_access();
	r18 = (String)s$;
	r2->text = r18;
	label$1577ae0_30_334:
	r20 = 0.;
	r35 = 0.;
	r34 = r0->_w;
	r36 = (double)r34;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r41 = r12 ? r12->v.d : 0;
	r36 = r36 / r41;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r34 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r41 = (double)r34;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 * r42;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r34 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	zui_Zui_fill(r0,r20,r35,r36,r41,r34);
	r18 = (String)s$;
	r34 = 0;
	r22 = &r34;
	r28 = true;
	r9 = &r28;
	r29 = true;
	r43 = &r29;
	r18 = zui_Zui_textInput(r0,r2,r18,r22,r9,r43);
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	r17 = r18;
	r30 = r0->isReleased;
	if( !r30 ) goto label$1577ae0_30_377;
	r30 = true;
	r39 = (zui__$Zui)g$_zui_Zui;
	r39->comboFirst = r30;
	label$1577ae0_30_377:
	r39 = (zui__$Zui)g$_zui_Zui;
	r30 = r39->comboFirst;
	if( !r30 ) goto label$1577ae0_30_382;
	r22 = NULL;
	zui_Zui_startTextEdit(r0,r2,r22);
	label$1577ae0_30_382:
	if( r2 == NULL ) hl_null_access();
	r30 = r2->changed;
	r26 = r30;
	label$1577ae0_30_385:
	r44 = 0;
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r45 = r15->length;
	label$1577ae0_30_389:
	if( r44 >= r45 ) goto label$1577ae0_30_546;
	r46 = r44;
	++r44;
	if( r17 == NULL ) hl_null_access();
	r47 = r17->length;
	r48 = 0;
	if( r48 >= r47 ) goto label$1577ae0_30_414;
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r48 = r15->length;
	if( ((unsigned)r46) < ((unsigned)r48) ) goto label$1577ae0_30_403;
	r18 = NULL;
	goto label$1577ae0_30_406;
	label$1577ae0_30_403:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r46];
	r18 = (String)r3;
	label$1577ae0_30_406:
	if( r18 == NULL ) hl_null_access();
	r18 = String_toLowerCase(r18);
	if( r18 == NULL ) hl_null_access();
	r10 = NULL;
	r47 = String_indexOf(r18,r17,r10);
	r48 = 0;
	if( r47 >= r48 ) goto label$1577ae0_30_414;
	goto label$1577ae0_30_389;
	label$1577ae0_30_414:
	if( !r26 ) goto label$1577ae0_30_423;
	r2 = r0->comboSelectedHandle;
	if( r2 == NULL ) hl_null_access();
	r2->position = r46;
	r0->comboToSubmit = r46;
	r2 = r0->comboSelectedHandle;
	r0->submitComboHandle = r2;
	r30 = false;
	r26 = r30;
	label$1577ae0_30_423:
	if( !r19 ) goto label$1577ae0_30_438;
	r20 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r47 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r35 = (double)r47;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r12 ? r12->v.d : 0;
	r35 = r35 * r36;
	r36 = 2.;
	r35 = r35 * r36;
	r20 = r20 - r35;
	r0->_y = r20;
	label$1577ae0_30_438:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r2 = r0->comboSelectedHandle;
	if( r2 == NULL ) hl_null_access();
	r48 = r2->position;
	if( r46 != r48 ) goto label$1577ae0_30_448;
	r49 = r0->_t;
	if( r49 == NULL ) hl_null_access();
	r47 = hl_vfields(r49)[2] ? (*(int*)(hl_vfields(r49)[2])) : (int)hl_dyn_geti(r49->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	goto label$1577ae0_30_451;
	label$1577ae0_30_448:
	r49 = r0->_t;
	if( r49 == NULL ) hl_null_access();
	r47 = hl_vfields(r49)[26] ? (*(int*)(hl_vfields(r49)[26])) : (int)hl_dyn_geti(r49->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	label$1577ae0_30_451:
	if( hl_vfields(r7)[4] ) *(int*)(hl_vfields(r7)[4]) = (int)r47; else hl_dyn_seti(r7->value,-446410866/*BUTTON_COL*/,&t$_i32,r47);
	r20 = 0.;
	r35 = 0.;
	r47 = r0->_w;
	r36 = (double)r47;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r41 = r12 ? r12->v.d : 0;
	r36 = r36 / r41;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r47 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r41 = (double)r47;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 * r42;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r47 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	zui_Zui_fill(r0,r20,r35,r36,r41,r47);
	r15 = r0->comboSelectedTexts;
	if( r15 == NULL ) hl_null_access();
	r48 = r15->length;
	if( ((unsigned)r46) < ((unsigned)r48) ) goto label$1577ae0_30_485;
	r18 = NULL;
	goto label$1577ae0_30_488;
	label$1577ae0_30_485:
	r32 = r15->array;
	r3 = ((vdynamic**)(r32 + 1))[r46];
	r18 = (String)r3;
	label$1577ae0_30_488:
	r47 = r0->comboSelectedAlign;
	r22 = &r47;
	r33 = NULL;
	r30 = zui_Zui_button(r0,r18,r22,r33);
	if( !r30 ) goto label$1577ae0_30_503;
	r0->comboToSubmit = r46;
	r2 = r0->comboSelectedHandle;
	r0->submitComboHandle = r2;
	r2 = r0->comboSelectedWindow;
	if( !r2 ) goto label$1577ae0_30_502;
	r2 = r0->comboSelectedWindow;
	if( r2 == NULL ) hl_null_access();
	r48 = 2;
	r2->redraws = r48;
	label$1577ae0_30_502:
	goto label$1577ae0_30_546;
	label$1577ae0_30_503:
	r20 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r48 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r35 = (double)r48;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r12 ? r12->v.d : 0;
	r35 = r35 * r36;
	r20 = r20 + r35;
	r22 = NULL;
	r48 = kha_System_windowHeight(r22);
	r50 = r0->windowBorderBottom;
	r48 = r48 - r50;
	r35 = (double)r48;
	if( r35 < r20 ) goto label$1577ae0_30_536;
	r20 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r48 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r35 = (double)r48;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r12 ? r12->v.d : 0;
	r35 = r35 * r36;
	r36 = 2.;
	r35 = r35 * r36;
	r20 = r20 - r35;
	r48 = r0->windowBorderTop;
	r35 = (double)r48;
	if( !(r20 < r35) ) goto label$1577ae0_30_545;
	label$1577ae0_30_536:
	r20 = r0->_x;
	r48 = r0->comboSelectedW;
	r48 = r48 * r25;
	r35 = (double)r48;
	r20 = r20 + r35;
	r0->_x = r20;
	r48 = r0->comboSelectedY;
	r20 = (double)r48;
	r0->_y = r20;
	label$1577ae0_30_545:
	goto label$1577ae0_30_389;
	label$1577ae0_30_546:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	if( hl_vfields(r7)[4] ) *(int*)(hl_vfields(r7)[4]) = (int)r23; else hl_dyn_seti(r7->value,-446410866/*BUTTON_COL*/,&t$_i32,r23);
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	if( hl_vfields(r7)[13] ) *(int*)(hl_vfields(r7)[13]) = (int)r24; else hl_dyn_seti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32,r24);
	r18 = r0->comboSelectedLabel;
	r33 = (String)s$;
	if( r18 == r33 || (r18 && r33 && String___compare(r18,(vdynamic*)r33) == 0) ) goto label$1577ae0_30_703;
	if( !r19 ) goto label$1577ae0_30_643;
	r20 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r44 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r35 = (double)r44;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r12 ? r12->v.d : 0;
	r35 = r35 * r36;
	r36 = 2.;
	r35 = r35 * r36;
	r20 = r20 - r35;
	r0->_y = r20;
	r20 = 0.;
	r35 = 0.;
	r44 = r0->_w;
	r36 = (double)r44;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r41 = r12 ? r12->v.d : 0;
	r36 = r36 / r41;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r44 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r41 = (double)r44;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 * r42;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r44 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	zui_Zui_fill(r0,r20,r35,r36,r41,r44);
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r44 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,370483844/*LABEL_COL*/,&t$_i32);
	r44 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[11])(r6,r44);
	r6 = r0->g;
	r18 = r0->comboSelectedLabel;
	r12 = NULL;
	r44 = 0;
	r20 = (double)r44;
	r51 = &r20;
	r44 = 2;
	r22 = &r44;
	r9 = NULL;
	zui_Zui_drawString(r0,r6,r18,r12,r51,r22,r9);
	r35 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r36 = (double)r45;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r41 = r12 ? r12->v.d : 0;
	r36 = r36 * r41;
	r35 = r35 + r36;
	r0->_y = r35;
	r35 = 0.;
	r36 = 0.;
	r45 = r0->_w;
	r41 = (double)r45;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[2] ? (*(int*)(hl_vfields(r7)[2])) : (int)hl_dyn_geti(r7->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	zui_Zui_fill(r0,r35,r36,r41,r42,r45);
	goto label$1577ae0_30_703;
	label$1577ae0_30_643:
	r35 = 0.;
	r36 = 0.;
	r45 = r0->_w;
	r41 = (double)r45;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r42 = (double)r45;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r52 = r12 ? r12->v.d : 0;
	r42 = r42 * r52;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r52 = r12 ? r12->v.d : 0;
	r42 = r42 / r52;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	zui_Zui_fill(r0,r35,r36,r41,r42,r45);
	r35 = 0.;
	r36 = 0.;
	r45 = r0->_w;
	r41 = (double)r45;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r41 = r41 / r42;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r42 = r12 ? r12->v.d : 0;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[2] ? (*(int*)(hl_vfields(r7)[2])) : (int)hl_dyn_geti(r7->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	zui_Zui_fill(r0,r35,r36,r41,r42,r45);
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r45 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,370483844/*LABEL_COL*/,&t$_i32);
	r45 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[11])(r6,r45);
	r6 = r0->g;
	r18 = r0->comboSelectedLabel;
	r12 = NULL;
	r45 = 0;
	r35 = (double)r45;
	r51 = &r35;
	r45 = 2;
	r22 = &r45;
	r9 = NULL;
	zui_Zui_drawString(r0,r6,r18,r12,r51,r22,r9);
	label$1577ae0_30_703:
	r30 = r0->inputReleased;
	if( r30 ) goto label$1577ae0_30_711;
	r30 = r0->inputReleasedR;
	if( r30 ) goto label$1577ae0_30_711;
	r30 = r0->isEscapeDown;
	if( r30 ) goto label$1577ae0_30_711;
	r30 = r0->isReturnDown;
	if( !r30 ) goto label$1577ae0_30_720;
	label$1577ae0_30_711:
	r39 = (zui__$Zui)g$_zui_Zui;
	r30 = r39->comboFirst;
	if( r30 ) goto label$1577ae0_30_720;
	r2 = NULL;
	r0->comboSelectedHandle = r2;
	r30 = true;
	r39 = (zui__$Zui)g$_zui_Zui;
	r39->comboFirst = r30;
	goto label$1577ae0_30_723;
	label$1577ae0_30_720:
	r30 = false;
	r39 = (zui__$Zui)g$_zui_Zui;
	r39->comboFirst = r30;
	label$1577ae0_30_723:
	r2 = r0->comboSelectedHandle;
	r40 = NULL;
	if( r2 == r40 ) goto label$1577ae0_30_728;
	r30 = false;
	goto label$1577ae0_30_729;
	label$1577ae0_30_728:
	r30 = true;
	label$1577ae0_30_729:
	r0->inputEnabled = r30;
	r30 = false;
	r9 = &r30;
	zui_Zui_endRegion(r0,r9);
	r6 = r0->globalG;
	if( r6 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r6->$type->vobj_proto[1])(r6);
	r0->g = r4;
	return;
}

void zui_Zui_drawTooltip(zui__Zui r0,bool r1) {
	String r11, r17;
	bool *r5;
	kha__Image r29;
	vvirtual *r8, *r21;
	bool r3, r24, r28;
	kha__Kravur r7;
	kha__graphics2__Graphics r4;
	zui__$Zui r25;
	double r12, r14, r18, r19, r20, r22, r23, r26, r27;
	int *r15;
	zui__Handle r13;
	vdynamic *r6;
	vbyte *r16;
	int r9, r10;
	r3 = r0->sliderTooltip;
	if( !r3 ) goto label$1577ae0_31_90;
	if( !r1 ) goto label$1577ae0_31_9;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r3 = false;
	r5 = &r3;
	r6 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r4->$type->vobj_proto[0])(r4,r5,r6);
	label$1577ae0_31_9:
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	r7 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r4->$type->vobj_proto[12])(r4,r7);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = r0->fontSize;
	r10 = 2;
	r9 = r9 * r10;
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[13])(r4,r9);
	r13 = r0->scrollHandle;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->value;
	r14 = 100.;
	r12 = r12 * r14;
	r9 = hl_math_round(r12);
	r12 = (double)r9;
	r14 = 100.;
	r12 = r12 / r14;
	r15 = &r9;
	r16 = hl_ftos(r12,r15);
	r11 = String___alloc__(r16,r9);
	r17 = (String)s$;
	r11 = String___add__(r11,r17);
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	if( r7 == NULL ) hl_null_access();
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = kha_graphics2_Graphics_get_fontSize(r4);
	r12 = kha_Kravur_width(r7,r9,r11);
	r14 = 2.;
	r12 = r12 / r14;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	if( r7 == NULL ) hl_null_access();
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = kha_graphics2_Graphics_get_fontSize(r4);
	r14 = kha_Kravur_height(r7,r9);
	r18 = r0->sliderTooltipX;
	r19 = r0->inputX;
	r18 = Math_max(r18,r19);
	r19 = r0->sliderTooltipX;
	r20 = r0->sliderTooltipW;
	r19 = r19 + r20;
	r18 = Math_min(r18,r19);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r9 = hl_vfields(r21)[0] ? (*(int*)(hl_vfields(r21)[0])) : (int)hl_dyn_geti(r21->value,34671467/*ACCENT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r9);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r19 = r18 - r12;
	r20 = r0->sliderTooltipY;
	r20 = r20 - r14;
	r23 = 2.;
	r22 = r12 * r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r4->$type->vobj_proto[5])(r4,r19,r20,r22,r14);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r9 = hl_vfields(r21)[28] ? (*(int*)(hl_vfields(r21)[28])) : (int)hl_dyn_geti(r21->value,-437956663/*TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r9);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r19 = r18 - r12;
	r20 = r0->sliderTooltipY;
	r20 = r20 - r14;
	((void (*)(kha__graphics2__Graphics,String,double,double))r4->$type->vobj_proto[6])(r4,r11,r19,r20);
	if( !r1 ) goto label$1577ae0_31_90;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[1])(r4);
	label$1577ae0_31_90:
	r25 = (zui__$Zui)g$_zui_Zui;
	r24 = r25->touchTooltip;
	if( !r24 ) goto label$1577ae0_31_176;
	r13 = r0->textSelectedHandle;
	if( !r13 ) goto label$1577ae0_31_176;
	if( !r1 ) goto label$1577ae0_31_102;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r24 = false;
	r5 = &r24;
	r6 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r4->$type->vobj_proto[0])(r4,r5,r6);
	label$1577ae0_31_102:
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	r7 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r4->$type->vobj_proto[12])(r4,r7);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = r0->fontSize;
	r10 = 2;
	r9 = r9 * r10;
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[13])(r4,r9);
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	if( r7 == NULL ) hl_null_access();
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = kha_graphics2_Graphics_get_fontSize(r4);
	r11 = r0->textSelected;
	r12 = kha_Kravur_width(r7,r9,r11);
	r14 = 2.;
	r12 = r12 / r14;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[3] ? (*(kha__Kravur*)(hl_vfields(r8)[3])) : (kha__Kravur)hl_dyn_getp(r8->value,62938841/*font*/,&t$kha_Kravur);
	if( r7 == NULL ) hl_null_access();
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r9 = kha_graphics2_Graphics_get_fontSize(r4);
	r14 = kha_Kravur_height(r7,r9);
	r18 = 2.;
	r14 = r14 / r18;
	r15 = NULL;
	r9 = kha_System_windowWidth(r15);
	r18 = (double)r9;
	r19 = 2.;
	r18 = r18 / r19;
	r15 = NULL;
	r9 = kha_System_windowHeight(r15);
	r19 = (double)r9;
	r20 = 3.;
	r19 = r19 / r20;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r9 = hl_vfields(r21)[0] ? (*(int*)(hl_vfields(r21)[0])) : (int)hl_dyn_geti(r21->value,34671467/*ACCENT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r9);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r20 = r18 - r12;
	r22 = r19 - r14;
	r26 = 2.;
	r23 = r12 * r26;
	r27 = 2.;
	r26 = r14 * r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r4->$type->vobj_proto[5])(r4,r20,r22,r23,r26);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r9 = hl_vfields(r21)[28] ? (*(int*)(hl_vfields(r21)[28])) : (int)hl_dyn_geti(r21->value,-437956663/*TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r9);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r11 = r0->textSelected;
	r20 = r18 - r12;
	r22 = r19 - r14;
	((void (*)(kha__graphics2__Graphics,String,double,double))r4->$type->vobj_proto[6])(r4,r11,r20,r22);
	if( !r1 ) goto label$1577ae0_31_176;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[1])(r4);
	label$1577ae0_31_176:
	r11 = r0->tooltipText;
	r17 = (String)s$;
	if( r11 != r17 && (!r11 || !r17 || String___compare(r11,(vdynamic*)r17) != 0) ) goto label$1577ae0_31_181;
	r29 = r0->tooltipImg;
	if( !r29 ) goto label$1577ae0_31_218;
	label$1577ae0_31_181:
	r28 = zui_Zui_inputChanged(r0);
	if( !r28 ) goto label$1577ae0_31_195;
	r28 = false;
	r0->tooltipShown = r28;
	r12 = r0->inputDX;
	r14 = 0.;
	if( r12 != r14 ) goto label$1577ae0_31_193;
	r12 = r0->inputDY;
	r14 = 0.;
	if( r12 != r14 ) goto label$1577ae0_31_193;
	r28 = true;
	goto label$1577ae0_31_194;
	label$1577ae0_31_193:
	r28 = false;
	label$1577ae0_31_194:
	r0->tooltipWait = r28;
	label$1577ae0_31_195:
	r28 = r0->tooltipShown;
	if( r28 ) goto label$1577ae0_31_203;
	r28 = true;
	r0->tooltipShown = r28;
	r12 = r0->inputX;
	r0->tooltipX = r12;
	r12 = kha_Scheduler_time();
	r0->tooltipTime = r12;
	label$1577ae0_31_203:
	r28 = r0->tooltipWait;
	if( r28 ) goto label$1577ae0_31_217;
	r12 = kha_Scheduler_time();
	r14 = r0->tooltipTime;
	r12 = r12 - r14;
	r14 = 1.;
	if( !(r14 < r12) ) goto label$1577ae0_31_217;
	r29 = r0->tooltipImg;
	if( !r29 ) goto label$1577ae0_31_213;
	zui_Zui_drawTooltipImage(r0,r1);
	label$1577ae0_31_213:
	r11 = r0->tooltipText;
	r17 = (String)s$;
	if( r11 == r17 || (r11 && r17 && String___compare(r11,(vdynamic*)r17) == 0) ) goto label$1577ae0_31_217;
	zui_Zui_drawTooltipText(r0,r1);
	label$1577ae0_31_217:
	goto label$1577ae0_31_220;
	label$1577ae0_31_218:
	r28 = false;
	r0->tooltipShown = r28;
	label$1577ae0_31_220:
	return;
}

void zui_Zui_drawTooltipText(zui__Zui r0,bool r1) {
	bool *r21;
	String r6, r7;
	kha__Image r23;
	hl__types__ArrayObj r5;
	vvirtual *r4, *r16;
	bool r20;
	kha__Kravur r15;
	kha__graphics2__Graphics r3;
	double r9, r14, r17, r18, r25, r26, r27;
	int *r19;
	vdynamic *r12, *r22;
	varray *r13;
	int r2, r10, r11, r24, r28, r29;
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->_t;
	if( r4 == NULL ) hl_null_access();
	r2 = hl_vfields(r4)[28] ? (*(int*)(hl_vfields(r4)[28])) : (int)hl_dyn_geti(r4->value,-437956663/*TEXT_COL*/,&t$_i32);
	r2 = ((int (*)(kha__graphics2__Graphics,int))r3->$type->vobj_proto[11])(r3,r2);
	r6 = r0->tooltipText;
	if( r6 == NULL ) hl_null_access();
	r7 = (String)s$68b329d;
	r5 = String_split(r6,r7);
	r9 = 0.;
	r2 = 0;
	label$1577ae0_32_12:
	if( r5 == NULL ) hl_null_access();
	r11 = r5->length;
	if( r2 >= r11 ) goto label$1577ae0_32_33;
	r11 = r5->length;
	if( ((unsigned)r2) < ((unsigned)r11) ) goto label$1577ae0_32_20;
	r6 = NULL;
	goto label$1577ae0_32_23;
	label$1577ae0_32_20:
	r13 = r5->array;
	r12 = ((vdynamic**)(r13 + 1))[r2];
	r6 = (String)r12;
	label$1577ae0_32_23:
	++r2;
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[3] ? (*(kha__Kravur*)(hl_vfields(r16)[3])) : (kha__Kravur)hl_dyn_getp(r16->value,62938841/*font*/,&t$kha_Kravur);
	if( r15 == NULL ) hl_null_access();
	r10 = r0->fontSize;
	r14 = kha_Kravur_width(r15,r10,r6);
	if( !(r9 < r14) ) goto label$1577ae0_32_32;
	r9 = r14;
	label$1577ae0_32_32:
	goto label$1577ae0_32_12;
	label$1577ae0_32_33:
	r14 = r0->tooltipX;
	r19 = NULL;
	r2 = kha_System_windowWidth(r19);
	r17 = (double)r2;
	r17 = r17 - r9;
	r18 = 20.;
	r17 = r17 - r18;
	r14 = Math_min(r14,r17);
	r0->tooltipX = r14;
	if( !r1 ) goto label$1577ae0_32_49;
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r20 = false;
	r21 = &r20;
	r22 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r3->$type->vobj_proto[0])(r3,r21,r22);
	label$1577ae0_32_49:
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[3] ? (*(kha__Kravur*)(hl_vfields(r16)[3])) : (kha__Kravur)hl_dyn_getp(r16->value,62938841/*font*/,&t$kha_Kravur);
	if( r15 == NULL ) hl_null_access();
	r2 = r0->fontSize;
	r14 = kha_Kravur_height(r15,r2);
	r2 = 0;
	r23 = r0->tooltipImg;
	if( !r23 ) goto label$1577ae0_32_82;
	r23 = r0->tooltipImg;
	if( r23 == NULL ) hl_null_access();
	r10 = kha_Image_get_width(r23);
	r22 = r0->tooltipImgMaxWidth;
	if( !r22 ) goto label$1577ae0_32_69;
	r22 = r0->tooltipImgMaxWidth;
	r24 = r22 ? r22->v.i : 0;
	if( r24 >= r10 ) goto label$1577ae0_32_69;
	r22 = r0->tooltipImgMaxWidth;
	r11 = r22 ? r22->v.i : 0;
	r10 = r11;
	label$1577ae0_32_69:
	r23 = r0->tooltipImg;
	if( r23 == NULL ) hl_null_access();
	r11 = kha_Image_get_height(r23);
	r17 = (double)r11;
	r18 = (double)r10;
	r23 = r0->tooltipImg;
	if( r23 == NULL ) hl_null_access();
	r11 = kha_Image_get_width(r23);
	r25 = (double)r11;
	r18 = r18 / r25;
	r17 = r17 * r18;
	r11 = (int)r17;
	r2 = r11;
	label$1577ae0_32_82:
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r17 = r0->tooltipX;
	r18 = r0->tooltipY;
	r25 = (double)r2;
	r18 = r18 + r25;
	r26 = 20.;
	r25 = r9 + r26;
	r10 = r5->length;
	r27 = (double)r10;
	r26 = r14 * r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r3->$type->vobj_proto[5])(r3,r17,r18,r25,r26);
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[3] ? (*(kha__Kravur*)(hl_vfields(r16)[3])) : (kha__Kravur)hl_dyn_getp(r16->value,62938841/*font*/,&t$kha_Kravur);
	r15 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r3->$type->vobj_proto[12])(r3,r15);
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r10 = r0->fontSize;
	r10 = ((int (*)(kha__graphics2__Graphics,int))r3->$type->vobj_proto[13])(r3,r10);
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->_t;
	if( r4 == NULL ) hl_null_access();
	r10 = hl_vfields(r4)[0] ? (*(int*)(hl_vfields(r4)[0])) : (int)hl_dyn_geti(r4->value,34671467/*ACCENT_COL*/,&t$_i32);
	r10 = ((int (*)(kha__graphics2__Graphics,int))r3->$type->vobj_proto[11])(r3,r10);
	r10 = 0;
	r11 = r5->length;
	label$1577ae0_32_112:
	if( r10 >= r11 ) goto label$1577ae0_32_138;
	r24 = r10;
	++r10;
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	if( r5 == NULL ) hl_null_access();
	r29 = r5->length;
	if( ((unsigned)r24) < ((unsigned)r29) ) goto label$1577ae0_32_123;
	r6 = NULL;
	goto label$1577ae0_32_126;
	label$1577ae0_32_123:
	r13 = r5->array;
	r12 = ((vdynamic**)(r13 + 1))[r24];
	r6 = (String)r12;
	label$1577ae0_32_126:
	r17 = r0->tooltipX;
	r18 = 5.;
	r17 = r17 + r18;
	r18 = r0->tooltipY;
	r25 = (double)r2;
	r18 = r18 + r25;
	r29 = r0->fontSize;
	r28 = r24 * r29;
	r25 = (double)r28;
	r18 = r18 + r25;
	((void (*)(kha__graphics2__Graphics,String,double,double))r3->$type->vobj_proto[6])(r3,r6,r17,r18);
	goto label$1577ae0_32_112;
	label$1577ae0_32_138:
	if( !r1 ) goto label$1577ae0_32_142;
	r3 = r0->globalG;
	if( r3 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r3->$type->vobj_proto[1])(r3);
	label$1577ae0_32_142:
	return;
}

void zui_Zui_drawTooltipImage(zui__Zui r0,bool r1) {
	bool *r15;
	kha__Image r3;
	bool r13, r16;
	kha__graphics2__Graphics r14;
	float r17, r18, r19, r20;
	double r8, r9, r10, r12;
	int *r11;
	vdynamic *r5;
	int r2, r6, r7;
	r3 = r0->tooltipImg;
	if( r3 == NULL ) hl_null_access();
	r2 = kha_Image_get_width(r3);
	r5 = r0->tooltipImgMaxWidth;
	if( !r5 ) goto label$1577ae0_33_11;
	r5 = r0->tooltipImgMaxWidth;
	r7 = r5 ? r5->v.i : 0;
	if( r7 >= r2 ) goto label$1577ae0_33_11;
	r5 = r0->tooltipImgMaxWidth;
	r6 = r5 ? r5->v.i : 0;
	r2 = r6;
	label$1577ae0_33_11:
	r3 = r0->tooltipImg;
	if( r3 == NULL ) hl_null_access();
	r6 = kha_Image_get_height(r3);
	r8 = (double)r6;
	r9 = (double)r2;
	r3 = r0->tooltipImg;
	if( r3 == NULL ) hl_null_access();
	r6 = kha_Image_get_width(r3);
	r10 = (double)r6;
	r9 = r9 / r10;
	r8 = r8 * r9;
	r9 = r0->tooltipX;
	r11 = NULL;
	r6 = kha_System_windowWidth(r11);
	r6 = r6 - r2;
	r7 = 20;
	r6 = r6 - r7;
	r10 = (double)r6;
	r9 = Math_min(r9,r10);
	r0->tooltipX = r9;
	r9 = r0->tooltipY;
	r11 = NULL;
	r6 = kha_System_windowHeight(r11);
	r10 = (double)r6;
	r10 = r10 - r8;
	r12 = 20.;
	r10 = r10 - r12;
	r9 = Math_min(r9,r10);
	r0->tooltipY = r9;
	if( !r1 ) goto label$1577ae0_33_47;
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r13 = false;
	r15 = &r13;
	r5 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r14->$type->vobj_proto[0])(r14,r15,r5);
	label$1577ae0_33_47:
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r6 = -16777216;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r6);
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->tooltipX;
	r10 = r0->tooltipY;
	r12 = (double)r2;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r14->$type->vobj_proto[5])(r14,r9,r10,r12,r8);
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r6 = -1;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r6);
	r16 = r0->tooltipInvertY;
	if( !r16 ) goto label$1577ae0_33_76;
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r3 = r0->tooltipImg;
	r9 = r0->tooltipX;
	r17 = (float)r9;
	r9 = r0->tooltipY;
	r9 = r9 + r8;
	r18 = (float)r9;
	r19 = (float)r2;
	r9 = -r8;
	r20 = (float)r9;
	kha_graphics2_Graphics_drawScaledImage(r14,r3,r17,r18,r19,r20);
	goto label$1577ae0_33_86;
	label$1577ae0_33_76:
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	r3 = r0->tooltipImg;
	r9 = r0->tooltipX;
	r17 = (float)r9;
	r9 = r0->tooltipY;
	r18 = (float)r9;
	r19 = (float)r2;
	r20 = (float)r8;
	kha_graphics2_Graphics_drawScaledImage(r14,r3,r17,r18,r19,r20);
	label$1577ae0_33_86:
	if( !r1 ) goto label$1577ae0_33_90;
	r14 = r0->globalG;
	if( r14 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r14->$type->vobj_proto[1])(r14);
	label$1577ae0_33_90:
	return;
}

void zui_Zui_drawString(zui__Zui r0,kha__graphics2__Graphics r1,String r2,vdynamic* r3,double* r4,int* r5,bool* r6) {
	String r10, r14, r23;
	kha__graphics4__PipelineState r32;
	hl__types__ArrayObj r34;
	vvirtual *r18, *r31, *r33, *r35, *r38;
	bool r9, r12;
	hl__types__ArrayBytes_Int r29;
	kha__Kravur r17;
	kha__graphics2__$Graphics r30;
	zui__$Zui r26;
	double r7, r16, r19, r20, r22;
	vdynamic *r21, *r25, *r36;
	varray *r37;
	int r8, r13, r15, r24, r27, r28;
	if( r4 ) goto label$1577ae0_34_3;
	r7 = 0.;
	goto label$1577ae0_34_4;
	label$1577ae0_34_3:
	r7 = *r4;
	label$1577ae0_34_4:
	if( r5 ) goto label$1577ae0_34_7;
	r8 = 0;
	goto label$1577ae0_34_8;
	label$1577ae0_34_7:
	r8 = *r5;
	label$1577ae0_34_8:
	if( r6 ) goto label$1577ae0_34_11;
	r9 = true;
	goto label$1577ae0_34_12;
	label$1577ae0_34_11:
	r9 = *r6;
	label$1577ae0_34_12:
	r10 = r2;
	if( !r9 ) goto label$1577ae0_34_84;
	label$1577ae0_34_14:
	if( r2 == NULL ) hl_null_access();
	r13 = r2->length;
	r15 = 0;
	if( r15 >= r13 ) goto label$1577ae0_34_43;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r17 = hl_vfields(r18)[3] ? (*(kha__Kravur*)(hl_vfields(r18)[3])) : (kha__Kravur)hl_dyn_getp(r18->value,62938841/*font*/,&t$kha_Kravur);
	if( r17 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r16 = kha_Kravur_width(r17,r13,r2);
	r13 = r0->_w;
	r19 = (double)r13;
	r20 = 6.;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[5] ? (*(vdynamic**)(hl_vfields(r18)[5])) : (vdynamic*)hl_dyn_getp(r18->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r21 ? r21->v.d : 0;
	r20 = r20 * r22;
	r19 = r19 - r20;
	if( !(r19 < r16) ) goto label$1577ae0_34_43;
	r13 = 0;
	r15 = r2->length;
	r24 = 1;
	r15 = r15 - r24;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r15;
	r14 = String_substr(r2,r13,r25);
	r2 = r14;
	goto label$1577ae0_34_14;
	label$1577ae0_34_43:
	r13 = r2->length;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->length;
	if( r13 >= r15 ) goto label$1577ae0_34_84;
	r23 = (String)s$58b9e70;
	r14 = String___add__(r2,r23);
	r2 = r14;
	label$1577ae0_34_50:
	if( r2 == NULL ) hl_null_access();
	r13 = r2->length;
	r15 = 2;
	if( r15 >= r13 ) goto label$1577ae0_34_81;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r17 = hl_vfields(r18)[3] ? (*(kha__Kravur*)(hl_vfields(r18)[3])) : (kha__Kravur)hl_dyn_getp(r18->value,62938841/*font*/,&t$kha_Kravur);
	if( r17 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r16 = kha_Kravur_width(r17,r13,r2);
	r13 = r0->_w;
	r19 = (double)r13;
	r20 = 10.;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[5] ? (*(vdynamic**)(hl_vfields(r18)[5])) : (vdynamic*)hl_dyn_getp(r18->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r21 ? r21->v.d : 0;
	r20 = r20 * r22;
	r19 = r19 - r20;
	if( !(r19 < r16) ) goto label$1577ae0_34_81;
	r13 = 0;
	r15 = r2->length;
	r24 = 3;
	r15 = r15 - r24;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r15;
	r14 = String_substr(r2,r13,r25);
	r23 = (String)s$58b9e70;
	r14 = String___add__(r14,r23);
	r2 = r14;
	goto label$1577ae0_34_50;
	label$1577ae0_34_81:
	r12 = r0->isHovered;
	if( !r12 ) goto label$1577ae0_34_84;
	zui_Zui_tooltip(r0,r10);
	label$1577ae0_34_84:
	r26 = (zui__$Zui)g$_zui_Zui;
	r12 = r26->dynamicGlyphLoad;
	if( !r12 ) goto label$1577ae0_34_121;
	r13 = 0;
	if( r2 == NULL ) hl_null_access();
	r15 = r2->length;
	label$1577ae0_34_90:
	if( r13 >= r15 ) goto label$1577ae0_34_121;
	r24 = r13;
	++r13;
	if( r2 == NULL ) hl_null_access();
	r25 = String_charCodeAt(r2,r24);
	r27 = r25 ? r25->v.i : 0;
	r28 = 126;
	if( r28 >= r27 ) goto label$1577ae0_34_120;
	r30 = (kha__graphics2__$Graphics)g$_kha_graphics2_Graphics;
	r29 = r30->fontGlyphs;
	if( r29 == NULL ) hl_null_access();
	r25 = String_charCodeAt(r2,r24);
	r27 = r25 ? r25->v.i : 0;
	r25 = NULL;
	r27 = hl_types_ArrayBytes_Int_indexOf(r29,r27,r25);
	r28 = -1;
	if( r27 != r28 ) goto label$1577ae0_34_120;
	r30 = (kha__graphics2__$Graphics)g$_kha_graphics2_Graphics;
	r29 = r30->fontGlyphs;
	if( r29 == NULL ) hl_null_access();
	r25 = String_charCodeAt(r2,r24);
	r27 = r25 ? r25->v.i : 0;
	r27 = hl_types_ArrayBytes_Int_push(r29,r27);
	r30 = (kha__graphics2__$Graphics)g$_kha_graphics2_Graphics;
	r29 = r30->fontGlyphs;
	if( r29 == NULL ) hl_null_access();
	r29 = hl_types_ArrayBytes_Int_copy(r29);
	r30 = (kha__graphics2__$Graphics)g$_kha_graphics2_Graphics;
	r30->fontGlyphs = r29;
	label$1577ae0_34_120:
	goto label$1577ae0_34_90;
	label$1577ae0_34_121:
	if( r3 ) goto label$1577ae0_34_128;
	r31 = r0->_t;
	if( r31 == NULL ) hl_null_access();
	r13 = hl_vfields(r31)[29] ? (*(int*)(hl_vfields(r31)[29])) : (int)hl_dyn_geti(r31->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r16 = (double)r13;
	r21 = hl_alloc_dynamic(&t$_f64);
	r21->v.d = r16;
	r3 = r21;
	label$1577ae0_34_128:
	r16 = r3 ? r3->v.d : 0;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[5] ? (*(vdynamic**)(hl_vfields(r18)[5])) : (vdynamic*)hl_dyn_getp(r18->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r19 = r21 ? r21->v.d : 0;
	r16 = r16 * r19;
	r21 = hl_alloc_dynamic(&t$_f64);
	r21->v.d = r16;
	r3 = r21;
	if( r1 == NULL ) hl_null_access();
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r17 = hl_vfields(r18)[3] ? (*(kha__Kravur*)(hl_vfields(r18)[3])) : (kha__Kravur)hl_dyn_getp(r18->value,62938841/*font*/,&t$kha_Kravur);
	r17 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r1->$type->vobj_proto[12])(r1,r17);
	r13 = r0->fontSize;
	r13 = ((int (*)(kha__graphics2__Graphics,int))r1->$type->vobj_proto[13])(r1,r13);
	r15 = 1;
	if( r8 != r15 ) goto label$1577ae0_34_161;
	r13 = r0->_w;
	r16 = (double)r13;
	r19 = 2.;
	r16 = r16 / r19;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r17 = hl_vfields(r18)[3] ? (*(kha__Kravur*)(hl_vfields(r18)[3])) : (kha__Kravur)hl_dyn_getp(r18->value,62938841/*font*/,&t$kha_Kravur);
	if( r17 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r19 = kha_Kravur_width(r17,r13,r2);
	r20 = 2.;
	r19 = r19 / r20;
	r16 = r16 - r19;
	r21 = hl_alloc_dynamic(&t$_f64);
	r21->v.d = r16;
	r3 = r21;
	goto label$1577ae0_34_184;
	label$1577ae0_34_161:
	r15 = 2;
	if( r8 != r15 ) goto label$1577ae0_34_184;
	r13 = r0->_w;
	r16 = (double)r13;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r17 = hl_vfields(r18)[3] ? (*(kha__Kravur*)(hl_vfields(r18)[3])) : (kha__Kravur)hl_dyn_getp(r18->value,62938841/*font*/,&t$kha_Kravur);
	if( r17 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r19 = kha_Kravur_width(r17,r13,r2);
	r16 = r16 - r19;
	r31 = r0->_t;
	if( r31 == NULL ) hl_null_access();
	r13 = hl_vfields(r31)[29] ? (*(int*)(hl_vfields(r31)[29])) : (int)hl_dyn_geti(r31->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r19 = (double)r13;
	r18 = r0->ops;
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[5] ? (*(vdynamic**)(hl_vfields(r18)[5])) : (vdynamic*)hl_dyn_getp(r18->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r21 ? r21->v.d : 0;
	r19 = r19 * r20;
	r16 = r16 - r19;
	r21 = hl_alloc_dynamic(&t$_f64);
	r21->v.d = r16;
	r3 = r21;
	label$1577ae0_34_184:
	r12 = r0->enabled;
	if( r12 ) goto label$1577ae0_34_187;
	zui_Zui_fadeColor(r0);
	label$1577ae0_34_187:
	r32 = r0->rtTextPipeline;
	r32 = kha_graphics2_Graphics_set_pipeline(r1,r32);
	r33 = r0->textColoring;
	if( r33 ) goto label$1577ae0_34_200;
	r16 = r0->_x;
	r19 = r21 ? r21->v.d : 0;
	r16 = r16 + r19;
	r19 = r0->_y;
	r20 = r0->fontOffsetY;
	r19 = r19 + r20;
	r19 = r19 + r7;
	((void (*)(kha__graphics2__Graphics,String,double,double))r1->$type->vobj_proto[6])(r1,r2,r16,r19);
	goto label$1577ae0_34_250;
	label$1577ae0_34_200:
	r13 = 0;
	r33 = r0->textColoring;
	if( r33 == NULL ) hl_null_access();
	r34 = hl_vfields(r33)[0] ? (*(hl__types__ArrayObj*)(hl_vfields(r33)[0])) : (hl__types__ArrayObj)hl_dyn_getp(r33->value,374315193/*colorings*/,&t$hl_types_ArrayObj);
	label$1577ae0_34_204:
	if( r34 == NULL ) hl_null_access();
	r24 = r34->length;
	if( r13 >= r24 ) goto label$1577ae0_34_237;
	r24 = r34->length;
	if( ((unsigned)r13) < ((unsigned)r24) ) goto label$1577ae0_34_212;
	r35 = NULL;
	goto label$1577ae0_34_215;
	label$1577ae0_34_212:
	r37 = r34->array;
	r36 = ((vdynamic**)(r37 + 1))[r13];
	r35 = hl_to_virtual(&t$vrt_bdf8c3b,(vdynamic*)r36);
	label$1577ae0_34_215:
	++r13;
	r38 = zui_Zui_extractColoring(r2,r35);
	if( r38 == NULL ) hl_null_access();
	r14 = hl_vfields(r38)[0] ? (*(String*)(hl_vfields(r38)[0])) : (String)hl_dyn_getp(r38->value,-278517630/*colored*/,&t$String);
	r23 = (String)s$;
	if( r14 == r23 || (r14 && r23 && String___compare(r14,(vdynamic*)r23) == 0) ) goto label$1577ae0_34_234;
	if( r1 == NULL ) hl_null_access();
	if( r35 == NULL ) hl_null_access();
	r15 = hl_vfields(r35)[0] ? (*(int*)(hl_vfields(r35)[0])) : (int)hl_dyn_geti(r35->value,173830765/*color*/,&t$_i32);
	r15 = ((int (*)(kha__graphics2__Graphics,int))r1->$type->vobj_proto[11])(r1,r15);
	r14 = hl_vfields(r38)[0] ? (*(String*)(hl_vfields(r38)[0])) : (String)hl_dyn_getp(r38->value,-278517630/*colored*/,&t$String);
	r16 = r0->_x;
	r19 = r3 ? r3->v.d : 0;
	r16 = r16 + r19;
	r19 = r0->_y;
	r20 = r0->fontOffsetY;
	r19 = r19 + r20;
	r19 = r19 + r7;
	((void (*)(kha__graphics2__Graphics,String,double,double))r1->$type->vobj_proto[6])(r1,r14,r16,r19);
	label$1577ae0_34_234:
	r14 = hl_vfields(r38)[1] ? (*(String*)(hl_vfields(r38)[1])) : (String)hl_dyn_getp(r38->value,-345493687/*uncolored*/,&t$String);
	r2 = r14;
	goto label$1577ae0_34_204;
	label$1577ae0_34_237:
	if( r1 == NULL ) hl_null_access();
	r33 = r0->textColoring;
	if( r33 == NULL ) hl_null_access();
	r13 = hl_vfields(r33)[1] ? (*(int*)(hl_vfields(r33)[1])) : (int)hl_dyn_geti(r33->value,203954213/*default_color*/,&t$_i32);
	r13 = ((int (*)(kha__graphics2__Graphics,int))r1->$type->vobj_proto[11])(r1,r13);
	r16 = r0->_x;
	r19 = r3 ? r3->v.d : 0;
	r16 = r16 + r19;
	r19 = r0->_y;
	r20 = r0->fontOffsetY;
	r19 = r19 + r20;
	r19 = r19 + r7;
	((void (*)(kha__graphics2__Graphics,String,double,double))r1->$type->vobj_proto[6])(r1,r2,r16,r19);
	label$1577ae0_34_250:
	r32 = NULL;
	r32 = kha_graphics2_Graphics_set_pipeline(r1,r32);
	return;
}

vvirtual* zui_Zui_extractColoring(String r0,vvirtual* r1) {
	String r3, r21;
	hl__types__ArrayObj r12;
	vvirtual *r2;
	bool r4, r11, r16, r17, r19, r20;
	vdynamic *r15, *r22;
	int r5, r6, r7, r8, r9, r10, r13, r14, r18;
	r2 = hl_alloc_virtual(&t$vrt_ec373c8);
	r3 = (String)s$;
	if( hl_vfields(r2)[0] ) *(String*)(hl_vfields(r2)[0]) = (String)r3; else hl_dyn_setp(r2->value,-278517630/*colored*/,&t$String,r3);
	r3 = (String)s$;
	if( hl_vfields(r2)[1] ) *(String*)(hl_vfields(r2)[1]) = (String)r3; else hl_dyn_setp(r2->value,-345493687/*uncolored*/,&t$String,r3);
	r4 = false;
	r5 = 0;
	r6 = 0;
	r7 = 0;
	if( r0 == NULL ) hl_null_access();
	r8 = r0->length;
	label$1577ae0_35_11:
	if( r7 >= r8 ) goto label$1577ae0_35_131;
	r9 = r7;
	++r7;
	r11 = false;
	if( r1 == NULL ) hl_null_access();
	r12 = hl_vfields(r1)[3] ? (*(hl__types__ArrayObj*)(hl_vfields(r1)[3])) : (hl__types__ArrayObj)hl_dyn_getp(r1->value,-469011757/*start*/,&t$hl_types_ArrayObj);
	r10 = zui_Zui_checkStart(r9,r0,r12);
	r14 = 0;
	if( r9 == r14 ) goto label$1577ae0_35_40;
	if( r0 == NULL ) hl_null_access();
	r14 = 1;
	r13 = r9 - r14;
	r15 = String_charCodeAt(r0,r13);
	r13 = r15 ? r15->v.i : 0;
	r18 = 65;
	if( r13 < r18 ) goto label$1577ae0_35_30;
	r18 = 90;
	if( r18 >= r13 ) goto label$1577ae0_35_36;
	label$1577ae0_35_30:
	r18 = 97;
	if( r13 < r18 ) goto label$1577ae0_35_34;
	r18 = 122;
	if( r18 >= r13 ) goto label$1577ae0_35_36;
	label$1577ae0_35_34:
	r17 = false;
	goto label$1577ae0_35_37;
	label$1577ae0_35_36:
	r17 = true;
	label$1577ae0_35_37:
	r17 = !r17;
	r16 = r17;
	goto label$1577ae0_35_42;
	label$1577ae0_35_40:
	r17 = true;
	r16 = r17;
	label$1577ae0_35_42:
	r13 = r9 + r10;
	if( r0 == NULL ) hl_null_access();
	r14 = r0->length;
	if( r13 >= r14 ) goto label$1577ae0_35_63;
	r13 = r9 + r10;
	r15 = String_charCodeAt(r0,r13);
	r13 = r15 ? r15->v.i : 0;
	r18 = 65;
	if( r13 < r18 ) goto label$1577ae0_35_53;
	r18 = 90;
	if( r18 >= r13 ) goto label$1577ae0_35_59;
	label$1577ae0_35_53:
	r18 = 97;
	if( r13 < r18 ) goto label$1577ae0_35_57;
	r18 = 122;
	if( r18 >= r13 ) goto label$1577ae0_35_59;
	label$1577ae0_35_57:
	r19 = false;
	goto label$1577ae0_35_60;
	label$1577ae0_35_59:
	r19 = true;
	label$1577ae0_35_60:
	r19 = !r19;
	r17 = r19;
	goto label$1577ae0_35_65;
	label$1577ae0_35_63:
	r19 = true;
	r17 = r19;
	label$1577ae0_35_65:
	if( !r16 ) goto label$1577ae0_35_69;
	if( !r17 ) goto label$1577ae0_35_69;
	r19 = true;
	goto label$1577ae0_35_70;
	label$1577ae0_35_69:
	r19 = false;
	label$1577ae0_35_70:
	r14 = 0;
	if( r14 >= r10 ) goto label$1577ae0_35_93;
	if( !r4 ) goto label$1577ae0_35_76;
	r3 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	r21 = (String)s$;
	if( r3 != r21 && (!r3 || !r21 || String___compare(r3,(vdynamic*)r21) != 0) ) goto label$1577ae0_35_93;
	label$1577ae0_35_76:
	r22 = hl_vfields(r1)[2] ? (*(vdynamic**)(hl_vfields(r1)[2])) : (vdynamic*)hl_dyn_getp(r1->value,293558310/*separated*/,&t$nul_bool);
	r20 = r22 ? r22->v.b : 0;
	if( !r20 ) goto label$1577ae0_35_80;
	if( !r19 ) goto label$1577ae0_35_93;
	label$1577ae0_35_80:
	r20 = true;
	r4 = r20;
	r5 = r9;
	r6 = r10;
	r3 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	r21 = (String)s$;
	if( r3 == r21 || (r3 && r21 && String___compare(r3,(vdynamic*)r21) == 0) ) goto label$1577ae0_35_92;
	r3 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	r21 = (String)s$68b329d;
	if( r3 == r21 || (r3 && r21 && String___compare(r3,(vdynamic*)r21) == 0) ) goto label$1577ae0_35_92;
	r20 = true;
	r11 = r20;
	label$1577ae0_35_92:
	goto label$1577ae0_35_110;
	label$1577ae0_35_93:
	r3 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	r21 = (String)s$;
	if( r3 != r21 && (!r3 || !r21 || String___compare(r3,(vdynamic*)r21) != 0) ) goto label$1577ae0_35_101;
	r14 = r5 + r6;
	if( r9 != r14 ) goto label$1577ae0_35_100;
	r20 = false;
	r4 = r20;
	label$1577ae0_35_100:
	goto label$1577ae0_35_110;
	label$1577ae0_35_101:
	r21 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	if( r21 == NULL ) hl_null_access();
	r14 = r21->length;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r14;
	r3 = String_substr(r0,r9,r15);
	r21 = hl_vfields(r1)[1] ? (*(String*)(hl_vfields(r1)[1])) : (String)hl_dyn_getp(r1->value,5047259/*end*/,&t$String);
	if( r3 != r21 && (!r3 || !r21 || String___compare(r3,(vdynamic*)r21) != 0) ) goto label$1577ae0_35_110;
	r20 = false;
	r4 = r20;
	label$1577ae0_35_110:
	if( !r4 ) goto label$1577ae0_35_114;
	if( r11 ) goto label$1577ae0_35_114;
	r20 = true;
	goto label$1577ae0_35_115;
	label$1577ae0_35_114:
	r20 = false;
	label$1577ae0_35_115:
	if( r2 == NULL ) hl_null_access();
	r3 = hl_vfields(r2)[0] ? (*(String*)(hl_vfields(r2)[0])) : (String)hl_dyn_getp(r2->value,-278517630/*colored*/,&t$String);
	if( !r20 ) goto label$1577ae0_35_120;
	r21 = String_charAt(r0,r9);
	goto label$1577ae0_35_121;
	label$1577ae0_35_120:
	r21 = (String)s$7215ee9;
	label$1577ae0_35_121:
	r3 = String___add__(r3,r21);
	if( hl_vfields(r2)[0] ) *(String*)(hl_vfields(r2)[0]) = (String)r3; else hl_dyn_setp(r2->value,-278517630/*colored*/,&t$String,r3);
	r3 = hl_vfields(r2)[1] ? (*(String*)(hl_vfields(r2)[1])) : (String)hl_dyn_getp(r2->value,-345493687/*uncolored*/,&t$String);
	if( !r20 ) goto label$1577ae0_35_127;
	r21 = (String)s$7215ee9;
	goto label$1577ae0_35_128;
	label$1577ae0_35_127:
	r21 = String_charAt(r0,r9);
	label$1577ae0_35_128:
	r3 = String___add__(r3,r21);
	if( hl_vfields(r2)[1] ) *(String*)(hl_vfields(r2)[1]) = (String)r3; else hl_dyn_setp(r2->value,-345493687/*uncolored*/,&t$String,r3);
	goto label$1577ae0_35_11;
	label$1577ae0_35_131:
	return r2;
}

int zui_Zui_checkStart(int r0,String r1,hl__types__ArrayObj r2) {
	String r6, r9;
	vdynamic *r7, *r10;
	varray *r8;
	int r3, r4, r5;
	r3 = 0;
	label$1577ae0_36_1:
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	if( r3 >= r5 ) goto label$1577ae0_36_22;
	r5 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$1577ae0_36_9;
	r6 = NULL;
	goto label$1577ae0_36_12;
	label$1577ae0_36_9:
	r8 = r2->array;
	r7 = ((vdynamic**)(r8 + 1))[r3];
	r6 = (String)r7;
	label$1577ae0_36_12:
	++r3;
	if( r1 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r5;
	r9 = String_substr(r1,r0,r10);
	if( r9 != r6 && (!r9 || !r6 || String___compare(r9,(vdynamic*)r6) != 0) ) goto label$1577ae0_36_21;
	r4 = r6->length;
	return r4;
	label$1577ae0_36_21:
	goto label$1577ae0_36_1;
	label$1577ae0_36_22:
	r3 = 0;
	return r3;
}

void zui_Zui_endElement(zui__Zui r0,vdynamic* r1) {
	vvirtual *r6, *r7;
	bool r14;
	hl__types__ArrayBytes_Float r12;
	double r4, r8, r9, r16;
	zui__Handle r10;
	vdynamic *r3;
	vbyte *r15;
	int r5, r11, r13;
	if( r1 ) goto label$1577ae0_37_22;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r4 = (double)r5;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r3 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r3 ? r3->v.d : 0;
	r4 = r4 * r8;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[13] ? (*(int*)(hl_vfields(r6)[13])) : (int)hl_dyn_geti(r6->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r8 = (double)r5;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r3 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r9 = r3 ? r3->v.d : 0;
	r8 = r8 * r9;
	r4 = r4 + r8;
	r3 = hl_alloc_dynamic(&t$_f64);
	r3->v.d = r4;
	r1 = r3;
	label$1577ae0_37_22:
	r10 = r0->currentWindow;
	if( !r10 ) goto label$1577ae0_37_29;
	r10 = r0->currentWindow;
	if( r10 == NULL ) hl_null_access();
	r5 = r10->layout;
	r11 = 0;
	if( r5 != r11 ) goto label$1577ae0_37_94;
	label$1577ae0_37_29:
	r5 = r0->curRatio;
	r11 = -1;
	if( r5 == r11 ) goto label$1577ae0_37_41;
	r12 = r0->ratios;
	if( !r12 ) goto label$1577ae0_37_65;
	r5 = r0->curRatio;
	r12 = r0->ratios;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->length;
	r13 = 1;
	r11 = r11 - r13;
	if( r5 != r11 ) goto label$1577ae0_37_65;
	label$1577ae0_37_41:
	r4 = r0->_y;
	r8 = r1 ? r1->v.d : 0;
	r4 = r4 + r8;
	r0->_y = r4;
	r12 = r0->ratios;
	if( !r12 ) goto label$1577ae0_37_64;
	r5 = r0->curRatio;
	r12 = r0->ratios;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->length;
	r13 = 1;
	r11 = r11 - r13;
	if( r5 != r11 ) goto label$1577ae0_37_64;
	r5 = -1;
	r0->curRatio = r5;
	r12 = NULL;
	r0->ratios = r12;
	r4 = r0->xBeforeSplit;
	r0->_x = r4;
	r5 = r0->wBeforeSplit;
	r0->_w = r5;
	r14 = false;
	r0->highlightFullRow = r14;
	label$1577ae0_37_64:
	goto label$1577ae0_37_93;
	label$1577ae0_37_65:
	r5 = r0->curRatio;
	++r5;
	r0->curRatio = r5;
	r4 = r0->_x;
	r5 = r0->_w;
	r8 = (double)r5;
	r4 = r4 + r8;
	r0->_x = r4;
	r12 = r0->ratios;
	if( r12 == NULL ) hl_null_access();
	r5 = r0->curRatio;
	r11 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r11) ) goto label$1577ae0_37_80;
	r4 = 0.;
	goto label$1577ae0_37_84;
	label$1577ae0_37_80:
	r15 = r12->bytes;
	r11 = 3;
	r11 = r5 << r11;
	r4 = *(double*)(r15 + r11);
	label$1577ae0_37_84:
	r9 = 0.;
	if( !(r4 < r9) ) goto label$1577ae0_37_88;
	r8 = -r4;
	goto label$1577ae0_37_91;
	label$1577ae0_37_88:
	r5 = r0->wBeforeSplit;
	r9 = (double)r5;
	r8 = r4 * r9;
	label$1577ae0_37_91:
	r5 = (int)r8;
	r0->_w = r5;
	label$1577ae0_37_93:
	goto label$1577ae0_37_109;
	label$1577ae0_37_94:
	r4 = r0->_x;
	r5 = r0->_w;
	r8 = (double)r5;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[13] ? (*(int*)(hl_vfields(r6)[13])) : (int)hl_dyn_geti(r6->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r9 = (double)r5;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r3 = hl_vfields(r7)[5] ? (*(vdynamic**)(hl_vfields(r7)[5])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r3 ? r3->v.d : 0;
	r9 = r9 * r16;
	r8 = r8 + r9;
	r4 = r4 + r8;
	r0->_x = r4;
	label$1577ae0_37_109:
	return;
}

void zui_Zui_fadeColor(zui__Zui r0) {
	kha__graphics2__Graphics r2, r4;
	float r3, r7, r8, r9;
	double r6;
	float *r10;
	int r1, r5;
	r2 = r0->g;
	if( r2 == NULL ) hl_null_access();
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 16711680;
	r1 = r1 & r5;
	r5 = 16;
	r1 = ((unsigned)r1) >> r5;
	r3 = (float)r1;
	r6 = 0.003921568627450980338;
	r7 = (float)r6;
	r3 = r3 * r7;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 65280;
	r1 = r1 & r5;
	r5 = 8;
	r1 = ((unsigned)r1) >> r5;
	r7 = (float)r1;
	r6 = 0.003921568627450980338;
	r8 = (float)r6;
	r7 = r7 * r8;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 255;
	r1 = r1 & r5;
	r8 = (float)r1;
	r6 = 0.003921568627450980338;
	r9 = (float)r6;
	r8 = r8 * r9;
	r6 = 0.25;
	r9 = (float)r6;
	r10 = &r9;
	r1 = kha__Color_Color_Impl__fromFloats(r3,r7,r8,r10);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[11])(r2,r1);
	return;
}

void zui_Zui_fill(zui__Zui r0,double r1,double r2,double r3,double r4,int r5) {
	vvirtual *r13;
	bool r9;
	kha__graphics2__Graphics r7;
	double r10, r11, r14, r15, r16;
	vdynamic *r12;
	int r6;
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[11])(r7,r5);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_39_6;
	zui_Zui_fadeColor(r0);
	label$1577ae0_39_6:
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r10 = r0->_x;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r12 ? r12->v.d : 0;
	r11 = r1 * r14;
	r10 = r10 + r11;
	r11 = r0->_y;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r12 ? r12->v.d : 0;
	r14 = r2 * r15;
	r11 = r11 + r14;
	r14 = 1.;
	r11 = r11 - r14;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r12 ? r12->v.d : 0;
	r14 = r3 * r15;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(vdynamic**)(hl_vfields(r13)[5])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r12 ? r12->v.d : 0;
	r15 = r4 * r16;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r7->$type->vobj_proto[5])(r7,r10,r11,r14,r15);
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = -1;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[11])(r7,r6);
	return;
}

bool zui_Zui_isVisible(zui__Zui r0,double r1) {
	kha__Image r7;
	bool r3;
	double r4, r5;
	zui__Handle r2;
	int r6;
	r2 = r0->currentWindow;
	if( r2 ) goto label$1577ae0_40_4;
	r3 = true;
	return r3;
	label$1577ae0_40_4:
	r4 = r0->_y;
	r4 = r4 + r1;
	r5 = r0->windowHeaderH;
	if( !(r5 < r4) ) goto label$1577ae0_40_20;
	r4 = r0->_y;
	r2 = r0->currentWindow;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->texture;
	if( r7 == NULL ) hl_null_access();
	r6 = kha_Image_get_height(r7);
	r5 = (double)r6;
	if( r4 < r5 ) goto label$1577ae0_40_18;
	r3 = false;
	goto label$1577ae0_40_19;
	label$1577ae0_40_18:
	r3 = true;
	label$1577ae0_40_19:
	return r3;
	label$1577ae0_40_20:
	r3 = false;
	return r3;
}

bool zui_Zui_getReleased(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_41_3;
	r2 = -1.;
	goto label$1577ae0_41_4;
	label$1577ae0_41_3:
	r2 = *r1;
	label$1577ae0_41_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_41_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_41_20;
	r3 = r0->inputReleased;
	if( !r3 ) goto label$1577ae0_41_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_41_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_41_20;
	r3 = true;
	goto label$1577ae0_41_21;
	label$1577ae0_41_20:
	r3 = false;
	label$1577ae0_41_21:
	r0->isReleased = r3;
	r3 = r0->isReleased;
	return r3;
}

bool zui_Zui_getPushed(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_42_3;
	r2 = -1.;
	goto label$1577ae0_42_4;
	label$1577ae0_42_3:
	r2 = *r1;
	label$1577ae0_42_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_42_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_42_20;
	r3 = r0->inputDown;
	if( !r3 ) goto label$1577ae0_42_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_42_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_42_20;
	r3 = true;
	goto label$1577ae0_42_21;
	label$1577ae0_42_20:
	r3 = false;
	label$1577ae0_42_21:
	r0->isPushed = r3;
	r3 = r0->isPushed;
	return r3;
}

bool zui_Zui_getStarted(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4;
	if( r1 ) goto label$1577ae0_43_3;
	r2 = -1.;
	goto label$1577ae0_43_4;
	label$1577ae0_43_3:
	r2 = *r1;
	label$1577ae0_43_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_43_16;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_43_16;
	r3 = r0->inputStarted;
	if( !r3 ) goto label$1577ae0_43_16;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_43_16;
	r3 = true;
	goto label$1577ae0_43_17;
	label$1577ae0_43_16:
	r3 = false;
	label$1577ae0_43_17:
	r0->isStarted = r3;
	r3 = r0->isStarted;
	return r3;
}

bool zui_Zui_getInitialHover(zui__Zui r0,double* r1) {
	vvirtual *r8, *r10;
	bool r3;
	double r2, r4, r5, r6;
	vdynamic *r9;
	int r7;
	if( r1 ) goto label$1577ae0_44_3;
	r2 = -1.;
	goto label$1577ae0_44_4;
	label$1577ae0_44_3:
	r2 = *r1;
	label$1577ae0_44_4:
	r3 = r0->scissor;
	if( !r3 ) goto label$1577ae0_44_13;
	r4 = r0->inputY;
	r5 = r0->_windowY;
	r6 = r0->windowHeaderH;
	r5 = r5 + r6;
	if( !(r4 < r5) ) goto label$1577ae0_44_13;
	r3 = false;
	return r3;
	label$1577ae0_44_13:
	r5 = -1.;
	if( r2 != r5 ) goto label$1577ae0_44_25;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[12] ? (*(int*)(hl_vfields(r8)[12])) : (int)hl_dyn_geti(r8->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r4 = (double)r7;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r5 = r9 ? r9->v.d : 0;
	r4 = r4 * r5;
	r2 = r4;
	label$1577ae0_44_25:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_44_57;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_44_57;
	r4 = r0->inputStartedX;
	r5 = r0->_windowX;
	r6 = r0->_x;
	r5 = r5 + r6;
	if( !(r4 >= r5) ) goto label$1577ae0_44_57;
	r4 = r0->inputStartedX;
	r5 = r0->_windowX;
	r6 = r0->_x;
	r5 = r5 + r6;
	r7 = r0->_w;
	r6 = (double)r7;
	r5 = r5 + r6;
	if( !(r4 < r5) ) goto label$1577ae0_44_57;
	r4 = r0->inputStartedY;
	r5 = r0->_windowY;
	r6 = r0->_y;
	r5 = r5 + r6;
	if( !(r4 >= r5) ) goto label$1577ae0_44_57;
	r4 = r0->inputStartedY;
	r5 = r0->_windowY;
	r6 = r0->_y;
	r5 = r5 + r6;
	r5 = r5 + r2;
	if( r4 < r5 ) goto label$1577ae0_44_55;
	r3 = false;
	goto label$1577ae0_44_56;
	label$1577ae0_44_55:
	r3 = true;
	label$1577ae0_44_56:
	return r3;
	label$1577ae0_44_57:
	r3 = false;
	return r3;
}

bool zui_Zui_getHover(zui__Zui r0,double* r1) {
	vvirtual *r8, *r10;
	bool r3;
	double r2, r4, r5, r6;
	vdynamic *r9;
	int r7;
	if( r1 ) goto label$1577ae0_45_3;
	r2 = -1.;
	goto label$1577ae0_45_4;
	label$1577ae0_45_3:
	r2 = *r1;
	label$1577ae0_45_4:
	r3 = r0->scissor;
	if( !r3 ) goto label$1577ae0_45_13;
	r4 = r0->inputY;
	r5 = r0->_windowY;
	r6 = r0->windowHeaderH;
	r5 = r5 + r6;
	if( !(r4 < r5) ) goto label$1577ae0_45_13;
	r3 = false;
	return r3;
	label$1577ae0_45_13:
	r5 = -1.;
	if( r2 != r5 ) goto label$1577ae0_45_25;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[12] ? (*(int*)(hl_vfields(r8)[12])) : (int)hl_dyn_geti(r8->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r4 = (double)r7;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r5 = r9 ? r9->v.d : 0;
	r4 = r4 * r5;
	r2 = r4;
	label$1577ae0_45_25:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_45_63;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_45_63;
	r4 = r0->inputX;
	r5 = r0->_windowX;
	r3 = r0->highlightFullRow;
	if( !r3 ) goto label$1577ae0_45_35;
	r6 = 0.;
	goto label$1577ae0_45_36;
	label$1577ae0_45_35:
	r6 = r0->_x;
	label$1577ae0_45_36:
	r5 = r5 + r6;
	if( !(r4 >= r5) ) goto label$1577ae0_45_63;
	r4 = r0->inputX;
	r5 = r0->_windowX;
	r6 = r0->_x;
	r5 = r5 + r6;
	r3 = r0->highlightFullRow;
	if( !r3 ) goto label$1577ae0_45_46;
	r6 = r0->_windowW;
	goto label$1577ae0_45_48;
	label$1577ae0_45_46:
	r7 = r0->_w;
	r6 = (double)r7;
	label$1577ae0_45_48:
	r5 = r5 + r6;
	if( !(r4 < r5) ) goto label$1577ae0_45_63;
	r4 = r0->inputY;
	r5 = r0->_windowY;
	r6 = r0->_y;
	r5 = r5 + r6;
	if( !(r4 >= r5) ) goto label$1577ae0_45_63;
	r4 = r0->inputY;
	r5 = r0->_windowY;
	r6 = r0->_y;
	r5 = r5 + r6;
	r5 = r5 + r2;
	if( !(r4 < r5) ) goto label$1577ae0_45_63;
	r3 = true;
	goto label$1577ae0_45_64;
	label$1577ae0_45_63:
	r3 = false;
	label$1577ae0_45_64:
	r0->isHovered = r3;
	r3 = r0->isHovered;
	return r3;
}

bool zui_Zui_getInputInRect(zui__Zui r0,double r1,double r2,double r3,double r4,double* r5) {
	bool r7;
	double r6, r8, r9;
	if( r5 ) goto label$1577ae0_46_3;
	r6 = 1.;
	goto label$1577ae0_46_4;
	label$1577ae0_46_3:
	r6 = *r5;
	label$1577ae0_46_4:
	r7 = r0->enabled;
	if( !r7 ) goto label$1577ae0_46_26;
	r7 = r0->inputEnabled;
	if( !r7 ) goto label$1577ae0_46_26;
	r8 = r0->inputX;
	r9 = r1 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_46_26;
	r8 = r0->inputX;
	r9 = r1 + r3;
	r9 = r9 * r6;
	if( !(r8 < r9) ) goto label$1577ae0_46_26;
	r8 = r0->inputY;
	r9 = r2 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_46_26;
	r8 = r0->inputY;
	r9 = r2 + r4;
	r9 = r9 * r6;
	if( r8 < r9 ) goto label$1577ae0_46_24;
	r7 = false;
	goto label$1577ae0_46_25;
	label$1577ae0_46_24:
	r7 = true;
	label$1577ae0_46_25:
	return r7;
	label$1577ae0_46_26:
	r7 = false;
	return r7;
}

void zui_Zui_onMouseDown(zui__Zui r0,int r1,int r2,int r3) {
	bool r5;
	double r7;
	int r6;
	r5 = r0->penInUse;
	if( !r5 ) goto label$1577ae0_47_3;
	return;
	label$1577ae0_47_3:
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_47_8;
	r5 = true;
	r0->inputStarted = r5;
	goto label$1577ae0_47_10;
	label$1577ae0_47_8:
	r5 = true;
	r0->inputStartedR = r5;
	label$1577ae0_47_10:
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_47_15;
	r5 = true;
	r0->inputDown = r5;
	goto label$1577ae0_47_17;
	label$1577ae0_47_15:
	r5 = true;
	r0->inputDownR = r5;
	label$1577ae0_47_17:
	r7 = kha_Scheduler_time();
	r0->inputStartedTime = r7;
	r7 = (double)r2;
	r0->inputStartedX = r7;
	r7 = (double)r3;
	r0->inputStartedY = r7;
	return;
}

void zui_Zui_onMouseUp(zui__Zui r0,int r1,int r2,int r3) {
	bool r5;
	double r7, r8;
	zui__Handle r6;
	int r9;
	r5 = r0->penInUse;
	if( !r5 ) goto label$1577ae0_48_3;
	return;
	label$1577ae0_48_3:
	r5 = r0->touchHoldActivated;
	if( !r5 ) goto label$1577ae0_48_8;
	r5 = false;
	r0->touchHoldActivated = r5;
	return;
	label$1577ae0_48_8:
	r5 = r0->isScrolling;
	if( !r5 ) goto label$1577ae0_48_30;
	r5 = false;
	r0->isScrolling = r5;
	r6 = NULL;
	r0->scrollHandle = r6;
	r5 = false;
	r0->sliderTooltip = r5;
	r7 = (double)r2;
	r8 = r0->inputStartedX;
	if( r7 != r8 ) goto label$1577ae0_48_29;
	r7 = (double)r3;
	r8 = r0->inputStartedY;
	if( r7 != r8 ) goto label$1577ae0_48_29;
	r9 = 0;
	if( r1 != r9 ) goto label$1577ae0_48_27;
	r5 = true;
	r0->inputReleased = r5;
	goto label$1577ae0_48_29;
	label$1577ae0_48_27:
	r5 = true;
	r0->inputReleasedR = r5;
	label$1577ae0_48_29:
	goto label$1577ae0_48_37;
	label$1577ae0_48_30:
	r9 = 0;
	if( r1 != r9 ) goto label$1577ae0_48_35;
	r5 = true;
	r0->inputReleased = r5;
	goto label$1577ae0_48_37;
	label$1577ae0_48_35:
	r5 = true;
	r0->inputReleasedR = r5;
	label$1577ae0_48_37:
	r9 = 0;
	if( r1 != r9 ) goto label$1577ae0_48_42;
	r5 = false;
	r0->inputDown = r5;
	goto label$1577ae0_48_44;
	label$1577ae0_48_42:
	r5 = false;
	r0->inputDownR = r5;
	label$1577ae0_48_44:
	zui_Zui_deselectText(r0);
	return;
}

void zui_Zui_onMouseMove(zui__Zui r0,int r1,int r2,int r3,int r4) {
	zui_Zui_setInputPosition(r0,r1,r2);
	return;
}

void zui_Zui_onMouseWheel(zui__Zui r0,int r1) {
	r0->inputWheelDelta = r1;
	return;
}

void zui_Zui_setInputPosition(zui__Zui r0,int r1,int r2) {
	double r3, r4, r5;
	r3 = r0->inputDX;
	r4 = (double)r1;
	r5 = r0->inputX;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDX = r3;
	r3 = r0->inputDY;
	r4 = (double)r2;
	r5 = r0->inputY;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDY = r3;
	r3 = (double)r1;
	r0->inputX = r3;
	r3 = (double)r2;
	r0->inputY = r3;
	return;
}

void zui_Zui_onPenDown(zui__Zui r0,int r1,int r2,double r3) {
	int r5;
	r5 = 0;
	zui_Zui_onMouseDown(r0,r5,r1,r2);
	return;
}

void zui_Zui_onPenUp(zui__Zui r0,int r1,int r2,double r3) {
	bool r5;
	int r6;
	r5 = r0->inputStarted;
	if( !r5 ) goto label$1577ae0_53_7;
	r5 = false;
	r0->inputStarted = r5;
	r5 = true;
	r0->penInUse = r5;
	return;
	label$1577ae0_53_7:
	r6 = 0;
	zui_Zui_onMouseUp(r0,r6,r1,r2);
	r5 = true;
	r0->penInUse = r5;
	return;
}

void zui_Zui_onPenMove(zui__Zui r0,int r1,int r2,double r3) {
	int r5, r6;
	r5 = 0;
	r6 = 0;
	zui_Zui_onMouseMove(r0,r1,r2,r5,r6);
	return;
}

void zui_Zui_onKeyDown(zui__Zui r0,int r1) {
	String r8;
	bool r3;
	zui__$Zui r6;
	double r4, r5;
	vdynamic *r2;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r1;
	r0->key = r2;
	r3 = true;
	r0->isKeyPressed = r3;
	r3 = true;
	r0->isKeyDown = r3;
	r4 = kha_Scheduler_time();
	r5 = 0.4000000000000000222;
	r4 = r4 + r5;
	r6 = (zui__$Zui)g$_zui_Zui;
	r6->keyRepeatTime = r4;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 10:
		case 11:
		case 12:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
		case 47:
		case 48:
		case 49:
		case 50:
		case 51:
		case 52:
		case 53:
		case 54:
		case 55:
		case 56:
		case 57:
		case 58:
		case 59:
		case 60:
		case 61:
		case 62:
		case 63:
		case 64:
			goto label$1577ae0_55_42;
		case 8:
			r3 = true;
			r0->isBackspaceDown = r3;
			goto label$1577ae0_55_42;
		case 9:
			r3 = true;
			r0->isTabDown = r3;
			goto label$1577ae0_55_42;
		case 13:
			r3 = true;
			r0->isReturnDown = r3;
			goto label$1577ae0_55_42;
		case 16:
			r3 = true;
			r0->isShiftDown = r3;
			goto label$1577ae0_55_42;
		case 17:
			r3 = true;
			r0->isCtrlDown = r3;
			goto label$1577ae0_55_42;
		case 18:
			r3 = true;
			r0->isAltDown = r3;
			goto label$1577ae0_55_42;
		case 27:
			r3 = true;
			r0->isEscapeDown = r3;
			goto label$1577ae0_55_42;
		case 32:
			r8 = (String)s$7215ee9;
			r0->_char = r8;
			goto label$1577ae0_55_42;
		case 46:
			r3 = true;
			r0->isDeleteDown = r3;
			goto label$1577ae0_55_42;
		case 65:
			r3 = true;
			r0->isADown = r3;
	}
	label$1577ae0_55_42:
	return;
}

void zui_Zui_onKeyUp(zui__Zui r0,int r1) {
	bool r2;
	r2 = false;
	r0->isKeyDown = r2;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 10:
		case 11:
		case 12:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
		case 47:
		case 48:
		case 49:
		case 50:
		case 51:
		case 52:
		case 53:
		case 54:
		case 55:
		case 56:
		case 57:
		case 58:
		case 59:
		case 60:
		case 61:
		case 62:
		case 63:
		case 64:
			goto label$1577ae0_56_30;
		case 8:
			r2 = false;
			r0->isBackspaceDown = r2;
			goto label$1577ae0_56_30;
		case 9:
			r2 = false;
			r0->isTabDown = r2;
			goto label$1577ae0_56_30;
		case 13:
			r2 = false;
			r0->isReturnDown = r2;
			goto label$1577ae0_56_30;
		case 16:
			r2 = false;
			r0->isShiftDown = r2;
			goto label$1577ae0_56_30;
		case 17:
			r2 = false;
			r0->isCtrlDown = r2;
			goto label$1577ae0_56_30;
		case 18:
			r2 = false;
			r0->isAltDown = r2;
			goto label$1577ae0_56_30;
		case 27:
			r2 = false;
			r0->isEscapeDown = r2;
			goto label$1577ae0_56_30;
		case 46:
			r2 = false;
			r0->isDeleteDown = r2;
			goto label$1577ae0_56_30;
		case 65:
			r2 = false;
			r0->isADown = r2;
	}
	label$1577ae0_56_30:
	return;
}

void zui_Zui_onKeyPress(zui__Zui r0,String r1) {
	bool r2;
	r0->_char = r1;
	r2 = true;
	r0->isKeyPressed = r2;
	return;
}

String zui_Zui_onCut(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)g$_zui_Zui;
	r2->isCut = r1;
	r3 = zui_Zui_onCopy(r0);
	return r3;
}

String zui_Zui_onCopy(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)g$_zui_Zui;
	r2->isCopy = r1;
	r2 = (zui__$Zui)g$_zui_Zui;
	r3 = r2->textToCopy;
	return r3;
}

void zui_Zui_onPaste(zui__Zui r0,String r1) {
	bool r2;
	zui__$Zui r3;
	r2 = true;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->textToPaste = r1;
	return;
}

void zui_Zui_new(zui__Zui r0,vvirtual* r1) {
	String r9;
	kha__graphics4__PipelineState r24;
	kha__Image r2;
	vvirtual *r11, *r13;
	hl__types__ArrayObj r7;
	bool r3;
	zui__$Themes r14;
	hl__types__ArrayBytes_Int r6;
	zui__Zui r17;
	zui__$Zui r18;
	vclosure *r19, *r20, *r21, *r22;
	double r4;
	vdynamic *r8, *r15, *r16;
	zui__Handle r5;
	kha__graphics4__VertexStructure r23;
	int r10;
	static vclosure cl$0 = { &t$fun_715d8bf, zui_Zui_new__$1, 0 };
	r2 = NULL;
	r0->checkSelectImage = r2;
	r3 = false;
	r0->elementsBaked = r3;
	r3 = false;
	r0->scissor = r3;
	r3 = false;
	r0->tabVertical = r3;
	r4 = 0.;
	r0->tabScroll = r4;
	r5 = NULL;
	r0->tabHandle = r5;
	r6 = NULL;
	r0->tabColors = r6;
	r7 = NULL;
	r0->tabNames = r7;
	r4 = 0.;
	r0->tooltipTime = r4;
	r3 = false;
	r0->tooltipWait = r3;
	r3 = false;
	r0->tooltipShown = r3;
	r4 = 0.;
	r0->tooltipY = r4;
	r4 = 0.;
	r0->tooltipX = r4;
	r3 = false;
	r0->tooltipInvertY = r3;
	r8 = NULL;
	r0->tooltipImgMaxWidth = r8;
	r2 = NULL;
	r0->tooltipImg = r2;
	r9 = (String)s$;
	r0->tooltipText = r9;
	r10 = 0;
	r0->comboInitialValue = r10;
	r10 = 0;
	r0->comboToSubmit = r10;
	r5 = NULL;
	r0->submitComboHandle = r5;
	r3 = false;
	r0->comboSearchBar = r3;
	r5 = NULL;
	r0->comboSelectedWindow = r5;
	r5 = NULL;
	r0->comboSelectedHandle = r5;
	r5 = NULL;
	r0->tabPressedHandle = r5;
	r3 = false;
	r0->tabPressed = r3;
	r9 = (String)s$;
	r0->textToSubmit = r9;
	r5 = NULL;
	r0->submitTextHandle = r5;
	r5 = NULL;
	r0->textSelectedHandle = r5;
	r4 = -1.;
	r0->restoreY = r4;
	r4 = -1.;
	r0->restoreX = r4;
	r4 = 0.;
	r0->windowHeaderH = r4;
	r4 = 0.;
	r0->windowHeaderW = r4;
	r5 = NULL;
	r0->scrollHandle = r5;
	r3 = true;
	r0->windowEnded = r3;
	r4 = 0.;
	r0->_windowY = r4;
	r4 = 0.;
	r0->_windowX = r4;
	r3 = true;
	r0->imageScrollAlign = r3;
	r4 = 0.;
	r0->scrollAlign = r4;
	r10 = -1;
	r0->curRatio = r10;
	r10 = 0;
	r0->highlightAnchor = r10;
	r10 = 0;
	r0->cursorX = r10;
	r4 = 0.;
	r0->inputStartedTime = r4;
	r8 = NULL;
	r0->key = r8;
	r3 = false;
	r0->isTabDown = r3;
	r3 = false;
	r0->isReturnDown = r3;
	r3 = false;
	r0->isEscapeDown = r3;
	r3 = false;
	r0->isDeleteDown = r3;
	r3 = false;
	r0->isBackspaceDown = r3;
	r3 = false;
	r0->isADown = r3;
	r3 = false;
	r0->isAltDown = r3;
	r3 = false;
	r0->isCtrlDown = r3;
	r3 = false;
	r0->isShiftDown = r3;
	r3 = false;
	r0->isKeyDown = r3;
	r3 = false;
	r0->isKeyPressed = r3;
	r10 = 0;
	r0->inputWheelDelta = r10;
	r3 = true;
	r0->inputEnabled = r3;
	r3 = false;
	r0->inputRegistered = r3;
	r4 = 0.;
	r0->sliderTooltipW = r4;
	r4 = 0.;
	r0->sliderTooltipY = r4;
	r4 = 0.;
	r0->sliderTooltipX = r4;
	r3 = false;
	r0->sliderTooltip = r3;
	r3 = false;
	r0->touchHoldActivated = r3;
	r3 = false;
	r0->highlightFullRow = r3;
	r10 = 0;
	r0->windowBorderRight = r10;
	r10 = 0;
	r0->windowBorderBottom = r10;
	r10 = 0;
	r0->windowBorderTop = r10;
	r11 = NULL;
	r0->textColoring = r11;
	r3 = true;
	r0->tabSwitchEnabled = r3;
	r3 = true;
	r0->highlightOnSelect = r3;
	r3 = true;
	r0->scrollEnabled = r3;
	r3 = false;
	r0->imageInvertY = r3;
	r3 = false;
	r0->changed = r3;
	r3 = false;
	r0->isReleased = r3;
	r3 = false;
	r0->isHovered = r3;
	r3 = false;
	r0->isPushed = r3;
	r3 = false;
	r0->isStarted = r3;
	r3 = true;
	r0->enabled = r3;
	r3 = false;
	r0->isTyping = r3;
	r3 = false;
	r0->isScrolling = r3;
	if( r1 == NULL ) hl_null_access();
	r13 = hl_vfields(r1)[6] ? (*(vvirtual**)(hl_vfields(r1)[6])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&t$vrt_feeb735);
	if( r13 ) goto label$1577ae0_61_164;
	r14 = (zui__$Themes)g$_zui_Themes;
	r13 = r14->dark;
	if( hl_vfields(r1)[6] ) *(vvirtual**)(hl_vfields(r1)[6]) = (vvirtual*)r13; else hl_dyn_setp(r1->value,260472329/*theme*/,&t$vrt_feeb735,r13);
	label$1577ae0_61_164:
	r13 = hl_vfields(r1)[6] ? (*(vvirtual**)(hl_vfields(r1)[6])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&t$vrt_feeb735);
	r0->_t = r13;
	r8 = hl_vfields(r1)[4] ? (*(vdynamic**)(hl_vfields(r1)[4])) : (vdynamic*)hl_dyn_getp(r1->value,3128633/*khaWindowId*/,&t$nul_i32);
	if( r8 ) goto label$1577ae0_61_171;
	r10 = 0;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r10;
	if( hl_vfields(r1)[4] ) *(vdynamic**)(hl_vfields(r1)[4]) = (vdynamic*)r8; else hl_dyn_setp(r1->value,3128633/*khaWindowId*/,&t$nul_i32,r8);
	label$1577ae0_61_171:
	r15 = hl_vfields(r1)[5] ? (*(vdynamic**)(hl_vfields(r1)[5])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64);
	if( r15 ) goto label$1577ae0_61_176;
	r4 = 1.;
	r15 = hl_alloc_dynamic(&t$_f64);
	r15->v.d = r4;
	if( hl_vfields(r1)[5] ) *(vdynamic**)(hl_vfields(r1)[5]) = (vdynamic*)r15; else hl_dyn_setp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64,r15);
	label$1577ae0_61_176:
	r16 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool);
	if( r16 ) goto label$1577ae0_61_181;
	r3 = true;
	r16 = hl_alloc_dynbool(r3);
	if( hl_vfields(r1)[0] ) *(vdynamic**)(hl_vfields(r1)[0]) = (vdynamic*)r16; else hl_dyn_setp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool,r16);
	label$1577ae0_61_181:
	r0->ops = r1;
	r15 = hl_vfields(r1)[5] ? (*(vdynamic**)(hl_vfields(r1)[5])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r4 = r15 ? r15->v.d : 0;
	zui_Zui_setScale(r0,r4);
	r16 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool);
	r3 = r16 ? r16->v.b : 0;
	if( !r3 ) goto label$1577ae0_61_189;
	zui_Zui_registerInput(r0);
	label$1577ae0_61_189:
	r18 = (zui__$Zui)g$_zui_Zui;
	r17 = r18->copyReceiver;
	if( r17 ) goto label$1577ae0_61_200;
	r18 = (zui__$Zui)g$_zui_Zui;
	r18->copyReceiver = r0;
	r19 = hl_alloc_closure_ptr(&t$fun_00f1036,zui_Zui_onCut,r0);
	r20 = hl_alloc_closure_ptr(&t$fun_00f1036,zui_Zui_onCopy,r0);
	r21 = hl_alloc_closure_ptr(&t$fun_161bd10,zui_Zui_onPaste,r0);
	kha_System_notifyOnCutCopyPaste(r19,r20,r21);
	r22 = &cl$0;
	kha_System_notifyOnFrames(r22);
	label$1577ae0_61_200:
	r23 = kha_graphics4_Graphics2_createTextVertexStructure();
	r24 = kha_graphics4_Graphics2_createTextPipeline(r23);
	r0->rtTextPipeline = r24;
	r24 = r0->rtTextPipeline;
	if( r24 == NULL ) hl_null_access();
	r10 = 1;
	r24->alphaBlendSource = r10;
	r24 = r0->rtTextPipeline;
	if( r24 == NULL ) hl_null_access();
	kha_graphics4_PipelineState_compile(r24);
	return;
}

