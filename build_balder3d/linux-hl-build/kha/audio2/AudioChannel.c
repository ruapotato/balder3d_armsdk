// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <kha/audio2/AudioChannel.h>
#include <hl/natives.h>
void kha_audio2_Audio1__playAgain(kha__audio2__AudioChannel);

void kha_audio2_AudioChannel_nextSamples(kha__audio2__AudioChannel r0,kha__arrays__ByteArrayPrivate r1,int r2,int r3) {
	bool r5;
	kha__arrays__ByteArrayPrivate r11;
	float r14;
	vbyte *r10;
	int r6, r7, r8, r9, r12, r13, r15, r16, r17;
	r5 = r0->paused;
	if( r5 ) goto label$c06472f_1_4;
	r5 = r0->stopped;
	if( !r5 ) goto label$c06472f_1_21;
	label$c06472f_1_4:
	r6 = 0;
	r7 = r2;
	label$c06472f_1_6:
	if( r6 >= r7 ) goto label$c06472f_1_20;
	r8 = r6;
	++r6;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	r9 = r1->byteArrayOffset;
	r13 = 4;
	r12 = r8 * r13;
	r9 = r9 + r12;
	r12 = 0;
	r14 = (float)r12;
	hl_kinc_bytearray_setfloat32(r10,r9,r14);
	goto label$c06472f_1_6;
	label$c06472f_1_20:
	return;
	label$c06472f_1_21:
	r6 = 0;
	label$c06472f_1_22:
	if( r6 >= r2 ) goto label$c06472f_1_77;
	r7 = 0;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->byteArrayLength;
	r9 = 2;
	r8 = r8 >> r9;
	r9 = r0->myPosition;
	r8 = r8 - r9;
	r9 = r2 - r6;
	if( r8 >= r9 ) goto label$c06472f_1_36;
	r12 = r8;
	goto label$c06472f_1_37;
	label$c06472f_1_36:
	r12 = r9;
	label$c06472f_1_37:
	if( r7 >= r12 ) goto label$c06472f_1_62;
	++r7;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->self;
	r15 = r11->byteArrayOffset;
	r16 = r0->myPosition;
	r17 = r16;
	++r16;
	r0->myPosition = r16;
	r16 = 4;
	r16 = r17 * r16;
	r15 = r15 + r16;
	r14 = hl_kinc_bytearray_getfloat32(r10,r15);
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	r15 = r1->byteArrayOffset;
	r16 = r6;
	++r6;
	r17 = 4;
	r16 = r16 * r17;
	r15 = r15 + r16;
	hl_kinc_bytearray_setfloat32(r10,r15,r14);
	goto label$c06472f_1_37;
	label$c06472f_1_62:
	r7 = r0->myPosition;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->byteArrayLength;
	r9 = 2;
	r8 = r8 >> r9;
	if( r7 < r8 ) goto label$c06472f_1_76;
	r7 = 0;
	r0->myPosition = r7;
	r5 = r0->looping;
	if( r5 ) goto label$c06472f_1_76;
	r5 = true;
	r0->stopped = r5;
	goto label$c06472f_1_77;
	label$c06472f_1_76:
	goto label$c06472f_1_22;
	label$c06472f_1_77:
	if( r6 >= r2 ) goto label$c06472f_1_91;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	r7 = r1->byteArrayOffset;
	r8 = r6;
	++r6;
	r9 = 4;
	r8 = r8 * r9;
	r7 = r7 + r8;
	r8 = 0;
	r14 = (float)r8;
	hl_kinc_bytearray_setfloat32(r10,r7,r14);
	goto label$c06472f_1_77;
	label$c06472f_1_91:
	return;
}

void kha_audio2_AudioChannel_play(kha__audio2__AudioChannel r0) {
	bool r1;
	r1 = false;
	r0->paused = r1;
	r1 = false;
	r0->stopped = r1;
	kha_audio2_Audio1__playAgain(r0);
	return;
}

void kha_audio2_AudioChannel_stop(kha__audio2__AudioChannel r0) {
	bool r2;
	int r1;
	r1 = 0;
	r0->myPosition = r1;
	r2 = true;
	r0->stopped = r2;
	return;
}

double kha_audio2_AudioChannel_get_volume(kha__audio2__AudioChannel r0) {
	double r1;
	r1 = r0->myVolume;
	return r1;
}

double kha_audio2_AudioChannel_set_volume(kha__audio2__AudioChannel r0,double r1) {
	r0->myVolume = r1;
	return r1;
}

bool kha_audio2_AudioChannel_get_finished(kha__audio2__AudioChannel r0) {
	bool r1;
	r1 = r0->stopped;
	return r1;
}

void kha_audio2_AudioChannel_new(kha__audio2__AudioChannel r0,bool r1) {
	bool r3;
	kha__arrays__ByteArrayPrivate r2;
	double r5;
	int r4;
	r2 = NULL;
	r0->data = r2;
	r0->looping = r1;
	r3 = false;
	r0->stopped = r3;
	r3 = false;
	r0->paused = r3;
	r4 = 0;
	r0->myPosition = r4;
	r5 = 1.;
	r0->myVolume = r5;
	return;
}

