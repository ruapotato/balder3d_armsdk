// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/SendGlobalEventNode.h>
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);
#include <armory/logicnode/LogicNodeLink.h>
extern hl_type t$String;
extern hl_type t$_dyn;
hl__types__ArrayObj armory_system_Event_get(String);
extern hl_type t$vrt_68dcaf9;
extern hl_type t$fun_7b48b4f;
void armory_logicnode_LogicNode_runOutput(armory__logicnode__LogicNode,int);

void armory_logicnode_SendGlobalEventNode_new(armory__logicnode__SendGlobalEventNode r0,armory__logicnode__LogicTree r1) {
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	return;
}

void armory_logicnode_SendGlobalEventNode_run(armory__logicnode__SendGlobalEventNode r0,int r1) {
	String r10;
	vvirtual *r12;
	armory__logicnode__LogicNodeLink r5;
	hl__types__ArrayObj r2;
	armory__logicnode__LogicNode r9;
	vclosure *r13;
	vdynamic *r6;
	varray *r7;
	int r3, r4, r11;
	r2 = r0->inputs;
	if( r2 == NULL ) hl_null_access();
	r3 = 1;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$649be54_2_7;
	r5 = NULL;
	goto label$649be54_2_10;
	label$649be54_2_7:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r3];
	r5 = (armory__logicnode__LogicNodeLink)r6;
	label$649be54_2_10:
	if( r5 == NULL ) hl_null_access();
	r9 = r5->fromNode;
	if( r9 == NULL ) hl_null_access();
	r3 = r5->fromIndex;
	r6 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r3);
	r10 = (String)hl_dyn_castp(&r6,&t$_dyn,&t$String);
	r2 = armory_system_Event_get(r10);
	if( !r2 ) goto label$649be54_2_36;
	r3 = 0;
	label$649be54_2_19:
	if( r2 == NULL ) hl_null_access();
	r11 = r2->length;
	if( r3 >= r11 ) goto label$649be54_2_36;
	r11 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r11) ) goto label$649be54_2_27;
	r12 = NULL;
	goto label$649be54_2_30;
	label$649be54_2_27:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r3];
	r12 = hl_to_virtual(&t$vrt_68dcaf9,(vdynamic*)r6);
	label$649be54_2_30:
	++r3;
	if( r12 == NULL ) hl_null_access();
	r13 = hl_vfields(r12)[2] ? (*(vclosure**)(hl_vfields(r12)[2])) : (vclosure*)hl_dyn_getp(r12->value,201483899/*onEvent*/,&t$fun_7b48b4f);
	if( r13 == NULL ) hl_null_access();
	r13->hasValue ? ((void (*)(vdynamic*))r13->fun)((vdynamic*)r13->value) : ((void (*)(void))r13->fun)();
	goto label$649be54_2_19;
	label$649be54_2_36:
	r3 = 0;
	armory_logicnode_LogicNode_runOutput(((armory__logicnode__LogicNode)r0),r3);
	return;
}

