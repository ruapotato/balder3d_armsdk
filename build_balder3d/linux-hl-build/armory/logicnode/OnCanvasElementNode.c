// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/OnCanvasElementNode.h>
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);
void armory_logicnode_OnCanvasElementNode_update(armory__logicnode__OnCanvasElementNode);
extern hl_type t$fun_8f86dd8;
#include <iron/Trait.h>
void iron_Trait_notifyOnUpdate(iron__Trait,vclosure*);
#include <armory/logicnode/LogicNodeLink.h>
#include <iron/Scene.h>
#include <armory/trait/internal/CanvasScript.h>
#include <iron/object/CameraObject.h>
#include <hl/types/ArrayBytes_Int.h>
#include <iron/system/Mouse.h>
#include <kha/Image.h>
#include <kha/Kravur.h>
#include <zui/Zui.h>
extern hl_type t$String;
extern hl_type t$_dyn;
extern iron__$Scene g$_iron_Scene;
extern armory__trait__internal__$CanvasScript g$1e15706;
vdynamic* iron_Scene_getTrait(iron__Scene,hl__Class);
extern hl_type t$armory_trait_internal_CanvasScript;
#include <iron/object/Object.h>
iron__Trait iron_object_Object_getTrait(iron__object__Object,hl__Class);
bool armory_trait_internal_CanvasScript_get_ready(armory__trait__internal__CanvasScript);
vvirtual* armory_trait_internal_CanvasScript_getElement(armory__trait__internal__CanvasScript,String);
extern hl_type t$nul_bool;
iron__system__Mouse iron_system_Input_getMouse(void);
extern String s$click;
int String___compare(String,vdynamic*);
#include <hl/natives.h>
bool iron_system_Mouse_down(iron__system__Mouse,String);
bool iron_system_Mouse_released(iron__system__Mouse,String);
bool iron_system_Mouse_started(iron__system__Mouse,String);
extern hl_type t$nul_f64;
extern hl_type t$_i32;
extern hl_type t$nul_i32;
vvirtual* armory_trait_internal_CanvasScript_getCanvas(armory__trait__internal__CanvasScript);
void armory_logicnode_LogicNode_runOutput(armory__logicnode__LogicNode,int);

void armory_logicnode_OnCanvasElementNode_new(armory__logicnode__OnCanvasElementNode r0,armory__logicnode__LogicTree r1) {
	vclosure *r3;
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	if( r1 == NULL ) hl_null_access();
	r3 = hl_alloc_closure_ptr(&t$fun_8f86dd8,armory_logicnode_OnCanvasElementNode_update,r0);
	iron_Trait_notifyOnUpdate(((iron__Trait)r1),r3);
	return;
}

void armory_logicnode_OnCanvasElementNode_update(armory__logicnode__OnCanvasElementNode r0) {
	armory__trait__internal__$CanvasScript r13;
	String r9, r21;
	vvirtual *r17, *r27, *r35;
	armory__logicnode__LogicNodeLink r4;
	hl__types__ArrayObj r1;
	iron__$Scene r12;
	iron__Scene r11;
	bool r10, r24;
	iron__system__Mouse r20;
	iron__Trait r15;
	armory__logicnode__LogicNode r8;
	zui__Zui r28;
	double r25, r29, r30, r31, r32, r33, r37, r38, r39, r40;
	iron__object__CameraObject r16;
	vdynamic *r5, *r18, *r19, *r26, *r34;
	vbyte *r22, *r23;
	armory__trait__internal__CanvasScript r14;
	varray *r6;
	int r2, r3, r36, r41;
	r1 = r0->inputs;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$4441c0b_2_7;
	r4 = NULL;
	goto label$4441c0b_2_10;
	label$4441c0b_2_7:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (armory__logicnode__LogicNodeLink)r5;
	label$4441c0b_2_10:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->fromNode;
	if( r8 == NULL ) hl_null_access();
	r2 = r4->fromIndex;
	r5 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r8->$type->vobj_proto[1])(r8,r2);
	r9 = (String)hl_dyn_castp(&r5,&t$_dyn,&t$String);
	r0->element = r9;
	r12 = (iron__$Scene)g$_iron_Scene;
	r11 = r12->active;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->ready;
	if( r10 ) goto label$4441c0b_2_23;
	return;
	label$4441c0b_2_23:
	r12 = (iron__$Scene)g$_iron_Scene;
	r11 = r12->active;
	if( r11 == NULL ) hl_null_access();
	r13 = (armory__trait__internal__$CanvasScript)g$1e15706;
	r5 = iron_Scene_getTrait(r11,((hl__Class)r13));
	r14 = (armory__trait__internal__CanvasScript)hl_dyn_castp(&r5,&t$_dyn,&t$armory_trait_internal_CanvasScript);
	r0->canvas = r14;
	r14 = r0->canvas;
	if( r14 ) goto label$4441c0b_2_41;
	r12 = (iron__$Scene)g$_iron_Scene;
	r11 = r12->active;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->camera;
	if( r16 == NULL ) hl_null_access();
	r13 = (armory__trait__internal__$CanvasScript)g$1e15706;
	r15 = iron_object_Object_getTrait(((iron__object__Object)r16),((hl__Class)r13));
	r14 = (armory__trait__internal__CanvasScript)r15;
	r0->canvas = r14;
	label$4441c0b_2_41:
	r14 = r0->canvas;
	if( r14 ) goto label$4441c0b_2_44;
	return;
	label$4441c0b_2_44:
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r10 = armory_trait_internal_CanvasScript_get_ready(r14);
	if( r10 ) goto label$4441c0b_2_49;
	return;
	label$4441c0b_2_49:
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->element;
	r17 = armory_trait_internal_CanvasScript_getElement(r14,r9);
	if( r17 ) goto label$4441c0b_2_55;
	return;
	label$4441c0b_2_55:
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->element;
	r17 = armory_trait_internal_CanvasScript_getElement(r14,r9);
	if( r17 == NULL ) hl_null_access();
	r18 = hl_vfields(r17)[21] ? (*(vdynamic**)(hl_vfields(r17)[21])) : (vdynamic*)hl_dyn_getp(r17->value,-484149400/*visible*/,&t$nul_bool);
	r10 = false;
	r19 = hl_alloc_dynbool(r10);
	if( r18 != r19 && (!r18 || !r19 || (r18->v.b != r19->v.b)) ) goto label$4441c0b_2_65;
	return;
	label$4441c0b_2_65:
	r20 = iron_system_Input_getMouse();
	r10 = false;
	r9 = r0->property0;
	r21 = (String)s$click;
	if( r9 != r21 && (!r9 || !r21 || String___compare(r9,(vdynamic*)r21) != 0) ) goto label$4441c0b_2_114;
	r9 = r0->property1;
	if( !r9 ) goto label$4441c0b_2_80;
	r2 = r9->length;
	r3 = 4;
	if( r2 != r3 ) goto label$4441c0b_2_80;
	r22 = r9->bytes;
	r23 = (vbyte*)USTR("down");
	r2 = hl_string_compare(r22,r23,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$4441c0b_2_99;
	label$4441c0b_2_80:
	if( !r9 ) goto label$4441c0b_2_89;
	r2 = r9->length;
	r3 = 8;
	if( r2 != r3 ) goto label$4441c0b_2_89;
	r22 = r9->bytes;
	r23 = (vbyte*)USTR("released");
	r2 = hl_string_compare(r22,r23,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$4441c0b_2_104;
	label$4441c0b_2_89:
	if( !r9 ) goto label$4441c0b_2_98;
	r2 = r9->length;
	r3 = 7;
	if( r2 != r3 ) goto label$4441c0b_2_98;
	r22 = r9->bytes;
	r23 = (vbyte*)USTR("started");
	r2 = hl_string_compare(r22,r23,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$4441c0b_2_109;
	label$4441c0b_2_98:
	goto label$4441c0b_2_113;
	label$4441c0b_2_99:
	if( r20 == NULL ) hl_null_access();
	r9 = r0->property2;
	r24 = iron_system_Mouse_down(r20,r9);
	r10 = r24;
	goto label$4441c0b_2_113;
	label$4441c0b_2_104:
	if( r20 == NULL ) hl_null_access();
	r9 = r0->property2;
	r24 = iron_system_Mouse_released(r20,r9);
	r10 = r24;
	goto label$4441c0b_2_113;
	label$4441c0b_2_109:
	if( r20 == NULL ) hl_null_access();
	r9 = r0->property2;
	r24 = iron_system_Mouse_started(r20,r9);
	r10 = r24;
	label$4441c0b_2_113:
	goto label$4441c0b_2_116;
	label$4441c0b_2_114:
	r24 = true;
	r10 = r24;
	label$4441c0b_2_116:
	if( !r10 ) goto label$4441c0b_2_286;
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->element;
	r17 = armory_trait_internal_CanvasScript_getElement(r14,r9);
	if( r17 == NULL ) hl_null_access();
	r25 = hl_vfields(r17)[23] ? (*(double*)(hl_vfields(r17)[23])) : (double)hl_dyn_getd(r17->value,120/*x*/);
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r28 = r14->cui;
	if( r28 == NULL ) hl_null_access();
	r27 = r28->ops;
	if( r27 == NULL ) hl_null_access();
	r26 = hl_vfields(r27)[5] ? (*(vdynamic**)(hl_vfields(r27)[5])) : (vdynamic*)hl_dyn_getp(r27->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r26 ? r26->v.d : 0;
	r25 = r25 * r29;
	r29 = hl_vfields(r17)[24] ? (*(double*)(hl_vfields(r17)[24])) : (double)hl_dyn_getd(r17->value,121/*y*/);
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r28 = r14->cui;
	if( r28 == NULL ) hl_null_access();
	r27 = r28->ops;
	if( r27 == NULL ) hl_null_access();
	r26 = hl_vfields(r27)[5] ? (*(vdynamic**)(hl_vfields(r27)[5])) : (vdynamic*)hl_dyn_getp(r27->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r30 = r26 ? r26->v.d : 0;
	r29 = r29 * r30;
	r2 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
	r31 = (double)r2;
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r28 = r14->cui;
	if( r28 == NULL ) hl_null_access();
	r27 = r28->ops;
	if( r27 == NULL ) hl_null_access();
	r26 = hl_vfields(r27)[5] ? (*(vdynamic**)(hl_vfields(r27)[5])) : (vdynamic*)hl_dyn_getp(r27->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r32 = r26 ? r26->v.d : 0;
	r31 = r31 * r32;
	r30 = r25 + r31;
	r2 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
	r32 = (double)r2;
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r28 = r14->cui;
	if( r28 == NULL ) hl_null_access();
	r27 = r28->ops;
	if( r27 == NULL ) hl_null_access();
	r26 = hl_vfields(r27)[5] ? (*(vdynamic**)(hl_vfields(r27)[5])) : (vdynamic*)hl_dyn_getp(r27->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r33 = r26 ? r26->v.d : 0;
	r32 = r32 * r33;
	r31 = r29 + r32;
	r34 = hl_vfields(r17)[1] ? (*(vdynamic**)(hl_vfields(r17)[1])) : (vdynamic*)hl_dyn_getp(r17->value,7420932/*anchor*/,&t$nul_i32);
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r35 = armory_trait_internal_CanvasScript_getCanvas(r14);
	if( r35 == NULL ) hl_null_access();
	r2 = hl_vfields(r35)[7] ? (*(int*)(hl_vfields(r35)[7])) : (int)hl_dyn_geti(r35->value,-362629759/*width*/,&t$_i32);
	r14 = r0->canvas;
	if( r14 == NULL ) hl_null_access();
	r35 = armory_trait_internal_CanvasScript_getCanvas(r14);
	if( r35 == NULL ) hl_null_access();
	r3 = hl_vfields(r35)[2] ? (*(int*)(hl_vfields(r35)[2])) : (int)hl_dyn_geti(r35->value,38537191/*height*/,&t$_i32);
	if( r20 == NULL ) hl_null_access();
	r32 = r20->x;
	r33 = r20->y;
	r36 = r34 ? r34->v.i : 0;
	switch(r36) {
		default:
		case 0:
			goto label$4441c0b_2_280;
		case 1:
			r38 = (double)r2;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r32 - r38;
			r32 = r37;
			goto label$4441c0b_2_280;
		case 2:
			r41 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r36 = r2 - r41;
			r38 = (double)r36;
			r37 = r32 - r38;
			r32 = r37;
			goto label$4441c0b_2_280;
		case 3:
			r38 = (double)r3;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r33 - r38;
			r33 = r37;
			goto label$4441c0b_2_280;
		case 4:
			r38 = (double)r2;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r32 - r38;
			r32 = r37;
			r38 = (double)r3;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r33 - r38;
			r33 = r37;
			goto label$4441c0b_2_280;
		case 5:
			r41 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r36 = r2 - r41;
			r38 = (double)r36;
			r37 = r32 - r38;
			r32 = r37;
			r38 = (double)r3;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r33 - r38;
			r33 = r37;
			goto label$4441c0b_2_280;
		case 6:
			r41 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r36 = r3 - r41;
			r38 = (double)r36;
			r37 = r33 - r38;
			r33 = r37;
			goto label$4441c0b_2_280;
		case 7:
			r38 = (double)r2;
			r39 = 2.;
			r38 = r38 / r39;
			r36 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r39 = (double)r36;
			r40 = 2.;
			r39 = r39 / r40;
			r38 = r38 - r39;
			r37 = r32 - r38;
			r32 = r37;
			r41 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r36 = r3 - r41;
			r38 = (double)r36;
			r37 = r33 - r38;
			r33 = r37;
			goto label$4441c0b_2_280;
		case 8:
			r41 = hl_vfields(r17)[22] ? (*(int*)(hl_vfields(r17)[22])) : (int)hl_dyn_geti(r17->value,-362629759/*width*/,&t$_i32);
			r36 = r2 - r41;
			r38 = (double)r36;
			r37 = r32 - r38;
			r32 = r37;
			r41 = hl_vfields(r17)[11] ? (*(int*)(hl_vfields(r17)[11])) : (int)hl_dyn_geti(r17->value,38537191/*height*/,&t$_i32);
			r36 = r3 - r41;
			r38 = (double)r36;
			r37 = r33 - r38;
			r33 = r37;
	}
	label$4441c0b_2_280:
	if( !(r32 >= r25) ) goto label$4441c0b_2_286;
	if( !(r30 >= r32) ) goto label$4441c0b_2_286;
	if( !(r33 >= r29) ) goto label$4441c0b_2_286;
	if( !(r31 >= r33) ) goto label$4441c0b_2_286;
	r36 = 0;
	armory_logicnode_LogicNode_runOutput(((armory__logicnode__LogicNode)r0),r36);
	label$4441c0b_2_286:
	return;
}

