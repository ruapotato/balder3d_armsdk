// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/SpawnObjectByNameNode.h>
#include <iron/math/Mat4.h>
#include <iron/object/Transform.h>
#include <iron/Trait.h>
#include <armory/trait/physics/bullet/RigidBody.h>
vdynamic* hl_types_ArrayObj_pop(hl__types__ArrayObj);
void iron_object_Transform_setMatrix(iron__object__Transform,iron__math__Mat4);
extern armory__trait__physics__bullet__$RigidBody g$0d95481;
iron__Trait iron_object_Object_getTrait(iron__object__Object,hl__Class);
void iron_object_Transform_buildMatrix(iron__object__Transform);
void armory_trait_physics_bullet_RigidBody_syncTransform(armory__trait__physics__bullet__RigidBody);
void armory_logicnode_LogicNode_runOutput(armory__logicnode__LogicNode,int);
#include <iron/data/TSceneFormat.h>
#include <iron/data/TObj.h>
#include <iron/Scene.h>
int String___compare(String,vdynamic*);
extern iron__$Scene g$_iron_Scene;
extern hl_type t$fun_fd37651;
void iron_Scene_spawnObject(iron__Scene,String,iron__object__Object,vclosure*,bool*,iron__data__TSceneFormat);
#include <armory/logicnode/LogicNodeLink.h>
#include <kha/math/FastMatrix4.h>
extern hl_type t$String;
extern hl_type t$_dyn;
extern hl_type t$iron_math_Mat4;
void iron_math_Mat4_new(iron__math__Mat4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$_bool;
extern hl_type t$ctx_48fe493;
extern hl_type t$fun_1cc7ef0;
void iron_data_Data_getSceneRaw(String,vclosure*);
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);

void armory_logicnode_SpawnObjectByNameNode_run__$2(venum* r0,iron__object__Object r1) {
	armory__trait__physics__bullet__RigidBody r11;
	hl__types__ArrayObj r5;
	iron__Trait r9;
	armory__trait__physics__bullet__$RigidBody r10;
	iron__object__Transform r8;
	armory__logicnode__SpawnObjectByNameNode r2;
	iron__math__Mat4 r6;
	vdynamic *r4;
	iron__object__Object r3;
	int r12;
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r2->object = r1;
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->matrices;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_pop(r5);
	r6 = (iron__math__Mat4)r4;
	if( !r6 ) goto label$5edcc64_1_34;
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->object;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->transform;
	if( r8 == NULL ) hl_null_access();
	iron_object_Transform_setMatrix(r8,r6);
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->object;
	if( r3 == NULL ) hl_null_access();
	r10 = (armory__trait__physics__bullet__$RigidBody)g$0d95481;
	r9 = iron_object_Object_getTrait(r3,((hl__Class)r10));
	r11 = (armory__trait__physics__bullet__RigidBody)r9;
	if( !r11 ) goto label$5edcc64_1_34;
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->object;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->transform;
	if( r8 == NULL ) hl_null_access();
	iron_object_Transform_buildMatrix(r8);
	if( r11 == NULL ) hl_null_access();
	armory_trait_physics_bullet_RigidBody_syncTransform(r11);
	label$5edcc64_1_34:
	r2 = ((Enumt$ctx_48fe493*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r12 = 0;
	armory_logicnode_LogicNode_runOutput(((armory__logicnode__LogicNode)r2),r12);
	return;
}

void armory_logicnode_SpawnObjectByNameNode_run__$1(venum* r0,iron__data__TSceneFormat r1) {
	bool *r17;
	String r10, r11;
	hl__types__ArrayObj r5;
	iron__$Scene r14;
	iron__Scene r13;
	bool r2, r12;
	iron__data__TObj r7;
	vclosure *r16;
	iron__object__Object r15;
	vdynamic *r8;
	varray *r9;
	int r4, r6;
	r2 = false;
	r4 = 0;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->objects;
	label$5edcc64_2_4:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r4 >= r6 ) goto label$5edcc64_2_24;
	r6 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$5edcc64_2_12;
	r7 = NULL;
	goto label$5edcc64_2_15;
	label$5edcc64_2_12:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r4];
	r7 = (iron__data__TObj)r8;
	label$5edcc64_2_15:
	++r4;
	if( r7 == NULL ) hl_null_access();
	r10 = r7->name;
	r11 = ((Enumt$ctx_48fe493*)r0)->p0;
	if( r10 != r11 && (!r10 || !r11 || String___compare(r10,(vdynamic*)r11) != 0) ) goto label$5edcc64_2_23;
	r12 = true;
	r2 = r12;
	goto label$5edcc64_2_24;
	label$5edcc64_2_23:
	goto label$5edcc64_2_4;
	label$5edcc64_2_24:
	if( r2 ) goto label$5edcc64_2_26;
	return;
	label$5edcc64_2_26:
	r14 = (iron__$Scene)g$_iron_Scene;
	r13 = r14->active;
	if( r13 == NULL ) hl_null_access();
	r10 = ((Enumt$ctx_48fe493*)r0)->p0;
	r15 = NULL;
	r16 = hl_alloc_closure_ptr(&t$fun_fd37651,armory_logicnode_SpawnObjectByNameNode_run__$2,r0);
	r12 = ((Enumt$ctx_48fe493*)r0)->p1;
	r17 = &r12;
	iron_Scene_spawnObject(r13,r10,r15,r16,r17,r1);
	return;
}

void armory_logicnode_SpawnObjectByNameNode_run(armory__logicnode__SpawnObjectByNameNode r0,int r1) {
	String r11, r12;
	armory__logicnode__LogicNodeLink r6, r10, r13;
	hl__types__ArrayObj r3;
	venum *r35;
	bool r33;
	kha__math__FastMatrix4 r17;
	armory__logicnode__LogicNode r9;
	float r16, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32;
	iron__math__Mat4 r14, r15;
	vclosure *r34;
	vdynamic *r7;
	varray *r8;
	int r4, r5;
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = 1;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$5edcc64_3_7;
	r6 = NULL;
	goto label$5edcc64_3_10;
	label$5edcc64_3_7:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r6 = (armory__logicnode__LogicNodeLink)r7;
	label$5edcc64_3_10:
	if( r6 == NULL ) hl_null_access();
	r9 = r6->fromNode;
	if( r9 == NULL ) hl_null_access();
	r4 = r6->fromIndex;
	r7 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r4);
	r11 = (String)hl_dyn_castp(&r7,&t$_dyn,&t$String);
	if( r11 ) goto label$5edcc64_3_18;
	return;
	label$5edcc64_3_18:
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = 2;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$5edcc64_3_25;
	r10 = NULL;
	goto label$5edcc64_3_28;
	label$5edcc64_3_25:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r10 = (armory__logicnode__LogicNodeLink)r7;
	label$5edcc64_3_28:
	if( r10 == NULL ) hl_null_access();
	r9 = r10->fromNode;
	if( r9 == NULL ) hl_null_access();
	r4 = r10->fromIndex;
	r7 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r4);
	r14 = (iron__math__Mat4)hl_dyn_castp(&r7,&t$_dyn,&t$iron_math_Mat4);
	r3 = r0->matrices;
	if( r3 == NULL ) hl_null_access();
	if( !r14 ) goto label$5edcc64_3_89;
	r15 = (iron__math__Mat4)hl_alloc_obj(&t$iron_math_Mat4);
	if( r14 == NULL ) hl_null_access();
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_00;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r18 = r17->_10;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r19 = r17->_20;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r20 = r17->_30;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r21 = r17->_01;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r22 = r17->_11;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r23 = r17->_21;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r24 = r17->_31;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r25 = r17->_02;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r26 = r17->_12;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r27 = r17->_22;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r28 = r17->_32;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r29 = r17->_03;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r30 = r17->_13;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r31 = r17->_23;
	r17 = r14->self;
	if( r17 == NULL ) hl_null_access();
	r32 = r17->_33;
	iron_math_Mat4_new(r15,r16,r18,r19,r20,r21,r22,r23,r24,r25,r26,r27,r28,r29,r30,r31,r32);
	goto label$5edcc64_3_90;
	label$5edcc64_3_89:
	r15 = NULL;
	label$5edcc64_3_90:
	r4 = hl_types_ArrayObj_push(r3,((vdynamic*)r15));
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	r5 = 3;
	if( r5 >= r4 ) goto label$5edcc64_3_113;
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = 3;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$5edcc64_3_103;
	r13 = NULL;
	goto label$5edcc64_3_106;
	label$5edcc64_3_103:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r13 = (armory__logicnode__LogicNodeLink)r7;
	label$5edcc64_3_106:
	if( r13 == NULL ) hl_null_access();
	r9 = r13->fromNode;
	if( r9 == NULL ) hl_null_access();
	r4 = r13->fromIndex;
	r7 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r4);
	r33 = (bool)hl_dyn_casti(&r7,&t$_dyn,&t$_bool);
	goto label$5edcc64_3_114;
	label$5edcc64_3_113:
	r33 = true;
	label$5edcc64_3_114:
	r12 = r0->property0;
	r35 = hl_alloc_enum(&t$ctx_48fe493,0);
	((Enumt$ctx_48fe493*)r35)->p0 = (String)r11;
	((Enumt$ctx_48fe493*)r35)->p1 = (bool)r33;
	((Enumt$ctx_48fe493*)r35)->p2 = (armory__logicnode__SpawnObjectByNameNode)r0;
	r34 = hl_alloc_closure_ptr(&t$fun_1cc7ef0,armory_logicnode_SpawnObjectByNameNode_run__$1,r35);
	iron_data_Data_getSceneRaw(r12,r34);
	return;
}

vdynamic* armory_logicnode_SpawnObjectByNameNode_get(armory__logicnode__SpawnObjectByNameNode r0,int r1) {
	iron__object__Object r2;
	r2 = r0->object;
	return ((vdynamic*)r2);
}

void armory_logicnode_SpawnObjectByNameNode_new(armory__logicnode__SpawnObjectByNameNode r0,armory__logicnode__LogicTree r1) {
	hl__types__ArrayObj r2;
	hl_type *r4;
	int r5;
	varray *r3;
	r4 = &t$iron_math_Mat4;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r0->matrices = r2;
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	return;
}

