// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/CanvasSetTextNode.h>
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);
#include <hl/types/ArrayBytes_Int.h>
vvirtual* armory_trait_internal_CanvasScript_getElement(armory__trait__internal__CanvasScript,String);
extern hl_type t$String;
void armory_logicnode_LogicNode_runOutput(armory__logicnode__LogicNode,int);
#include <armory/logicnode/LogicNodeLink.h>
extern hl_type t$_dyn;
String Std_string(vdynamic*);
armory__trait__internal__CanvasScript armory_trait_internal_CanvasScript_getActiveCanvas(void);
extern hl_type t$ctx_9557e0a;
extern hl_type t$fun_473911c;
void armory_trait_internal_CanvasScript_notifyOnReady(armory__trait__internal__CanvasScript,vclosure*);

void armory_logicnode_CanvasSetTextNode_new(armory__logicnode__CanvasSetTextNode r0,armory__logicnode__LogicTree r1) {
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	return;
}

void armory_logicnode_CanvasSetTextNode_run__$1(venum* r0) {
	armory__logicnode__CanvasSetTextNode r5;
	String r3;
	vvirtual *r1;
	int r6;
	armory__trait__internal__CanvasScript r2;
	r2 = ((Enumt$ctx_9557e0a*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_9557e0a*)r0)->p0;
	r1 = armory_trait_internal_CanvasScript_getElement(r2,r3);
	if( !r1 ) goto label$8eb6d64_2_8;
	if( r1 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_9557e0a*)r0)->p1;
	if( hl_vfields(r1)[19] ) *(String*)(hl_vfields(r1)[19]) = (String)r3; else hl_dyn_setp(r1->value,217697719/*text*/,&t$String,r3);
	label$8eb6d64_2_8:
	r5 = ((Enumt$ctx_9557e0a*)r0)->p3;
	if( r5 == NULL ) hl_null_access();
	r6 = 0;
	armory_logicnode_LogicNode_runOutput(((armory__logicnode__LogicNode)r5),r6);
	return;
}

void armory_logicnode_CanvasSetTextNode_run(armory__logicnode__CanvasSetTextNode r0,int r1) {
	String r11, r12;
	armory__logicnode__LogicNodeLink r6, r10;
	hl__types__ArrayObj r3;
	venum *r15;
	armory__logicnode__LogicNode r9;
	vclosure *r14;
	vdynamic *r7;
	armory__trait__internal__CanvasScript r13;
	varray *r8;
	int r4, r5;
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = 1;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$8eb6d64_3_7;
	r6 = NULL;
	goto label$8eb6d64_3_10;
	label$8eb6d64_3_7:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r6 = (armory__logicnode__LogicNodeLink)r7;
	label$8eb6d64_3_10:
	if( r6 == NULL ) hl_null_access();
	r9 = r6->fromNode;
	if( r9 == NULL ) hl_null_access();
	r4 = r6->fromIndex;
	r7 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r4);
	r11 = (String)hl_dyn_castp(&r7,&t$_dyn,&t$String);
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r4 = 2;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$8eb6d64_3_23;
	r10 = NULL;
	goto label$8eb6d64_3_26;
	label$8eb6d64_3_23:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r10 = (armory__logicnode__LogicNodeLink)r7;
	label$8eb6d64_3_26:
	if( r10 == NULL ) hl_null_access();
	r9 = r10->fromNode;
	if( r9 == NULL ) hl_null_access();
	r4 = r10->fromIndex;
	r7 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r9->$type->vobj_proto[1])(r9,r4);
	r12 = Std_string(r7);
	r13 = armory_trait_internal_CanvasScript_getActiveCanvas();
	if( r13 == NULL ) hl_null_access();
	r15 = hl_alloc_enum(&t$ctx_9557e0a,0);
	((Enumt$ctx_9557e0a*)r15)->p0 = (String)r11;
	((Enumt$ctx_9557e0a*)r15)->p1 = (String)r12;
	((Enumt$ctx_9557e0a*)r15)->p2 = (armory__trait__internal__CanvasScript)r13;
	((Enumt$ctx_9557e0a*)r15)->p3 = (armory__logicnode__CanvasSetTextNode)r0;
	r14 = hl_alloc_closure_ptr(&t$fun_473911c,armory_logicnode_CanvasSetTextNode_run__$1,r15);
	armory_trait_internal_CanvasScript_notifyOnReady(r13,r14);
	return;
}

