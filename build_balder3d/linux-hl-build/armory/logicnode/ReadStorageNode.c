// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/ReadStorageNode.h>
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);
#include <armory/logicnode/LogicNodeLink.h>
extern hl_type t$String;
extern hl_type t$_dyn;
vdynamic* iron_system_Storage_get_data(void);
vdynamic* Reflect_field(vdynamic*,String);
vdynamic* armory_logicnode_ReadStorageNode_parseArg(String);
#include <hl/types/ArrayDyn.h>
extern String s$true;
int String___compare(String,vdynamic*);
extern String s$false;
String String_charAt(String,int);
extern String s$3590cb8;
extern String s$;
String StringTools_replace(String,String,String);
extern String s$8154172;
extern String s$0fbd177;
extern String s$7215ee9;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
extern String s$c0cb5f0;
hl__types__ArrayObj String_split(String,String);
double Std_parseFloat(String);
vdynamic* Std_parseInt(String);
extern hl_type t$_f64;

void armory_logicnode_ReadStorageNode_new(armory__logicnode__ReadStorageNode r0,armory__logicnode__LogicTree r1) {
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	return;
}

vdynamic* armory_logicnode_ReadStorageNode_get(armory__logicnode__ReadStorageNode r0,int r1) {
	String r10, r12;
	armory__logicnode__LogicNodeLink r5, r9;
	hl__types__ArrayObj r2;
	armory__logicnode__LogicNode r8;
	vdynamic *r6, *r11, *r13;
	varray *r7;
	int r3, r4;
	r2 = r0->inputs;
	if( r2 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$032e923_2_7;
	r5 = NULL;
	goto label$032e923_2_10;
	label$032e923_2_7:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r3];
	r5 = (armory__logicnode__LogicNodeLink)r6;
	label$032e923_2_10:
	if( r5 == NULL ) hl_null_access();
	r8 = r5->fromNode;
	if( r8 == NULL ) hl_null_access();
	r3 = r5->fromIndex;
	r6 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r8->$type->vobj_proto[1])(r8,r3);
	r10 = (String)hl_dyn_castp(&r6,&t$_dyn,&t$String);
	r6 = iron_system_Storage_get_data();
	if( r6 ) goto label$032e923_2_20;
	r11 = NULL;
	return r11;
	label$032e923_2_20:
	r11 = Reflect_field(r6,r10);
	if( r11 ) goto label$032e923_2_40;
	r2 = r0->inputs;
	if( r2 == NULL ) hl_null_access();
	r3 = 1;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$032e923_2_29;
	r9 = NULL;
	goto label$032e923_2_32;
	label$032e923_2_29:
	r7 = r2->array;
	r13 = ((vdynamic**)(r7 + 1))[r3];
	r9 = (armory__logicnode__LogicNodeLink)r13;
	label$032e923_2_32:
	if( r9 == NULL ) hl_null_access();
	r8 = r9->fromNode;
	if( r8 == NULL ) hl_null_access();
	r3 = r9->fromIndex;
	r13 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r8->$type->vobj_proto[1])(r8,r3);
	r12 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	r13 = armory_logicnode_ReadStorageNode_parseArg(r12);
	r11 = r13;
	label$032e923_2_40:
	return r11;
}

vdynamic* armory_logicnode_ReadStorageNode_parseArg(String r0) {
	bool *r11;
	String r1, r2, r6;
	hl__types__ArrayObj r10;
	hl_type *r9;
	bool r3;
	double r15, r17;
	hl__types__ArrayDyn r7;
	vdynamic *r4, *r13, *r14, *r16, *r18, *r19;
	varray *r8;
	int r5, r12;
	r2 = (String)s$true;
	if( r0 != r2 && (!r0 || !r2 || String___compare(r0,(vdynamic*)r2) != 0) ) goto label$032e923_3_5;
	r3 = true;
	r4 = hl_alloc_dynbool(r3);
	return r4;
	label$032e923_3_5:
	r2 = (String)s$false;
	if( r0 != r2 && (!r0 || !r2 || String___compare(r0,(vdynamic*)r2) != 0) ) goto label$032e923_3_10;
	r3 = false;
	r4 = hl_alloc_dynbool(r3);
	return r4;
	label$032e923_3_10:
	if( r0 == NULL ) hl_null_access();
	r5 = 0;
	r1 = String_charAt(r0,r5);
	r2 = (String)s$3590cb8;
	if( r1 != r2 && (!r1 || !r2 || String___compare(r1,(vdynamic*)r2) != 0) ) goto label$032e923_3_19;
	r2 = (String)s$3590cb8;
	r6 = (String)s$;
	r1 = StringTools_replace(r0,r2,r6);
	return ((vdynamic*)r1);
	label$032e923_3_19:
	r5 = 0;
	r1 = String_charAt(r0,r5);
	r2 = (String)s$8154172;
	if( r1 != r2 && (!r1 || !r2 || String___compare(r1,(vdynamic*)r2) != 0) ) goto label$032e923_3_63;
	r2 = (String)s$8154172;
	r6 = (String)s$;
	r1 = StringTools_replace(r0,r2,r6);
	r2 = (String)s$0fbd177;
	r6 = (String)s$;
	r1 = StringTools_replace(r1,r2,r6);
	r2 = (String)s$7215ee9;
	r6 = (String)s$;
	r1 = StringTools_replace(r1,r2,r6);
	r9 = &t$_dyn;
	r5 = 0;
	r8 = hl_alloc_array(r9,r5);
	r10 = hl_types_ArrayObj_alloc(r8);
	r3 = true;
	r11 = &r3;
	r7 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r10),r11);
	r4 = ((vdynamic*)r7);
	if( r1 == NULL ) hl_null_access();
	r2 = (String)s$c0cb5f0;
	r10 = String_split(r1,r2);
	r5 = 0;
	label$032e923_3_44:
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r5 >= r12 ) goto label$032e923_3_62;
	r12 = r10->length;
	if( ((unsigned)r5) < ((unsigned)r12) ) goto label$032e923_3_52;
	r1 = NULL;
	goto label$032e923_3_55;
	label$032e923_3_52:
	r8 = r10->array;
	r13 = ((vdynamic**)(r8 + 1))[r5];
	r1 = (String)r13;
	label$032e923_3_55:
	++r5;
	if( r4 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r4,174133988/*push*/,&t$_dyn);
	if( r13 == NULL ) hl_null_access();
	r14 = armory_logicnode_ReadStorageNode_parseArg(r1);
	{
		vdynamic *args[] = {r14};
		r13 = (vdynamic*)hl_dyn_call((vclosure*)r13,args,1);
	}
	goto label$032e923_3_44;
	label$032e923_3_62:
	return r4;
	label$032e923_3_63:
	r15 = Std_parseFloat(r0);
	r16 = Std_parseInt(r0);
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r15;
	if( !r16 ) goto label$032e923_3_71;
	r5 = r16 ? r16->v.i : 0;
	r17 = (double)r5;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r17;
	goto label$032e923_3_72;
	label$032e923_3_71:
	r19 = NULL;
	label$032e923_3_72:
	if( r18 != r19 && (!r18 || !r19 || (r18->v.d != r19->v.d)) ) goto label$032e923_3_74;
	return ((vdynamic*)r16);
	label$032e923_3_74:
	r4 = hl_alloc_dynamic(&t$_f64);
	r4->v.d = r15;
	return r4;
}

