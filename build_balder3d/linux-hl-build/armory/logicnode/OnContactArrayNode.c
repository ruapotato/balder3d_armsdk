// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/logicnode/OnContactArrayNode.h>
#include <armory/logicnode/LogicNodeLink.h>
#include <iron/object/Object.h>
#include <armory/trait/physics/bullet/PhysicsWorld.h>
#include <iron/Trait.h>
#include <armory/trait/physics/bullet/RigidBody.h>
extern hl_type t$iron_object_Object;
extern hl_type t$_dyn;
extern hl_type t$hl_types_ArrayObj;
extern armory__trait__physics__bullet__$PhysicsWorld g$e9bc575;
extern armory__trait__physics__bullet__$RigidBody g$0d95481;
iron__Trait iron_object_Object_getTrait(iron__object__Object,hl__Class);
hl__types__ArrayObj armory_trait_physics_bullet_PhysicsWorld_getContacts(armory__trait__physics__bullet__PhysicsWorld,armory__trait__physics__bullet__RigidBody);
#include <hl/natives.h>
void armory_logicnode_LogicNode_runOutput(armory__logicnode__LogicNode,int);
void armory_logicnode_LogicNode_new(armory__logicnode__LogicNode,armory__logicnode__LogicTree);
extern hl_type t$fun_f47775e;
void iron_Trait_notifyOnUpdate(iron__Trait,vclosure*);

void armory_logicnode_OnContactArrayNode_update(armory__logicnode__OnContactArrayNode r0) {
	String r25;
	armory__trait__physics__bullet__PhysicsWorld r15;
	armory__trait__physics__bullet__RigidBody r19, r20, r23;
	armory__trait__physics__bullet__$PhysicsWorld r16;
	armory__logicnode__LogicTree r12;
	armory__logicnode__LogicNodeLink r4, r9;
	hl__types__ArrayObj r1, r13;
	bool r14, r24, r28;
	iron__Trait r17;
	armory__trait__physics__bullet__$RigidBody r18;
	armory__logicnode__LogicNode r8;
	iron__object__Object r10, r11;
	vdynamic *r5;
	vbyte *r26, *r27;
	varray *r6;
	int r2, r3, r21, r22;
	r1 = r0->inputs;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$1110ad0_1_7;
	r4 = NULL;
	goto label$1110ad0_1_10;
	label$1110ad0_1_7:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (armory__logicnode__LogicNodeLink)r5;
	label$1110ad0_1_10:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->fromNode;
	if( r8 == NULL ) hl_null_access();
	r2 = r4->fromIndex;
	r5 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r8->$type->vobj_proto[1])(r8,r2);
	r10 = (iron__object__Object)hl_dyn_castp(&r5,&t$_dyn,&t$iron_object_Object);
	r1 = r0->inputs;
	if( r1 == NULL ) hl_null_access();
	r2 = 1;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$1110ad0_1_23;
	r9 = NULL;
	goto label$1110ad0_1_26;
	label$1110ad0_1_23:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r9 = (armory__logicnode__LogicNodeLink)r5;
	label$1110ad0_1_26:
	if( r9 == NULL ) hl_null_access();
	r8 = r9->fromNode;
	if( r8 == NULL ) hl_null_access();
	r2 = r9->fromIndex;
	r5 = ((vdynamic* (*)(armory__logicnode__LogicNode,int))r8->$type->vobj_proto[1])(r8,r2);
	r1 = (hl__types__ArrayObj)hl_dyn_castp(&r5,&t$_dyn,&t$hl_types_ArrayObj);
	if( r10 ) goto label$1110ad0_1_37;
	r12 = r0->tree;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->object;
	r10 = r11;
	label$1110ad0_1_37:
	if( r1 ) goto label$1110ad0_1_39;
	return;
	label$1110ad0_1_39:
	r14 = false;
	r16 = (armory__trait__physics__bullet__$PhysicsWorld)g$e9bc575;
	r15 = r16->active;
	if( r10 == NULL ) hl_null_access();
	r18 = (armory__trait__physics__bullet__$RigidBody)g$0d95481;
	r17 = iron_object_Object_getTrait(r10,((hl__Class)r18));
	r19 = (armory__trait__physics__bullet__RigidBody)r17;
	if( r15 == NULL ) hl_null_access();
	r13 = armory_trait_physics_bullet_PhysicsWorld_getContacts(r15,r19);
	if( !r19 ) goto label$1110ad0_1_88;
	if( !r13 ) goto label$1110ad0_1_88;
	r2 = 0;
	label$1110ad0_1_51:
	if( r1 == NULL ) hl_null_access();
	r21 = r1->length;
	if( r2 >= r21 ) goto label$1110ad0_1_88;
	r21 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r21) ) goto label$1110ad0_1_59;
	r11 = NULL;
	goto label$1110ad0_1_62;
	label$1110ad0_1_59:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r11 = (iron__object__Object)r5;
	label$1110ad0_1_62:
	++r2;
	if( r11 == NULL ) hl_null_access();
	r18 = (armory__trait__physics__bullet__$RigidBody)g$0d95481;
	r17 = iron_object_Object_getTrait(r11,((hl__Class)r18));
	r20 = (armory__trait__physics__bullet__RigidBody)r17;
	r3 = 0;
	label$1110ad0_1_68:
	if( r13 == NULL ) hl_null_access();
	r22 = r13->length;
	if( r3 >= r22 ) goto label$1110ad0_1_85;
	r22 = r13->length;
	if( ((unsigned)r3) < ((unsigned)r22) ) goto label$1110ad0_1_76;
	r23 = NULL;
	goto label$1110ad0_1_79;
	label$1110ad0_1_76:
	r6 = r13->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r23 = (armory__trait__physics__bullet__RigidBody)r5;
	label$1110ad0_1_79:
	++r3;
	if( r23 != r20 ) goto label$1110ad0_1_84;
	r24 = true;
	r14 = r24;
	goto label$1110ad0_1_85;
	label$1110ad0_1_84:
	goto label$1110ad0_1_68;
	label$1110ad0_1_85:
	if( !r14 ) goto label$1110ad0_1_87;
	goto label$1110ad0_1_88;
	label$1110ad0_1_87:
	goto label$1110ad0_1_51;
	label$1110ad0_1_88:
	r24 = false;
	r25 = r0->property0;
	if( !r25 ) goto label$1110ad0_1_99;
	r2 = r25->length;
	r3 = 5;
	if( r2 != r3 ) goto label$1110ad0_1_99;
	r26 = r25->bytes;
	r27 = (vbyte*)USTR("begin");
	r2 = hl_string_compare(r26,r27,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$1110ad0_1_118;
	label$1110ad0_1_99:
	if( !r25 ) goto label$1110ad0_1_108;
	r2 = r25->length;
	r3 = 3;
	if( r2 != r3 ) goto label$1110ad0_1_108;
	r26 = r25->bytes;
	r27 = (vbyte*)USTR("end");
	r2 = hl_string_compare(r26,r27,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$1110ad0_1_126;
	label$1110ad0_1_108:
	if( !r25 ) goto label$1110ad0_1_117;
	r2 = r25->length;
	r3 = 7;
	if( r2 != r3 ) goto label$1110ad0_1_117;
	r26 = r25->bytes;
	r27 = (vbyte*)USTR("overlap");
	r2 = hl_string_compare(r26,r27,r2);
	r3 = 0;
	if( r2 == r3 ) goto label$1110ad0_1_134;
	label$1110ad0_1_117:
	goto label$1110ad0_1_135;
	label$1110ad0_1_118:
	if( !r14 ) goto label$1110ad0_1_123;
	r28 = r0->lastContact;
	if( r28 ) goto label$1110ad0_1_123;
	r28 = true;
	goto label$1110ad0_1_124;
	label$1110ad0_1_123:
	r28 = false;
	label$1110ad0_1_124:
	r24 = r28;
	goto label$1110ad0_1_135;
	label$1110ad0_1_126:
	if( r14 ) goto label$1110ad0_1_131;
	r28 = r0->lastContact;
	if( !r28 ) goto label$1110ad0_1_131;
	r28 = true;
	goto label$1110ad0_1_132;
	label$1110ad0_1_131:
	r28 = false;
	label$1110ad0_1_132:
	r24 = r28;
	goto label$1110ad0_1_135;
	label$1110ad0_1_134:
	r24 = r14;
	label$1110ad0_1_135:
	r0->lastContact = r14;
	if( !r24 ) goto label$1110ad0_1_139;
	r2 = 0;
	armory_logicnode_LogicNode_runOutput(((armory__logicnode__LogicNode)r0),r2);
	label$1110ad0_1_139:
	return;
}

void armory_logicnode_OnContactArrayNode_new(armory__logicnode__OnContactArrayNode r0,armory__logicnode__LogicTree r1) {
	bool r2;
	vclosure *r4;
	r2 = false;
	r0->lastContact = r2;
	armory_logicnode_LogicNode_new(((armory__logicnode__LogicNode)r0),r1);
	if( r1 == NULL ) hl_null_access();
	r4 = hl_alloc_closure_ptr(&t$fun_f47775e,armory_logicnode_OnContactArrayNode_update,r0);
	iron_Trait_notifyOnUpdate(((iron__Trait)r1),r4);
	return;
}

