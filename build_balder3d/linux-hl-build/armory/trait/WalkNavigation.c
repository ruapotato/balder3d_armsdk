// Generated by HLC 4.2.5 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/trait/WalkNavigation.h>
#include <haxe/Exception.h>
#include <_std/String.h>
#include <hl/types/ArrayDyn.h>
#include <haxe/Log.h>
iron__system__Keyboard iron_system_Input_getKeyboard(void);
iron__system__Gamepad iron_system_Input_getGamepad(int*);
iron__system__Mouse iron_system_Input_getMouse(void);
extern hl_type t$iron_object_CameraObject;
extern hl_type t$iron_object_Object;
haxe__Exception haxe_Exception_caught(vdynamic*);
extern $String g$_String;
bool Std_isOfType(vdynamic*,vdynamic*);
extern hl_type t$String;
extern hl_type t$_dyn;
extern haxe__$Log g$_haxe_Log;
extern String s$Error_occurred_;
String String___add__(String,String);
extern String s$84a45fd;
extern hl_type t$vrt_329ffa8;
extern String s$ee82f84;
extern hl_type t$_i32;
extern String s$armory_trait_WalkNavigation;
extern String s$init;
extern hl_type t$vrt_eaa6a3b;
void armory_trait_WalkNavigation_update(armory__trait__WalkNavigation);
extern hl_type t$fun_c230b95;
void iron_Trait_notifyOnUpdate(iron__Trait,vclosure*);
#include <iron/system/Input.h>
#include <iron/system/GamepadStick.h>
#include <kha/math/FastMatrix4.h>
#include <iron/math/Mat4.h>
#include <iron/object/Transform.h>
extern armory__trait__$WalkNavigation g$_armory_trait_WalkNavigation;
extern iron__system__$Input g$_iron_system_Input;
extern String s$w;
bool iron_system_Keyboard_down(iron__system__Keyboard,String);
extern String s$up;
extern String s$s;
extern String s$down;
extern String s$a;
extern String s$left;
extern String s$d;
extern String s$right;
extern String s$e;
extern String s$q;
extern String s$shift;
extern String s$alt;
#include <hl/natives.h>
extern String s$r1;
double iron_system_Gamepad_down(iron__system__Gamepad,String);
extern String s$l1;
double iron_system_Time_get_delta(void);
void iron_object_Transform_move(iron__object__Transform,iron__math__Vec4,double*);
extern hl_type t$iron_math_Vec4;
void iron_math_Vec4_new(iron__math__Vec4,float*,float*,float*,float*);
void iron_object_Transform_rotate(iron__object__Transform,iron__math__Vec4,float);
bool iron_system_Mouse_down(iron__system__Mouse,String);
void iron_Trait_new(iron__Trait);
void iron_Trait_notifyOnInit(iron__Trait,vclosure*);

void armory_trait_WalkNavigation_init(armory__trait__WalkNavigation r0) {
	String r13, r16, r17;
	$String r12;
	vvirtual *r18, *r20;
	bool r11;
	iron__system__Gamepad r2;
	iron__system__Mouse r4;
	haxe__$Log r15;
	iron__system__Keyboard r1;
	vclosure *r14, *r21;
	iron__object__CameraObject r8;
	haxe__Exception r10;
	iron__object__Object r7;
	vdynamic *r5, *r9;
	int *r3;
	int r19;
	hl_trap_ctx trap$0;
	r1 = iron_system_Input_getKeyboard();
	r0->keyboard = r1;
	r3 = NULL;
	r2 = iron_system_Input_getGamepad(r3);
	r0->gamepad = r2;
	r4 = iron_system_Input_getMouse();
	r0->mouse = r4;
	hl_trap(trap$0,r5,label$3acf783_1_13);
	r7 = r0->object;
	r8 = (iron__object__CameraObject)hl_dyn_castp(&r7,&t$iron_object_Object,&t$iron_object_CameraObject);
	r0->camera = r8;
	hl_endtrap(trap$0);
	goto label$3acf783_1_41;
	label$3acf783_1_13:
	r9 = NULL;
	r10 = haxe_Exception_caught(r5);
	if( r10 == NULL ) hl_null_access();
	r9 = ((vdynamic* (*)(haxe__Exception))r10->$type->vobj_proto[0])(r10);
	r12 = ($String)g$_String;
	r11 = Std_isOfType(r9,((vdynamic*)r12));
	if( !r11 ) goto label$3acf783_1_40;
	r13 = (String)hl_dyn_castp(&r9,&t$_dyn,&t$String);
	r15 = (haxe__$Log)g$_haxe_Log;
	r14 = r15->trace;
	if( r14 == NULL ) hl_null_access();
	r16 = (String)s$Error_occurred_;
	r16 = String___add__(r16,r13);
	r17 = (String)s$84a45fd;
	r16 = String___add__(r16,r17);
	r18 = hl_alloc_virtual(&t$vrt_329ffa8);
	r17 = (String)s$ee82f84;
	if( hl_vfields(r18)[1] ) *(String*)(hl_vfields(r18)[1]) = (String)r17; else hl_dyn_setp(r18->value,37969014/*fileName*/,&t$String,r17);
	r19 = 38;
	if( hl_vfields(r18)[2] ) *(int*)(hl_vfields(r18)[2]) = (int)r19; else hl_dyn_seti(r18->value,371360620/*lineNumber*/,&t$_i32,r19);
	r17 = (String)s$armory_trait_WalkNavigation;
	if( hl_vfields(r18)[0] ) *(String*)(hl_vfields(r18)[0]) = (String)r17; else hl_dyn_setp(r18->value,-63073762/*className*/,&t$String,r17);
	r17 = (String)s$init;
	if( hl_vfields(r18)[3] ) *(String*)(hl_vfields(r18)[3]) = (String)r17; else hl_dyn_setp(r18->value,302979532/*methodName*/,&t$String,r17);
	r20 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r18);
	r14->hasValue ? ((void (*)(vdynamic*,vdynamic*,vvirtual*))r14->fun)((vdynamic*)r14->value,((vdynamic*)r16),r20) : ((void (*)(vdynamic*,vvirtual*))r14->fun)(((vdynamic*)r16),r20);
	goto label$3acf783_1_41;
	label$3acf783_1_40:
	hl_rethrow((vdynamic*)r5);
	label$3acf783_1_41:
	r8 = r0->camera;
	if( !r8 ) goto label$3acf783_1_45;
	r21 = hl_alloc_closure_ptr(&t$fun_c230b95,armory_trait_WalkNavigation_update,r0);
	iron_Trait_notifyOnUpdate(((iron__Trait)r0),r21);
	label$3acf783_1_45:
	return;
}

void armory_trait_WalkNavigation_update(armory__trait__WalkNavigation r0) {
	String r6;
	armory__trait__$WalkNavigation r3;
	kha__math__FastMatrix4 r28;
	iron__system__Gamepad r14;
	bool r2, r7, r8, r9, r10, r11, r13, r18, r19, r20, r21, r22;
	iron__system__Mouse r60;
	iron__math__Vec4 r23, r24;
	iron__object__Transform r30, r43;
	iron__system__GamepadStick r16;
	iron__system__Keyboard r5;
	iron__math__Mat4 r29;
	float r26, r32, r33, r34, r35, r44, r45, r46, r47, r48, r49, r51, r52, r53, r54, r55, r56, r57, r58, r59;
	iron__object__CameraObject r27, r31, r50;
	double r12, r15, r17, r37, r42, r62;
	double *r36;
	iron__system__$Input r4;
	float *r38, *r39, *r40, *r41;
	int r25, r61;
	r3 = (armory__trait__$WalkNavigation)g$_armory_trait_WalkNavigation;
	r2 = r3->enabled;
	if( !r2 ) goto label$3acf783_2_6;
	r4 = (iron__system__$Input)g$_iron_system_Input;
	r2 = r4->occupied;
	if( !r2 ) goto label$3acf783_2_7;
	label$3acf783_2_6:
	return;
	label$3acf783_2_7:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$w;
	r2 = iron_system_Keyboard_down(r5,r6);
	if( r2 ) goto label$3acf783_2_19;
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$up;
	r2 = iron_system_Keyboard_down(r5,r6);
	if( r2 ) goto label$3acf783_2_19;
	r2 = false;
	goto label$3acf783_2_20;
	label$3acf783_2_19:
	r2 = true;
	label$3acf783_2_20:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$s;
	r7 = iron_system_Keyboard_down(r5,r6);
	if( r7 ) goto label$3acf783_2_32;
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$down;
	r7 = iron_system_Keyboard_down(r5,r6);
	if( r7 ) goto label$3acf783_2_32;
	r7 = false;
	goto label$3acf783_2_33;
	label$3acf783_2_32:
	r7 = true;
	label$3acf783_2_33:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$a;
	r8 = iron_system_Keyboard_down(r5,r6);
	if( r8 ) goto label$3acf783_2_45;
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$left;
	r8 = iron_system_Keyboard_down(r5,r6);
	if( r8 ) goto label$3acf783_2_45;
	r8 = false;
	goto label$3acf783_2_46;
	label$3acf783_2_45:
	r8 = true;
	label$3acf783_2_46:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$d;
	r9 = iron_system_Keyboard_down(r5,r6);
	if( r9 ) goto label$3acf783_2_58;
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$right;
	r9 = iron_system_Keyboard_down(r5,r6);
	if( r9 ) goto label$3acf783_2_58;
	r9 = false;
	goto label$3acf783_2_59;
	label$3acf783_2_58:
	r9 = true;
	label$3acf783_2_59:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$e;
	r10 = iron_system_Keyboard_down(r5,r6);
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$q;
	r11 = iron_system_Keyboard_down(r5,r6);
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$shift;
	r13 = iron_system_Keyboard_down(r5,r6);
	if( !r13 ) goto label$3acf783_2_74;
	r12 = 2.;
	goto label$3acf783_2_82;
	label$3acf783_2_74:
	r5 = r0->keyboard;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$alt;
	r13 = iron_system_Keyboard_down(r5,r6);
	if( !r13 ) goto label$3acf783_2_81;
	r12 = 0.5;
	goto label$3acf783_2_82;
	label$3acf783_2_81:
	r12 = 1.;
	label$3acf783_2_82:
	r14 = r0->gamepad;
	if( !r14 ) goto label$3acf783_2_417;
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->leftStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->y;
	r15 = hl_math_abs(r15);
	r17 = 0.05000000000000000278;
	if( r15 > r17 ) goto label$3acf783_2_94;
	r13 = false;
	goto label$3acf783_2_95;
	label$3acf783_2_94:
	r13 = true;
	label$3acf783_2_95:
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->leftStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->x;
	r15 = hl_math_abs(r15);
	r17 = 0.05000000000000000278;
	if( r15 > r17 ) goto label$3acf783_2_105;
	r18 = false;
	goto label$3acf783_2_106;
	label$3acf783_2_105:
	r18 = true;
	label$3acf783_2_106:
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r6 = (String)s$r1;
	r15 = iron_system_Gamepad_down(r14,r6);
	r17 = 0.;
	if( r15 > r17 ) goto label$3acf783_2_114;
	r19 = false;
	goto label$3acf783_2_115;
	label$3acf783_2_114:
	r19 = true;
	label$3acf783_2_115:
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r6 = (String)s$l1;
	r15 = iron_system_Gamepad_down(r14,r6);
	r17 = 0.;
	if( r15 > r17 ) goto label$3acf783_2_123;
	r20 = false;
	goto label$3acf783_2_124;
	label$3acf783_2_123:
	r20 = true;
	label$3acf783_2_124:
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rightStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->x;
	r15 = hl_math_abs(r15);
	r17 = 0.1000000000000000056;
	if( r15 > r17 ) goto label$3acf783_2_134;
	r21 = false;
	goto label$3acf783_2_135;
	label$3acf783_2_134:
	r21 = true;
	label$3acf783_2_135:
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rightStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->y;
	r15 = hl_math_abs(r15);
	r17 = 0.1000000000000000056;
	if( r15 > r17 ) goto label$3acf783_2_145;
	r22 = false;
	goto label$3acf783_2_146;
	label$3acf783_2_145:
	r22 = true;
	label$3acf783_2_146:
	if( r13 ) goto label$3acf783_2_152;
	if( r18 ) goto label$3acf783_2_152;
	if( r19 ) goto label$3acf783_2_152;
	if( r20 ) goto label$3acf783_2_152;
	if( r21 ) goto label$3acf783_2_152;
	if( !r22 ) goto label$3acf783_2_417;
	label$3acf783_2_152:
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r25 = 0;
	r26 = (float)r25;
	r23->x = r26;
	r25 = 0;
	r26 = (float)r25;
	r23->y = r26;
	r25 = 0;
	r26 = (float)r25;
	r23->z = r26;
	r15 = 1.;
	r26 = (float)r15;
	r23->w = r26;
	if( !r13 ) goto label$3acf783_2_234;
	r23 = r0->yvec;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r26 = r28->_20;
	r26 = -r26;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r32 = r28->_21;
	r32 = -r32;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r33 = r28->_22;
	r33 = -r33;
	r15 = 1.;
	r34 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r23->x = r26;
	r23->y = r32;
	r23->z = r33;
	r23->w = r34;
	r23 = r0->yvec;
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->leftStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->y;
	r26 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r32 = r23->x;
	r32 = r32 * r26;
	r23->x = r32;
	r32 = r23->y;
	r32 = r32 * r26;
	r23->y = r32;
	r32 = r23->z;
	r32 = r32 * r26;
	r23->z = r32;
	r23 = r0->dir;
	r24 = r0->yvec;
	if( r23 == NULL ) hl_null_access();
	r26 = r23->x;
	if( r24 == NULL ) hl_null_access();
	r32 = r24->x;
	r26 = r26 + r32;
	r23->x = r26;
	r26 = r23->y;
	r32 = r24->y;
	r26 = r26 + r32;
	r23->y = r26;
	r26 = r23->z;
	r32 = r24->z;
	r26 = r26 + r32;
	r23->z = r26;
	label$3acf783_2_234:
	if( !r18 ) goto label$3acf783_2_299;
	r23 = r0->xvec;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r26 = r28->_00;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r32 = r28->_01;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r33 = r28->_02;
	r15 = 1.;
	r34 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r23->x = r26;
	r23->y = r32;
	r23->z = r33;
	r23->w = r34;
	r23 = r0->xvec;
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->leftStick;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->x;
	r26 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r32 = r23->x;
	r32 = r32 * r26;
	r23->x = r32;
	r32 = r23->y;
	r32 = r32 * r26;
	r23->y = r32;
	r32 = r23->z;
	r32 = r32 * r26;
	r23->z = r32;
	r23 = r0->dir;
	r24 = r0->xvec;
	if( r23 == NULL ) hl_null_access();
	r26 = r23->x;
	if( r24 == NULL ) hl_null_access();
	r32 = r24->x;
	r26 = r26 + r32;
	r23->x = r26;
	r26 = r23->y;
	r32 = r24->y;
	r26 = r26 + r32;
	r23->y = r26;
	r26 = r23->z;
	r32 = r24->z;
	r26 = r26 + r32;
	r23->z = r26;
	label$3acf783_2_299:
	if( !r19 ) goto label$3acf783_2_317;
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r26 = r23->x;
	r25 = 0;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->x = r26;
	r26 = r23->y;
	r25 = 0;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->y = r26;
	r26 = r23->z;
	r25 = 1;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->z = r26;
	label$3acf783_2_317:
	if( !r20 ) goto label$3acf783_2_335;
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r26 = r23->x;
	r25 = 0;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->x = r26;
	r26 = r23->y;
	r25 = 0;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->y = r26;
	r26 = r23->z;
	r25 = -1;
	r32 = (float)r25;
	r26 = r26 + r32;
	r23->z = r26;
	label$3acf783_2_335:
	r15 = iron_system_Time_get_delta();
	r17 = r0->speed;
	r15 = r15 * r17;
	r15 = r15 * r12;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = r0->dir;
	r17 = r15;
	r36 = &r17;
	iron_object_Transform_move(r30,r23,r36);
	if( !r21 ) goto label$3acf783_2_374;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	r37 = 0.;
	r26 = (float)r37;
	r38 = &r26;
	r37 = 0.;
	r32 = (float)r37;
	r39 = &r32;
	r37 = 1.;
	r33 = (float)r37;
	r40 = &r33;
	r41 = NULL;
	iron_math_Vec4_new(r23,r38,r39,r40,r41);
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rightStick;
	if( r16 == NULL ) hl_null_access();
	r37 = r16->x;
	r37 = -r37;
	r42 = 15.;
	r37 = r37 / r42;
	r34 = (float)r37;
	iron_object_Transform_rotate(r30,r23,r34);
	label$3acf783_2_374:
	if( !r22 ) goto label$3acf783_2_417;
	r27 = r0->camera;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	if( r27 == NULL ) hl_null_access();
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r34 = r28->_00;
	r38 = &r34;
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r35 = r28->_01;
	r39 = &r35;
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r44 = r28->_02;
	r40 = &r44;
	r41 = NULL;
	iron_math_Vec4_new(r23,r38,r39,r40,r41);
	r14 = r0->gamepad;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rightStick;
	if( r16 == NULL ) hl_null_access();
	r37 = r16->y;
	r42 = 15.;
	r37 = r37 / r42;
	r45 = (float)r37;
	iron_object_Transform_rotate(r30,r23,r45);
	label$3acf783_2_417:
	if( r2 ) goto label$3acf783_2_423;
	if( r7 ) goto label$3acf783_2_423;
	if( r9 ) goto label$3acf783_2_423;
	if( r8 ) goto label$3acf783_2_423;
	if( r10 ) goto label$3acf783_2_423;
	if( !r11 ) goto label$3acf783_2_857;
	label$3acf783_2_423:
	r15 = r0->ease;
	r37 = iron_system_Time_get_delta();
	r42 = 15.;
	r37 = r37 * r42;
	r15 = r15 + r37;
	r0->ease = r15;
	r15 = r0->ease;
	r37 = 1.;
	if( !(r37 < r15) ) goto label$3acf783_2_434;
	r15 = 1.;
	r0->ease = r15;
	label$3acf783_2_434:
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r25 = 0;
	r45 = (float)r25;
	r23->x = r45;
	r25 = 0;
	r45 = (float)r25;
	r23->y = r45;
	r25 = 0;
	r45 = (float)r25;
	r23->z = r45;
	r15 = 1.;
	r45 = (float)r15;
	r23->w = r45;
	if( !r2 ) goto label$3acf783_2_544;
	r23 = r0->dir;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r45 = r28->_20;
	r45 = -r45;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r46 = r28->_21;
	r46 = -r46;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r47 = r28->_22;
	r47 = -r47;
	r15 = 1.;
	r48 = (float)r15;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r49 = r28->_20;
	r49 = -r49;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r51 = r28->_21;
	r51 = -r51;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r52 = r28->_22;
	r52 = -r52;
	r15 = 1.;
	r53 = (float)r15;
	r50 = r0->camera;
	if( r50 == NULL ) hl_null_access();
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r54 = r28->_20;
	r54 = -r54;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r55 = r28->_21;
	r55 = -r55;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r56 = r28->_22;
	r56 = -r56;
	r15 = 1.;
	r57 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r58 = r23->x;
	r58 = r58 + r45;
	r23->x = r58;
	r58 = r23->y;
	r58 = r58 + r51;
	r23->y = r58;
	r58 = r23->z;
	r58 = r58 + r56;
	r23->z = r58;
	label$3acf783_2_544:
	if( !r7 ) goto label$3acf783_2_643;
	r23 = r0->dir;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r45 = r28->_20;
	r45 = -r45;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r46 = r28->_21;
	r46 = -r46;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r47 = r28->_22;
	r47 = -r47;
	r15 = 1.;
	r48 = (float)r15;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r49 = r28->_20;
	r49 = -r49;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r51 = r28->_21;
	r51 = -r51;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r52 = r28->_22;
	r52 = -r52;
	r15 = 1.;
	r53 = (float)r15;
	r50 = r0->camera;
	if( r50 == NULL ) hl_null_access();
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r54 = r28->_20;
	r54 = -r54;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r55 = r28->_21;
	r55 = -r55;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r56 = r28->_22;
	r56 = -r56;
	r15 = 1.;
	r57 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r58 = r23->x;
	r59 = -r45;
	r58 = r58 + r59;
	r23->x = r58;
	r58 = r23->y;
	r59 = -r51;
	r58 = r58 + r59;
	r23->y = r58;
	r58 = r23->z;
	r59 = -r56;
	r58 = r58 + r59;
	r23->z = r58;
	label$3acf783_2_643:
	if( !r9 ) goto label$3acf783_2_730;
	r23 = r0->dir;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r45 = r28->_00;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r46 = r28->_01;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r47 = r28->_02;
	r15 = 1.;
	r48 = (float)r15;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r49 = r28->_00;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r51 = r28->_01;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r52 = r28->_02;
	r15 = 1.;
	r53 = (float)r15;
	r50 = r0->camera;
	if( r50 == NULL ) hl_null_access();
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r54 = r28->_00;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r55 = r28->_01;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r56 = r28->_02;
	r15 = 1.;
	r57 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r58 = r23->x;
	r58 = r58 + r45;
	r23->x = r58;
	r58 = r23->y;
	r58 = r58 + r51;
	r23->y = r58;
	r58 = r23->z;
	r58 = r58 + r56;
	r23->z = r58;
	label$3acf783_2_730:
	if( !r8 ) goto label$3acf783_2_820;
	r23 = r0->dir;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r45 = r28->_00;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r46 = r28->_01;
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r47 = r28->_02;
	r15 = 1.;
	r48 = (float)r15;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r49 = r28->_00;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r51 = r28->_01;
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r52 = r28->_02;
	r15 = 1.;
	r53 = (float)r15;
	r50 = r0->camera;
	if( r50 == NULL ) hl_null_access();
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r54 = r28->_00;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r55 = r28->_01;
	r30 = r50->transform;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r56 = r28->_02;
	r15 = 1.;
	r57 = (float)r15;
	if( r23 == NULL ) hl_null_access();
	r58 = r23->x;
	r59 = -r45;
	r58 = r58 + r59;
	r23->x = r58;
	r58 = r23->y;
	r59 = -r51;
	r58 = r58 + r59;
	r23->y = r58;
	r58 = r23->z;
	r59 = -r56;
	r58 = r58 + r59;
	r23->z = r58;
	label$3acf783_2_820:
	if( !r10 ) goto label$3acf783_2_838;
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r45 = r23->x;
	r25 = 0;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->x = r45;
	r45 = r23->y;
	r25 = 0;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->y = r45;
	r45 = r23->z;
	r25 = 1;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->z = r45;
	label$3acf783_2_838:
	if( !r11 ) goto label$3acf783_2_856;
	r23 = r0->dir;
	if( r23 == NULL ) hl_null_access();
	r45 = r23->x;
	r25 = 0;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->x = r45;
	r45 = r23->y;
	r25 = 0;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->y = r45;
	r45 = r23->z;
	r25 = -1;
	r46 = (float)r25;
	r45 = r45 + r46;
	r23->z = r45;
	label$3acf783_2_856:
	goto label$3acf783_2_870;
	label$3acf783_2_857:
	r15 = r0->ease;
	r37 = iron_system_Time_get_delta();
	r42 = 20.;
	r37 = r37 * r42;
	r42 = r0->ease;
	r37 = r37 * r42;
	r15 = r15 - r37;
	r0->ease = r15;
	r15 = r0->ease;
	r37 = 0.;
	if( !(r15 < r37) ) goto label$3acf783_2_870;
	r15 = 0.;
	r0->ease = r15;
	label$3acf783_2_870:
	r60 = r0->mouse;
	if( r60 == NULL ) hl_null_access();
	r25 = r60->wheelDelta;
	r61 = 0;
	if( r25 >= r61 ) goto label$3acf783_2_880;
	r15 = r0->speed;
	r37 = 1.100000000000000089;
	r15 = r15 * r37;
	r0->speed = r15;
	goto label$3acf783_2_894;
	label$3acf783_2_880:
	r60 = r0->mouse;
	if( r60 == NULL ) hl_null_access();
	r25 = r60->wheelDelta;
	r61 = 0;
	if( r61 >= r25 ) goto label$3acf783_2_894;
	r15 = r0->speed;
	r37 = 0.9000000000000000222;
	r15 = r15 * r37;
	r0->speed = r15;
	r15 = r0->speed;
	r37 = 0.5;
	if( !(r15 < r37) ) goto label$3acf783_2_894;
	r15 = 0.5;
	r0->speed = r15;
	label$3acf783_2_894:
	r15 = iron_system_Time_get_delta();
	r37 = r0->speed;
	r15 = r15 * r37;
	r15 = r15 * r12;
	r37 = r0->ease;
	r15 = r15 * r37;
	r42 = 0.;
	if( !(r42 < r15) ) goto label$3acf783_2_910;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = r0->dir;
	r37 = r15;
	r36 = &r37;
	iron_object_Transform_move(r30,r23,r36);
	label$3acf783_2_910:
	r60 = r0->mouse;
	if( r60 == NULL ) hl_null_access();
	r6 = NULL;
	r13 = iron_system_Mouse_down(r60,r6);
	if( !r13 ) goto label$3acf783_2_980;
	r27 = r0->camera;
	if( r27 == NULL ) hl_null_access();
	r30 = r27->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	r42 = 0.;
	r45 = (float)r42;
	r38 = &r45;
	r42 = 0.;
	r46 = (float)r42;
	r39 = &r46;
	r42 = 1.;
	r47 = (float)r42;
	r40 = &r47;
	r41 = NULL;
	iron_math_Vec4_new(r23,r38,r39,r40,r41);
	r60 = r0->mouse;
	if( r60 == NULL ) hl_null_access();
	r42 = r60->movementX;
	r42 = -r42;
	r62 = 200.;
	r42 = r42 / r62;
	r48 = (float)r42;
	iron_object_Transform_rotate(r30,r23,r48);
	r27 = r0->camera;
	r31 = r0->camera;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->transform;
	if( r30 == NULL ) hl_null_access();
	r23 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	if( r27 == NULL ) hl_null_access();
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r48 = r28->_00;
	r38 = &r48;
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r49 = r28->_01;
	r39 = &r49;
	r43 = r27->transform;
	if( r43 == NULL ) hl_null_access();
	r29 = r43->local;
	if( r29 == NULL ) hl_null_access();
	r28 = r29->self;
	if( r28 == NULL ) hl_null_access();
	r51 = r28->_02;
	r40 = &r51;
	r41 = NULL;
	iron_math_Vec4_new(r23,r38,r39,r40,r41);
	r60 = r0->mouse;
	if( r60 == NULL ) hl_null_access();
	r42 = r60->movementY;
	r42 = -r42;
	r62 = 200.;
	r42 = r42 / r62;
	r52 = (float)r42;
	iron_object_Transform_rotate(r30,r23,r52);
	label$3acf783_2_980:
	return;
}

void armory_trait_WalkNavigation_new(armory__trait__WalkNavigation r0) {
	iron__math__Vec4 r2;
	vclosure *r8;
	double r1;
	float *r3, *r4, *r5, *r6;
	r1 = 1.;
	r0->ease = r1;
	r2 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	iron_math_Vec4_new(r2,r3,r4,r5,r6);
	r0->yvec = r2;
	r2 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	iron_math_Vec4_new(r2,r3,r4,r5,r6);
	r0->xvec = r2;
	r2 = (iron__math__Vec4)hl_alloc_obj(&t$iron_math_Vec4);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	iron_math_Vec4_new(r2,r3,r4,r5,r6);
	r0->dir = r2;
	r1 = 5.;
	r0->speed = r1;
	iron_Trait_new(((iron__Trait)r0));
	r8 = hl_alloc_closure_ptr(&t$fun_c230b95,armory_trait_WalkNavigation_init,r0);
	iron_Trait_notifyOnInit(((iron__Trait)r0),r8);
	return;
}

